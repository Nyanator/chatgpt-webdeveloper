(function(){"use strict";var C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function K0(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var a=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return r[n]}})}),t}var Ie={},et={};/*! *****************************************************************************
	Copyright (C) Microsoft. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Y0;(function(r){(function(e){var t=typeof C=="object"?C:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),n=a(r);typeof t.Reflect>"u"?t.Reflect=r:n=a(t.Reflect,n),e(n);function a(i,o){return function(c,l){typeof i[c]!="function"&&Object.defineProperty(i,c,{configurable:!0,writable:!0,value:l}),o&&o(c,l)}}})(function(e){var t=Object.prototype.hasOwnProperty,n=typeof Symbol=="function",a=n&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",i=n&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",o=typeof Object.create=="function",c={__proto__:[]}instanceof Array,l=!o&&!c,s={create:o?function(){return je(Object.create(null))}:c?function(){return je({__proto__:null})}:function(){return je({})},has:l?function(m,B){return t.call(m,B)}:function(m,B){return B in m},get:l?function(m,B){return t.call(m,B)?m[B]:void 0}:function(m,B){return m[B]}},u=Object.getPrototypeOf(Function),_=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",f=!_&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Je(),d=!_&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Oe(),h=!_&&typeof WeakMap=="function"?WeakMap:me(),v=new h;function g(m,B,T,$){if(A(T)){if(!Ne(m))throw new TypeError;if(!Ve(B))throw new TypeError;return b(m,B)}else{if(!Ne(m))throw new TypeError;if(!R(B))throw new TypeError;if(!R($)&&!A($)&&!M($))throw new TypeError;return M($)&&($=void 0),T=ye(T),j(m,B,T,$)}}e("decorate",g);function E(m,B){function T($,L){if(!R($))throw new TypeError;if(!A(L)&&!we(L))throw new TypeError;ae(m,B,$,L)}return T}e("metadata",E);function x(m,B,T,$){if(!R(T))throw new TypeError;return A($)||($=ye($)),ae(m,B,T,$)}e("defineMetadata",x);function p(m,B,T){if(!R(B))throw new TypeError;return A(T)||(T=ye(T)),D(m,B,T)}e("hasMetadata",p);function y(m,B,T){if(!R(B))throw new TypeError;return A(T)||(T=ye(T)),N(m,B,T)}e("hasOwnMetadata",y);function O(m,B,T){if(!R(B))throw new TypeError;return A(T)||(T=ye(T)),z(m,B,T)}e("getMetadata",O);function w(m,B,T){if(!R(B))throw new TypeError;return A(T)||(T=ye(T)),F(m,B,T)}e("getOwnMetadata",w);function S(m,B){if(!R(m))throw new TypeError;return A(B)||(B=ye(B)),J(m,B)}e("getMetadataKeys",S);function P(m,B){if(!R(m))throw new TypeError;return A(B)||(B=ye(B)),re(m,B)}e("getOwnMetadataKeys",P);function k(m,B,T){if(!R(B))throw new TypeError;A(T)||(T=ye(T));var $=I(B,T,!1);if(A($)||!$.delete(m))return!1;if($.size>0)return!0;var L=v.get(B);return L.delete(T),L.size>0||v.delete(B),!0}e("deleteMetadata",k);function b(m,B){for(var T=m.length-1;T>=0;--T){var $=m[T],L=$(B);if(!A(L)&&!M(L)){if(!Ve(L))throw new TypeError;B=L}}return B}function j(m,B,T,$){for(var L=m.length-1;L>=0;--L){var se=m[L],W=se(B,T,$);if(!A(W)&&!M(W)){if(!R(W))throw new TypeError;$=W}}return $}function I(m,B,T){var $=v.get(m);if(A($)){if(!T)return;$=new f,v.set(m,$)}var L=$.get(B);if(A(L)){if(!T)return;L=new f,$.set(B,L)}return L}function D(m,B,T){var $=N(m,B,T);if($)return!0;var L=Qe(B);return M(L)?!1:D(m,L,T)}function N(m,B,T){var $=I(B,T,!1);return A($)?!1:ve($.has(m))}function z(m,B,T){var $=N(m,B,T);if($)return F(m,B,T);var L=Qe(B);if(!M(L))return z(m,L,T)}function F(m,B,T){var $=I(B,T,!1);if(!A($))return $.get(m)}function ae(m,B,T,$){var L=I(T,$,!0);L.set(m,B)}function J(m,B){var T=re(m,B),$=Qe(m);if($===null)return T;var L=J($,B);if(L.length<=0)return T;if(T.length<=0)return L;for(var se=new d,W=[],q=0,V=T;q<V.length;q++){var Y=V[q],Z=se.has(Y);Z||(se.add(Y),W.push(Y))}for(var Pe=0,xr=L;Pe<xr.length;Pe++){var Y=xr[Pe],Z=se.has(Y);Z||(se.add(Y),W.push(Y))}return W}function re(m,B){var T=[],$=I(m,B,!1);if(A($))return T;for(var L=$.keys(),se=vt(L),W=0;;){var q=xt(se);if(!q)return T.length=W,T;var V=Ke(q);try{T[W]=V}catch(Y){try{Ye(se)}finally{throw Y}}W++}}function ee(m){if(m===null)return 1;switch(typeof m){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return m===null?1:6;default:return 6}}function A(m){return m===void 0}function M(m){return m===null}function H(m){return typeof m=="symbol"}function R(m){return typeof m=="object"?m!==null:typeof m=="function"}function oe(m,B){switch(ee(m)){case 0:return m;case 1:return m;case 2:return m;case 3:return m;case 4:return m;case 5:return m}var T=B===3?"string":B===5?"number":"default",$=xe(m,a);if($!==void 0){var L=$.call(m,T);if(R(L))throw new TypeError;return L}return ie(m,T==="default"?"number":T)}function ie(m,B){if(B==="string"){var T=m.toString;if(Be(T)){var $=T.call(m);if(!R($))return $}var L=m.valueOf;if(Be(L)){var $=L.call(m);if(!R($))return $}}else{var L=m.valueOf;if(Be(L)){var $=L.call(m);if(!R($))return $}var se=m.toString;if(Be(se)){var $=se.call(m);if(!R($))return $}}throw new TypeError}function ve(m){return!!m}function U(m){return""+m}function ye(m){var B=oe(m,3);return H(B)?B:U(B)}function Ne(m){return Array.isArray?Array.isArray(m):m instanceof Object?m instanceof Array:Object.prototype.toString.call(m)==="[object Array]"}function Be(m){return typeof m=="function"}function Ve(m){return typeof m=="function"}function we(m){switch(ee(m)){case 3:return!0;case 4:return!0;default:return!1}}function xe(m,B){var T=m[B];if(T!=null){if(!Be(T))throw new TypeError;return T}}function vt(m){var B=xe(m,i);if(!Be(B))throw new TypeError;var T=B.call(m);if(!R(T))throw new TypeError;return T}function Ke(m){return m.value}function xt(m){var B=m.next();return B.done?!1:B}function Ye(m){var B=m.return;B&&B.call(m)}function Qe(m){var B=Object.getPrototypeOf(m);if(typeof m!="function"||m===u||B!==u)return B;var T=m.prototype,$=T&&Object.getPrototypeOf(T);if($==null||$===Object.prototype)return B;var L=$.constructor;return typeof L!="function"||L===m?B:L}function Je(){var m={},B=[],T=function(){function W(q,V,Y){this._index=0,this._keys=q,this._values=V,this._selector=Y}return W.prototype["@@iterator"]=function(){return this},W.prototype[i]=function(){return this},W.prototype.next=function(){var q=this._index;if(q>=0&&q<this._keys.length){var V=this._selector(this._keys[q],this._values[q]);return q+1>=this._keys.length?(this._index=-1,this._keys=B,this._values=B):this._index++,{value:V,done:!1}}return{value:void 0,done:!0}},W.prototype.throw=function(q){throw this._index>=0&&(this._index=-1,this._keys=B,this._values=B),q},W.prototype.return=function(q){return this._index>=0&&(this._index=-1,this._keys=B,this._values=B),{value:q,done:!0}},W}();return function(){function W(){this._keys=[],this._values=[],this._cacheKey=m,this._cacheIndex=-2}return Object.defineProperty(W.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),W.prototype.has=function(q){return this._find(q,!1)>=0},W.prototype.get=function(q){var V=this._find(q,!1);return V>=0?this._values[V]:void 0},W.prototype.set=function(q,V){var Y=this._find(q,!0);return this._values[Y]=V,this},W.prototype.delete=function(q){var V=this._find(q,!1);if(V>=0){for(var Y=this._keys.length,Z=V+1;Z<Y;Z++)this._keys[Z-1]=this._keys[Z],this._values[Z-1]=this._values[Z];return this._keys.length--,this._values.length--,q===this._cacheKey&&(this._cacheKey=m,this._cacheIndex=-2),!0}return!1},W.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=m,this._cacheIndex=-2},W.prototype.keys=function(){return new T(this._keys,this._values,$)},W.prototype.values=function(){return new T(this._keys,this._values,L)},W.prototype.entries=function(){return new T(this._keys,this._values,se)},W.prototype["@@iterator"]=function(){return this.entries()},W.prototype[i]=function(){return this.entries()},W.prototype._find=function(q,V){return this._cacheKey!==q&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=q)),this._cacheIndex<0&&V&&(this._cacheIndex=this._keys.length,this._keys.push(q),this._values.push(void 0)),this._cacheIndex},W}();function $(W,q){return W}function L(W,q){return q}function se(W,q){return[W,q]}}function Oe(){return function(){function m(){this._map=new f}return Object.defineProperty(m.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),m.prototype.has=function(B){return this._map.has(B)},m.prototype.add=function(B){return this._map.set(B,B),this},m.prototype.delete=function(B){return this._map.delete(B)},m.prototype.clear=function(){this._map.clear()},m.prototype.keys=function(){return this._map.keys()},m.prototype.values=function(){return this._map.values()},m.prototype.entries=function(){return this._map.entries()},m.prototype["@@iterator"]=function(){return this.keys()},m.prototype[i]=function(){return this.keys()},m}()}function me(){var m=16,B=s.create(),T=$();return function(){function V(){this._key=$()}return V.prototype.has=function(Y){var Z=L(Y,!1);return Z!==void 0?s.has(Z,this._key):!1},V.prototype.get=function(Y){var Z=L(Y,!1);return Z!==void 0?s.get(Z,this._key):void 0},V.prototype.set=function(Y,Z){var Pe=L(Y,!0);return Pe[this._key]=Z,this},V.prototype.delete=function(Y){var Z=L(Y,!1);return Z!==void 0?delete Z[this._key]:!1},V.prototype.clear=function(){this._key=$()},V}();function $(){var V;do V="@@WeakMap@@"+q();while(s.has(B,V));return B[V]=!0,V}function L(V,Y){if(!t.call(V,T)){if(!Y)return;Object.defineProperty(V,T,{value:s.create()})}return V[T]}function se(V,Y){for(var Z=0;Z<Y;++Z)V[Z]=Math.random()*255|0;return V}function W(V){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(V)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(V)):se(new Uint8Array(V),V):se(new Array(V),V)}function q(){var V=W(m);V[6]=V[6]&79|64,V[8]=V[8]&191|128;for(var Y="",Z=0;Z<m;++Z){var Pe=V[Z];(Z===4||Z===6||Z===8)&&(Y+="-"),Pe<16&&(Y+="0"),Y+=Pe.toString(16).toLowerCase()}return Y}}function je(m){return m.__=void 0,delete m.__,m}})})(Y0||(Y0={}));var pr;(function(r){r[r.Transient=0]="Transient",r[r.Singleton=1]="Singleton",r[r.ResolutionScoped=2]="ResolutionScoped",r[r.ContainerScoped=3]="ContainerScoped"})(pr||(pr={}));const pe=pr;/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var gr=function(r,e){return gr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var a in n)n.hasOwnProperty(a)&&(t[a]=n[a])},gr(r,e)};function jt(r,e){gr(r,e);function t(){this.constructor=r}r.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function ui(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function fi(r,e,t,n){function a(i){return i instanceof t?i:new t(function(o){o(i)})}return new(t||(t=Promise))(function(i,o){function c(u){try{s(n.next(u))}catch(_){o(_)}}function l(u){try{s(n.throw(u))}catch(_){o(_)}}function s(u){u.done?i(u.value):a(u.value).then(c,l)}s((n=n.apply(r,e||[])).next())})}function li(r,e){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o;return o={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function c(s){return function(u){return l([s,u])}}function l(s){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,a&&(i=s[0]&2?a.return:s[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,s[1])).done)return i;switch(a=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return t.label++,{value:s[1],done:!1};case 5:t.label++,a=s[1],s=[0];continue;case 7:s=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){t=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){t.label=s[1];break}if(s[0]===6&&t.label<i[1]){t.label=i[1],i=s;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(s);break}i[2]&&t.ops.pop(),t.trys.pop();continue}s=e.call(r,t)}catch(u){s=[6,u],a=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function St(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pt(r,e){var t=typeof Symbol=="function"&&r[Symbol.iterator];if(!t)return r;var n=t.call(r),a,i=[],o;try{for(;(e===void 0||e-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(c){o={error:c}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(o)throw o.error}}return i}function Se(){for(var r=[],e=0;e<arguments.length;e++)r=r.concat(Pt(arguments[e]));return r}var yr="injectionTokens";function Q0(r){var e=Reflect.getMetadata("design:paramtypes",r)||[],t=Reflect.getOwnMetadata(yr,r)||{};return Object.keys(t).forEach(function(n){e[+n]=t[n]}),e}function At(r,e){return function(t,n,a){var i=Reflect.getOwnMetadata(yr,t)||{};i[a]=e?{token:r,transform:e.transformToken,transformArgs:e.args||[]}:r,Reflect.defineMetadata(yr,i,t)}}function _r(r){return!!r.useClass}function Rt(r){return!!r.useFactory}var br=function(){function r(e){this.wrap=e,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return r.prototype.createProxy=function(e){var t=this,n={},a=!1,i,o=function(){return a||(i=e(t.wrap()),a=!0),i};return new Proxy(n,this.createHandler(o))},r.prototype.createHandler=function(e){var t={},n=function(a){t[a]=function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];i[0]=e();var c=Reflect[a];return c.apply(void 0,Se(i))}};return this.reflectMethods.forEach(n),t},r}();function di(r){if(typeof r>"u")throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new br(r)}function qe(r){return typeof r=="string"||typeof r=="symbol"}function J0(r){return typeof r=="object"&&"token"in r&&"multiple"in r}function Bt(r){return typeof r=="object"&&"token"in r&&"transform"in r}function hi(r){return typeof r=="function"||r instanceof br}function pt(r){return!!r.useToken}function gt(r){return r.useValue!=null}function vi(r){return _r(r)||gt(r)||pt(r)||Rt(r)}var mr=function(){function r(){this._registryMap=new Map}return r.prototype.entries=function(){return this._registryMap.entries()},r.prototype.getAll=function(e){return this.ensure(e),this._registryMap.get(e)},r.prototype.get=function(e){this.ensure(e);var t=this._registryMap.get(e);return t[t.length-1]||null},r.prototype.set=function(e,t){this.ensure(e),this._registryMap.get(e).push(t)},r.prototype.setAll=function(e,t){this._registryMap.set(e,t)},r.prototype.has=function(e){return this.ensure(e),this._registryMap.get(e).length>0},r.prototype.clear=function(){this._registryMap.clear()},r.prototype.ensure=function(e){this._registryMap.has(e)||this._registryMap.set(e,[])},r}(),xi=function(r){jt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(mr),en=function(){function r(){this.scopedResolutions=new Map}return r}();function pi(r,e){if(r===null)return"at position #"+e;var t=r.split(",")[e].trim();return'"'+t+'" at position #'+e}function gi(r,e,t){return t===void 0&&(t="    "),Se([r],e.message.split(`
`).map(function(n){return t+n})).join(`
`)}function tn(r,e,t){var n=Pt(r.toString().match(/constructor\(([\w, ]+)\)/)||[],2),a=n[1],i=a===void 0?null:a,o=pi(i,e);return gi("Cannot inject the dependency "+o+' of "'+r.name+'" constructor. Reason:',t)}function yi(r){if(typeof r.dispose!="function")return!1;var e=r.dispose;return!(e.length>0)}var _i=function(r){jt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(mr),bi=function(r){jt(e,r);function e(){return r!==null&&r.apply(this,arguments)||this}return e}(mr),mi=function(){function r(){this.preResolution=new _i,this.postResolution=new bi}return r}(),rn=new Map,wi=function(){function r(e){this.parent=e,this._registry=new xi,this.interceptors=new mi,this.disposed=!1,this.disposables=new Set}return r.prototype.register=function(e,t,n){n===void 0&&(n={lifecycle:pe.Transient}),this.ensureNotDisposed();var a;if(vi(t)?a=t:a={useClass:t},pt(a))for(var i=[e],o=a;o!=null;){var c=o.useToken;if(i.includes(c))throw new Error("Token registration cycle detected! "+Se(i,[c]).join(" -> "));i.push(c);var l=this._registry.get(c);l&&pt(l.provider)?o=l.provider:o=null}if((n.lifecycle===pe.Singleton||n.lifecycle==pe.ContainerScoped||n.lifecycle==pe.ResolutionScoped)&&(gt(a)||Rt(a)))throw new Error('Cannot use lifecycle "'+pe[n.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(e,{provider:a,options:n}),this},r.prototype.registerType=function(e,t){return this.ensureNotDisposed(),qe(t)?this.register(e,{useToken:t}):this.register(e,{useClass:t})},r.prototype.registerInstance=function(e,t){return this.ensureNotDisposed(),this.register(e,{useValue:t})},r.prototype.registerSingleton=function(e,t){if(this.ensureNotDisposed(),qe(e)){if(qe(t))return this.register(e,{useToken:t},{lifecycle:pe.Singleton});if(t)return this.register(e,{useClass:t},{lifecycle:pe.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var n=e;return t&&!qe(t)&&(n=t),this.register(e,{useClass:n},{lifecycle:pe.Singleton})},r.prototype.resolve=function(e,t){t===void 0&&(t=new en),this.ensureNotDisposed();var n=this.getRegistration(e);if(!n&&qe(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"Single"),n){var a=this.resolveRegistration(n,t);return this.executePostResolutionInterceptor(e,a,"Single"),a}if(hi(e)){var a=this.construct(e,t);return this.executePostResolutionInterceptor(e,a,"Single"),a}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},r.prototype.executePreResolutionInterceptor=function(e,t){var n,a;if(this.interceptors.preResolution.has(e)){var i=[];try{for(var o=St(this.interceptors.preResolution.getAll(e)),c=o.next();!c.done;c=o.next()){var l=c.value;l.options.frequency!="Once"&&i.push(l),l.callback(e,t)}}catch(s){n={error:s}}finally{try{c&&!c.done&&(a=o.return)&&a.call(o)}finally{if(n)throw n.error}}this.interceptors.preResolution.setAll(e,i)}},r.prototype.executePostResolutionInterceptor=function(e,t,n){var a,i;if(this.interceptors.postResolution.has(e)){var o=[];try{for(var c=St(this.interceptors.postResolution.getAll(e)),l=c.next();!l.done;l=c.next()){var s=l.value;s.options.frequency!="Once"&&o.push(s),s.callback(e,t,n)}}catch(u){a={error:u}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(a)throw a.error}}this.interceptors.postResolution.setAll(e,o)}},r.prototype.resolveRegistration=function(e,t){if(this.ensureNotDisposed(),e.options.lifecycle===pe.ResolutionScoped&&t.scopedResolutions.has(e))return t.scopedResolutions.get(e);var n=e.options.lifecycle===pe.Singleton,a=e.options.lifecycle===pe.ContainerScoped,i=n||a,o;return gt(e.provider)?o=e.provider.useValue:pt(e.provider)?o=i?e.instance||(e.instance=this.resolve(e.provider.useToken,t)):this.resolve(e.provider.useToken,t):_r(e.provider)?o=i?e.instance||(e.instance=this.construct(e.provider.useClass,t)):this.construct(e.provider.useClass,t):Rt(e.provider)?o=e.provider.useFactory(this):o=this.construct(e.provider,t),e.options.lifecycle===pe.ResolutionScoped&&t.scopedResolutions.set(e,o),o},r.prototype.resolveAll=function(e,t){var n=this;t===void 0&&(t=new en),this.ensureNotDisposed();var a=this.getAllRegistrations(e);if(!a&&qe(e))throw new Error('Attempted to resolve unregistered dependency token: "'+e.toString()+'"');if(this.executePreResolutionInterceptor(e,"All"),a){var i=a.map(function(c){return n.resolveRegistration(c,t)});return this.executePostResolutionInterceptor(e,i,"All"),i}var o=[this.construct(e,t)];return this.executePostResolutionInterceptor(e,o,"All"),o},r.prototype.isRegistered=function(e,t){return t===void 0&&(t=!1),this.ensureNotDisposed(),this._registry.has(e)||t&&(this.parent||!1)&&this.parent.isRegistered(e,!0)},r.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},r.prototype.clearInstances=function(){var e,t;this.ensureNotDisposed();try{for(var n=St(this._registry.entries()),a=n.next();!a.done;a=n.next()){var i=Pt(a.value,2),o=i[0],c=i[1];this._registry.setAll(o,c.filter(function(l){return!gt(l.provider)}).map(function(l){return l.instance=void 0,l}))}}catch(l){e={error:l}}finally{try{a&&!a.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}},r.prototype.createChildContainer=function(){var e,t;this.ensureNotDisposed();var n=new r(this);try{for(var a=St(this._registry.entries()),i=a.next();!i.done;i=a.next()){var o=Pt(i.value,2),c=o[0],l=o[1];l.some(function(s){var u=s.options;return u.lifecycle===pe.ContainerScoped})&&n._registry.setAll(c,l.map(function(s){return s.options.lifecycle===pe.ContainerScoped?{provider:s.provider,options:s.options}:s}))}}catch(s){e={error:s}}finally{try{i&&!i.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}return n},r.prototype.beforeResolution=function(e,t,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.preResolution.set(e,{callback:t,options:n})},r.prototype.afterResolution=function(e,t,n){n===void 0&&(n={frequency:"Always"}),this.interceptors.postResolution.set(e,{callback:t,options:n})},r.prototype.dispose=function(){return fi(this,void 0,void 0,function(){var e;return li(this,function(t){switch(t.label){case 0:return this.disposed=!0,e=[],this.disposables.forEach(function(n){var a=n.dispose();a&&e.push(a)}),[4,Promise.all(e)];case 1:return t.sent(),[2]}})})},r.prototype.getRegistration=function(e){return this.isRegistered(e)?this._registry.get(e):this.parent?this.parent.getRegistration(e):null},r.prototype.getAllRegistrations=function(e){return this.isRegistered(e)?this._registry.getAll(e):this.parent?this.parent.getAllRegistrations(e):null},r.prototype.construct=function(e,t){var n=this;if(e instanceof br)return e.createProxy(function(i){return n.resolve(i,t)});var a=function(){var i=rn.get(e);if(!i||i.length===0){if(e.length===0)return new e;throw new Error('TypeInfo not known for "'+e.name+'"')}var o=i.map(n.resolveParams(t,e));return new(e.bind.apply(e,Se([void 0],o)))}();return yi(a)&&this.disposables.add(a),a},r.prototype.resolveParams=function(e,t){var n=this;return function(a,i){var o,c,l;try{return J0(a)?Bt(a)?a.multiple?(o=n.resolve(a.transform)).transform.apply(o,Se([n.resolveAll(a.token)],a.transformArgs)):(c=n.resolve(a.transform)).transform.apply(c,Se([n.resolve(a.token,e)],a.transformArgs)):a.multiple?n.resolveAll(a.token):n.resolve(a.token,e):Bt(a)?(l=n.resolve(a.transform,e)).transform.apply(l,Se([n.resolve(a.token,e)],a.transformArgs)):n.resolve(a,e)}catch(s){throw new Error(tn(t,i,s))}}},r.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},r}(),de=new wi;function Oi(){return function(r){var e=Q0(r);return function(t){jt(n,t);function n(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return t.apply(this,Se(a.concat(e.slice(a.length).map(function(o,c){var l,s,u;try{return J0(o)?Bt(o)?o.multiple?(l=de.resolve(o.transform)).transform.apply(l,Se([de.resolveAll(o.token)],o.transformArgs)):(s=de.resolve(o.transform)).transform.apply(s,Se([de.resolve(o.token)],o.transformArgs)):o.multiple?de.resolveAll(o.token):de.resolve(o.token):Bt(o)?(u=de.resolve(o.transform)).transform.apply(u,Se([de.resolve(o.token)],o.transformArgs)):de.resolve(o)}catch(f){var _=c+a.length;throw new Error(tn(r,_,f))}}))))||this}return n}(r)}}function wr(r){return At(r)}function It(){return function(r){rn.set(r,Q0(r))}}function Ei(r){return r===void 0&&(r=[]),function(e){return r.forEach(function(t){var n=t.token,a=t.options,i=ui(t,["token","options"]);return de.register(n,i,a)}),e}}function Ci(){return function(r){It()(r),de.registerSingleton(r)}}function ji(r){var e={token:r,multiple:!0};return At(e)}function Si(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var a={token:r,multiple:!0,transform:e,transformArgs:t};return At(a)}function Pi(r,e){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];return At(r,{transformToken:e,args:t})}function Ai(r,e){return function(t){It()(t),de.register(e||t,t,{lifecycle:r})}}function Ri(r){var e;return function(t){return e==null&&(e=r(t)),e}}function Bi(r){var e=new WeakMap;return function(t){var n=e.get(t);return n==null&&(n=r(t),e.set(t,n)),n}}function Ii(r,e,t,n){n===void 0&&(n=!0);var a,i;return function(o){var c=r(o);return(!n||i!==c)&&((i=c)?a=o.resolve(e):a=o.resolve(t)),a}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);const _e=K0(Object.freeze(Object.defineProperty({__proto__:null,Lifecycle:pe,autoInjectable:Oi,container:de,delay:di,inject:wr,injectAll:ji,injectAllWithTransform:Si,injectWithTransform:Pi,injectable:It,instanceCachingFactory:Ri,instancePerContainerCachingFactory:Bi,isClassProvider:_r,isFactoryProvider:Rt,isNormalToken:qe,isTokenProvider:pt,isValueProvider:gt,predicateAwareClassFactory:Ii,registry:Ei,scoped:Ai,singleton:Ci},Symbol.toStringTag,{value:"Module"})));var Mi=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Di=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Ti=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(et,"__esModule",{value:!0}),et.ChanneListenerMapImpl=void 0;const nn=_e;let Or=class{constructor(e){this.logger=e,this.listeners=new Map}channel(e){for(const t in e){this.listeners.has(t)||this.listeners.set(t,[]);const n=e[t],a=this.listeners.get(t);n&&a&&a.push(n)}}remove(e,t){const n=this.listeners.get(e);if(!n)return;const a=n.findIndex(i=>i===t);a>-1&&n.splice(a,1)}removeForChannel(e){this.listeners.set(e,[])}clearListeners(){this.listeners.clear()}getListeners(){return this.listeners}};et.ChanneListenerMapImpl=Or,et.ChanneListenerMapImpl=Or=Mi([(0,nn.injectable)(),Ti(0,(0,nn.inject)("Logger")),Di("design:paramtypes",[Object])],Or);var tt={},rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.injectOptional=void 0;const an=_e;class ki{getOptionalValue(e){try{return an.container.resolve(e)}catch{return}}}class Hi{transform(e,t){return e.getOptionalValue(t)}}function $i(r){return(0,an.injectWithTransform)(ki,Hi,r)}rt.injectOptional=$i;var Ni=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Li=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Er=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(tt,"__esModule",{value:!0}),tt.CrossDispatcherImpl=void 0;const Cr=_e,Vi=rt;let jr=class{constructor(e,t,n){this.channelListenerMap=e,this.logger=t,this.config=n,this.dispatchingChannel=new Set}channel(e){this.channelListenerMap.channel(e)}async dispatch(e,t){const n=this.channelListenerMap.getListeners().get(e);if(!n)return this.handleError(`No listeners registered for channel: ${e.toString()}`),[];const a=[];if(this.dispatchingChannel.has(e))return this.handleError(`recursively called. Stop to prevent stack overflow. for channel: ${e.toString()}`),[];this.dispatchingChannel.add(e);for(const i of n)try{const o=i(t);if(o instanceof Promise){const c=await o;a.push(c)}else a.push(o)}catch(o){this.handleError(`Error handling channel: ${e.toString()}: ${o}`)}return this.dispatchingChannel.delete(e),a}remove(e,t){this.channelListenerMap.remove(e,t)}removeForChannel(e){this.channelListenerMap.removeForChannel(e)}clearListeners(){this.channelListenerMap.clearListeners()}getListeners(){return this.channelListenerMap.getListeners()}handleError(e){var t;if(this.logger.error(e),((t=this.config)==null?void 0:t.strictMode)!==!1)throw new Error(e)}};tt.CrossDispatcherImpl=jr,tt.CrossDispatcherImpl=jr=Ni([(0,Cr.injectable)(),Er(0,(0,Cr.inject)("ChannelListenerMap")),Er(1,(0,Cr.inject)("Logger")),Er(2,(0,Vi.injectOptional)("CrossDispatcherConfig")),Li("design:paramtypes",[Object,Object,Object])],jr);var nt={},on={exports:{}};function zi(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sr={exports:{}};const qi=K0(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var sn;function K(){return sn||(sn=1,function(r,e){(function(t,n){r.exports=n()})(C,function(){var t=t||function(n,a){var i;if(typeof window<"u"&&window.crypto&&(i=window.crypto),typeof self<"u"&&self.crypto&&(i=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(i=globalThis.crypto),!i&&typeof window<"u"&&window.msCrypto&&(i=window.msCrypto),!i&&typeof C<"u"&&C.crypto&&(i=C.crypto),!i&&typeof zi=="function")try{i=qi}catch{}var o=function(){if(i){if(typeof i.getRandomValues=="function")try{return i.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof i.randomBytes=="function")try{return i.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function x(){}return function(p){var y;return x.prototype=p,y=new x,x.prototype=null,y}}(),l={},s=l.lib={},u=s.Base=function(){return{extend:function(x){var p=c(this);return x&&p.mixIn(x),(!p.hasOwnProperty("init")||this.init===p.init)&&(p.init=function(){p.$super.init.apply(this,arguments)}),p.init.prototype=p,p.$super=this,p},create:function(){var x=this.extend();return x.init.apply(x,arguments),x},init:function(){},mixIn:function(x){for(var p in x)x.hasOwnProperty(p)&&(this[p]=x[p]);x.hasOwnProperty("toString")&&(this.toString=x.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),_=s.WordArray=u.extend({init:function(x,p){x=this.words=x||[],p!=a?this.sigBytes=p:this.sigBytes=x.length*4},toString:function(x){return(x||d).stringify(this)},concat:function(x){var p=this.words,y=x.words,O=this.sigBytes,w=x.sigBytes;if(this.clamp(),O%4)for(var S=0;S<w;S++){var P=y[S>>>2]>>>24-S%4*8&255;p[O+S>>>2]|=P<<24-(O+S)%4*8}else for(var k=0;k<w;k+=4)p[O+k>>>2]=y[k>>>2];return this.sigBytes+=w,this},clamp:function(){var x=this.words,p=this.sigBytes;x[p>>>2]&=4294967295<<32-p%4*8,x.length=n.ceil(p/4)},clone:function(){var x=u.clone.call(this);return x.words=this.words.slice(0),x},random:function(x){for(var p=[],y=0;y<x;y+=4)p.push(o());return new _.init(p,x)}}),f=l.enc={},d=f.Hex={stringify:function(x){for(var p=x.words,y=x.sigBytes,O=[],w=0;w<y;w++){var S=p[w>>>2]>>>24-w%4*8&255;O.push((S>>>4).toString(16)),O.push((S&15).toString(16))}return O.join("")},parse:function(x){for(var p=x.length,y=[],O=0;O<p;O+=2)y[O>>>3]|=parseInt(x.substr(O,2),16)<<24-O%8*4;return new _.init(y,p/2)}},h=f.Latin1={stringify:function(x){for(var p=x.words,y=x.sigBytes,O=[],w=0;w<y;w++){var S=p[w>>>2]>>>24-w%4*8&255;O.push(String.fromCharCode(S))}return O.join("")},parse:function(x){for(var p=x.length,y=[],O=0;O<p;O++)y[O>>>2]|=(x.charCodeAt(O)&255)<<24-O%4*8;return new _.init(y,p)}},v=f.Utf8={stringify:function(x){try{return decodeURIComponent(escape(h.stringify(x)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(x){return h.parse(unescape(encodeURIComponent(x)))}},g=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new _.init,this._nDataBytes=0},_append:function(x){typeof x=="string"&&(x=v.parse(x)),this._data.concat(x),this._nDataBytes+=x.sigBytes},_process:function(x){var p,y=this._data,O=y.words,w=y.sigBytes,S=this.blockSize,P=S*4,k=w/P;x?k=n.ceil(k):k=n.max((k|0)-this._minBufferSize,0);var b=k*S,j=n.min(b*4,w);if(b){for(var I=0;I<b;I+=S)this._doProcessBlock(O,I);p=O.splice(0,b),y.sigBytes-=j}return new _.init(p,j)},clone:function(){var x=u.clone.call(this);return x._data=this._data.clone(),x},_minBufferSize:0});s.Hasher=g.extend({cfg:u.extend(),init:function(x){this.cfg=this.cfg.extend(x),this.reset()},reset:function(){g.reset.call(this),this._doReset()},update:function(x){return this._append(x),this._process(),this},finalize:function(x){x&&this._append(x);var p=this._doFinalize();return p},blockSize:16,_createHelper:function(x){return function(p,y){return new x.init(y).finalize(p)}},_createHmacHelper:function(x){return function(p,y){return new E.HMAC.init(x,y).finalize(p)}}});var E=l.algo={};return l}(Math);return t})}(Sr)),Sr.exports}var Pr={exports:{}},cn;function Mt(){return cn||(cn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(n){var a=t,i=a.lib,o=i.Base,c=i.WordArray,l=a.x64={};l.Word=o.extend({init:function(s,u){this.high=s,this.low=u}}),l.WordArray=o.extend({init:function(s,u){s=this.words=s||[],u!=n?this.sigBytes=u:this.sigBytes=s.length*8},toX32:function(){for(var s=this.words,u=s.length,_=[],f=0;f<u;f++){var d=s[f];_.push(d.high),_.push(d.low)}return c.create(_,this.sigBytes)},clone:function(){for(var s=o.clone.call(this),u=s.words=this.words.slice(0),_=u.length,f=0;f<_;f++)u[f]=u[f].clone();return s}})}(),t})}(Pr)),Pr.exports}var Ar={exports:{}},un;function Wi(){return un||(un=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(){if(typeof ArrayBuffer=="function"){var n=t,a=n.lib,i=a.WordArray,o=i.init,c=i.init=function(l){if(l instanceof ArrayBuffer&&(l=new Uint8Array(l)),(l instanceof Int8Array||typeof Uint8ClampedArray<"u"&&l instanceof Uint8ClampedArray||l instanceof Int16Array||l instanceof Uint16Array||l instanceof Int32Array||l instanceof Uint32Array||l instanceof Float32Array||l instanceof Float64Array)&&(l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength)),l instanceof Uint8Array){for(var s=l.byteLength,u=[],_=0;_<s;_++)u[_>>>2]|=l[_]<<24-_%4*8;o.call(this,u,s)}else o.apply(this,arguments)};c.prototype=i}}(),t.lib.WordArray})}(Ar)),Ar.exports}var Rr={exports:{}},fn;function Fi(){return fn||(fn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(){var n=t,a=n.lib,i=a.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(l){for(var s=l.words,u=l.sigBytes,_=[],f=0;f<u;f+=2){var d=s[f>>>2]>>>16-f%4*8&65535;_.push(String.fromCharCode(d))}return _.join("")},parse:function(l){for(var s=l.length,u=[],_=0;_<s;_++)u[_>>>1]|=l.charCodeAt(_)<<16-_%2*16;return i.create(u,s*2)}},o.Utf16LE={stringify:function(l){for(var s=l.words,u=l.sigBytes,_=[],f=0;f<u;f+=2){var d=c(s[f>>>2]>>>16-f%4*8&65535);_.push(String.fromCharCode(d))}return _.join("")},parse:function(l){for(var s=l.length,u=[],_=0;_<s;_++)u[_>>>1]|=c(l.charCodeAt(_)<<16-_%2*16);return i.create(u,s*2)}};function c(l){return l<<8&4278255360|l>>>8&16711935}}(),t.enc.Utf16})}(Rr)),Rr.exports}var Br={exports:{}},ln;function at(){return ln||(ln=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(){var n=t,a=n.lib,i=a.WordArray,o=n.enc;o.Base64={stringify:function(l){var s=l.words,u=l.sigBytes,_=this._map;l.clamp();for(var f=[],d=0;d<u;d+=3)for(var h=s[d>>>2]>>>24-d%4*8&255,v=s[d+1>>>2]>>>24-(d+1)%4*8&255,g=s[d+2>>>2]>>>24-(d+2)%4*8&255,E=h<<16|v<<8|g,x=0;x<4&&d+x*.75<u;x++)f.push(_.charAt(E>>>6*(3-x)&63));var p=_.charAt(64);if(p)for(;f.length%4;)f.push(p);return f.join("")},parse:function(l){var s=l.length,u=this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var f=0;f<u.length;f++)_[u.charCodeAt(f)]=f}var d=u.charAt(64);if(d){var h=l.indexOf(d);h!==-1&&(s=h)}return c(l,s,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(l,s,u){for(var _=[],f=0,d=0;d<s;d++)if(d%4){var h=u[l.charCodeAt(d-1)]<<d%4*2,v=u[l.charCodeAt(d)]>>>6-d%4*2,g=h|v;_[f>>>2]|=g<<24-f%4*8,f++}return i.create(_,f)}}(),t.enc.Base64})}(Br)),Br.exports}var Ir={exports:{}},dn;function Ui(){return dn||(dn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(){var n=t,a=n.lib,i=a.WordArray,o=n.enc;o.Base64url={stringify:function(l,s=!0){var u=l.words,_=l.sigBytes,f=s?this._safe_map:this._map;l.clamp();for(var d=[],h=0;h<_;h+=3)for(var v=u[h>>>2]>>>24-h%4*8&255,g=u[h+1>>>2]>>>24-(h+1)%4*8&255,E=u[h+2>>>2]>>>24-(h+2)%4*8&255,x=v<<16|g<<8|E,p=0;p<4&&h+p*.75<_;p++)d.push(f.charAt(x>>>6*(3-p)&63));var y=f.charAt(64);if(y)for(;d.length%4;)d.push(y);return d.join("")},parse:function(l,s=!0){var u=l.length,_=s?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var d=0;d<_.length;d++)f[_.charCodeAt(d)]=d}var h=_.charAt(64);if(h){var v=l.indexOf(h);v!==-1&&(u=v)}return c(l,u,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(l,s,u){for(var _=[],f=0,d=0;d<s;d++)if(d%4){var h=u[l.charCodeAt(d-1)]<<d%4*2,v=u[l.charCodeAt(d)]>>>6-d%4*2,g=h|v;_[f>>>2]|=g<<24-f%4*8,f++}return i.create(_,f)}}(),t.enc.Base64url})}(Ir)),Ir.exports}var Mr={exports:{}},hn;function it(){return hn||(hn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(n){var a=t,i=a.lib,o=i.WordArray,c=i.Hasher,l=a.algo,s=[];(function(){for(var v=0;v<64;v++)s[v]=n.abs(n.sin(v+1))*4294967296|0})();var u=l.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(v,g){for(var E=0;E<16;E++){var x=g+E,p=v[x];v[x]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360}var y=this._hash.words,O=v[g+0],w=v[g+1],S=v[g+2],P=v[g+3],k=v[g+4],b=v[g+5],j=v[g+6],I=v[g+7],D=v[g+8],N=v[g+9],z=v[g+10],F=v[g+11],ae=v[g+12],J=v[g+13],re=v[g+14],ee=v[g+15],A=y[0],M=y[1],H=y[2],R=y[3];A=_(A,M,H,R,O,7,s[0]),R=_(R,A,M,H,w,12,s[1]),H=_(H,R,A,M,S,17,s[2]),M=_(M,H,R,A,P,22,s[3]),A=_(A,M,H,R,k,7,s[4]),R=_(R,A,M,H,b,12,s[5]),H=_(H,R,A,M,j,17,s[6]),M=_(M,H,R,A,I,22,s[7]),A=_(A,M,H,R,D,7,s[8]),R=_(R,A,M,H,N,12,s[9]),H=_(H,R,A,M,z,17,s[10]),M=_(M,H,R,A,F,22,s[11]),A=_(A,M,H,R,ae,7,s[12]),R=_(R,A,M,H,J,12,s[13]),H=_(H,R,A,M,re,17,s[14]),M=_(M,H,R,A,ee,22,s[15]),A=f(A,M,H,R,w,5,s[16]),R=f(R,A,M,H,j,9,s[17]),H=f(H,R,A,M,F,14,s[18]),M=f(M,H,R,A,O,20,s[19]),A=f(A,M,H,R,b,5,s[20]),R=f(R,A,M,H,z,9,s[21]),H=f(H,R,A,M,ee,14,s[22]),M=f(M,H,R,A,k,20,s[23]),A=f(A,M,H,R,N,5,s[24]),R=f(R,A,M,H,re,9,s[25]),H=f(H,R,A,M,P,14,s[26]),M=f(M,H,R,A,D,20,s[27]),A=f(A,M,H,R,J,5,s[28]),R=f(R,A,M,H,S,9,s[29]),H=f(H,R,A,M,I,14,s[30]),M=f(M,H,R,A,ae,20,s[31]),A=d(A,M,H,R,b,4,s[32]),R=d(R,A,M,H,D,11,s[33]),H=d(H,R,A,M,F,16,s[34]),M=d(M,H,R,A,re,23,s[35]),A=d(A,M,H,R,w,4,s[36]),R=d(R,A,M,H,k,11,s[37]),H=d(H,R,A,M,I,16,s[38]),M=d(M,H,R,A,z,23,s[39]),A=d(A,M,H,R,J,4,s[40]),R=d(R,A,M,H,O,11,s[41]),H=d(H,R,A,M,P,16,s[42]),M=d(M,H,R,A,j,23,s[43]),A=d(A,M,H,R,N,4,s[44]),R=d(R,A,M,H,ae,11,s[45]),H=d(H,R,A,M,ee,16,s[46]),M=d(M,H,R,A,S,23,s[47]),A=h(A,M,H,R,O,6,s[48]),R=h(R,A,M,H,I,10,s[49]),H=h(H,R,A,M,re,15,s[50]),M=h(M,H,R,A,b,21,s[51]),A=h(A,M,H,R,ae,6,s[52]),R=h(R,A,M,H,P,10,s[53]),H=h(H,R,A,M,z,15,s[54]),M=h(M,H,R,A,w,21,s[55]),A=h(A,M,H,R,D,6,s[56]),R=h(R,A,M,H,ee,10,s[57]),H=h(H,R,A,M,j,15,s[58]),M=h(M,H,R,A,J,21,s[59]),A=h(A,M,H,R,k,6,s[60]),R=h(R,A,M,H,F,10,s[61]),H=h(H,R,A,M,S,15,s[62]),M=h(M,H,R,A,N,21,s[63]),y[0]=y[0]+A|0,y[1]=y[1]+M|0,y[2]=y[2]+H|0,y[3]=y[3]+R|0},_doFinalize:function(){var v=this._data,g=v.words,E=this._nDataBytes*8,x=v.sigBytes*8;g[x>>>5]|=128<<24-x%32;var p=n.floor(E/4294967296),y=E;g[(x+64>>>9<<4)+15]=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,g[(x+64>>>9<<4)+14]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,v.sigBytes=(g.length+1)*4,this._process();for(var O=this._hash,w=O.words,S=0;S<4;S++){var P=w[S];w[S]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return O},clone:function(){var v=c.clone.call(this);return v._hash=this._hash.clone(),v}});function _(v,g,E,x,p,y,O){var w=v+(g&E|~g&x)+p+O;return(w<<y|w>>>32-y)+g}function f(v,g,E,x,p,y,O){var w=v+(g&x|E&~x)+p+O;return(w<<y|w>>>32-y)+g}function d(v,g,E,x,p,y,O){var w=v+(g^E^x)+p+O;return(w<<y|w>>>32-y)+g}function h(v,g,E,x,p,y,O){var w=v+(E^(g|~x))+p+O;return(w<<y|w>>>32-y)+g}a.MD5=c._createHelper(u),a.HmacMD5=c._createHmacHelper(u)}(Math),t.MD5})}(Mr)),Mr.exports}var Dr={exports:{}},vn;function Tr(){return vn||(vn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(){var n=t,a=n.lib,i=a.WordArray,o=a.Hasher,c=n.algo,l=[],s=c.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(u,_){for(var f=this._hash.words,d=f[0],h=f[1],v=f[2],g=f[3],E=f[4],x=0;x<80;x++){if(x<16)l[x]=u[_+x]|0;else{var p=l[x-3]^l[x-8]^l[x-14]^l[x-16];l[x]=p<<1|p>>>31}var y=(d<<5|d>>>27)+E+l[x];x<20?y+=(h&v|~h&g)+1518500249:x<40?y+=(h^v^g)+1859775393:x<60?y+=(h&v|h&g|v&g)-1894007588:y+=(h^v^g)-899497514,E=g,g=v,v=h<<30|h>>>2,h=d,d=y}f[0]=f[0]+d|0,f[1]=f[1]+h|0,f[2]=f[2]+v|0,f[3]=f[3]+g|0,f[4]=f[4]+E|0},_doFinalize:function(){var u=this._data,_=u.words,f=this._nDataBytes*8,d=u.sigBytes*8;return _[d>>>5]|=128<<24-d%32,_[(d+64>>>9<<4)+14]=Math.floor(f/4294967296),_[(d+64>>>9<<4)+15]=f,u.sigBytes=_.length*4,this._process(),this._hash},clone:function(){var u=o.clone.call(this);return u._hash=this._hash.clone(),u}});n.SHA1=o._createHelper(s),n.HmacSHA1=o._createHmacHelper(s)}(),t.SHA1})}(Dr)),Dr.exports}var kr={exports:{}},xn;function pn(){return xn||(xn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){return function(n){var a=t,i=a.lib,o=i.WordArray,c=i.Hasher,l=a.algo,s=[],u=[];(function(){function d(E){for(var x=n.sqrt(E),p=2;p<=x;p++)if(!(E%p))return!1;return!0}function h(E){return(E-(E|0))*4294967296|0}for(var v=2,g=0;g<64;)d(v)&&(g<8&&(s[g]=h(n.pow(v,1/2))),u[g]=h(n.pow(v,1/3)),g++),v++})();var _=[],f=l.SHA256=c.extend({_doReset:function(){this._hash=new o.init(s.slice(0))},_doProcessBlock:function(d,h){for(var v=this._hash.words,g=v[0],E=v[1],x=v[2],p=v[3],y=v[4],O=v[5],w=v[6],S=v[7],P=0;P<64;P++){if(P<16)_[P]=d[h+P]|0;else{var k=_[P-15],b=(k<<25|k>>>7)^(k<<14|k>>>18)^k>>>3,j=_[P-2],I=(j<<15|j>>>17)^(j<<13|j>>>19)^j>>>10;_[P]=b+_[P-7]+I+_[P-16]}var D=y&O^~y&w,N=g&E^g&x^E&x,z=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),F=(y<<26|y>>>6)^(y<<21|y>>>11)^(y<<7|y>>>25),ae=S+F+D+u[P]+_[P],J=z+N;S=w,w=O,O=y,y=p+ae|0,p=x,x=E,E=g,g=ae+J|0}v[0]=v[0]+g|0,v[1]=v[1]+E|0,v[2]=v[2]+x|0,v[3]=v[3]+p|0,v[4]=v[4]+y|0,v[5]=v[5]+O|0,v[6]=v[6]+w|0,v[7]=v[7]+S|0},_doFinalize:function(){var d=this._data,h=d.words,v=this._nDataBytes*8,g=d.sigBytes*8;return h[g>>>5]|=128<<24-g%32,h[(g+64>>>9<<4)+14]=n.floor(v/4294967296),h[(g+64>>>9<<4)+15]=v,d.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var d=c.clone.call(this);return d._hash=this._hash.clone(),d}});a.SHA256=c._createHelper(f),a.HmacSHA256=c._createHmacHelper(f)}(Math),t.SHA256})}(kr)),kr.exports}var Hr={exports:{}},gn;function Gi(){return gn||(gn=1,function(r,e){(function(t,n,a){r.exports=n(K(),pn())})(C,function(t){return function(){var n=t,a=n.lib,i=a.WordArray,o=n.algo,c=o.SHA256,l=o.SHA224=c.extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var s=c._doFinalize.call(this);return s.sigBytes-=4,s}});n.SHA224=c._createHelper(l),n.HmacSHA224=c._createHmacHelper(l)}(),t.SHA224})}(Hr)),Hr.exports}var $r={exports:{}},yn;function _n(){return yn||(yn=1,function(r,e){(function(t,n,a){r.exports=n(K(),Mt())})(C,function(t){return function(){var n=t,a=n.lib,i=a.Hasher,o=n.x64,c=o.Word,l=o.WordArray,s=n.algo;function u(){return c.create.apply(c,arguments)}var _=[u(1116352408,3609767458),u(1899447441,602891725),u(3049323471,3964484399),u(3921009573,2173295548),u(961987163,4081628472),u(1508970993,3053834265),u(2453635748,2937671579),u(2870763221,3664609560),u(3624381080,2734883394),u(310598401,1164996542),u(607225278,1323610764),u(1426881987,3590304994),u(1925078388,4068182383),u(2162078206,991336113),u(2614888103,633803317),u(3248222580,3479774868),u(3835390401,2666613458),u(4022224774,944711139),u(264347078,2341262773),u(604807628,2007800933),u(770255983,1495990901),u(1249150122,1856431235),u(1555081692,3175218132),u(1996064986,2198950837),u(2554220882,3999719339),u(2821834349,766784016),u(2952996808,2566594879),u(3210313671,3203337956),u(3336571891,1034457026),u(3584528711,2466948901),u(113926993,3758326383),u(338241895,168717936),u(666307205,1188179964),u(773529912,1546045734),u(1294757372,1522805485),u(1396182291,2643833823),u(1695183700,2343527390),u(1986661051,1014477480),u(2177026350,1206759142),u(2456956037,344077627),u(2730485921,1290863460),u(2820302411,3158454273),u(3259730800,3505952657),u(3345764771,106217008),u(3516065817,3606008344),u(3600352804,1432725776),u(4094571909,1467031594),u(275423344,851169720),u(430227734,3100823752),u(506948616,1363258195),u(659060556,3750685593),u(883997877,3785050280),u(958139571,3318307427),u(1322822218,3812723403),u(1537002063,2003034995),u(1747873779,3602036899),u(1955562222,1575990012),u(2024104815,1125592928),u(2227730452,2716904306),u(2361852424,442776044),u(2428436474,593698344),u(2756734187,3733110249),u(3204031479,2999351573),u(3329325298,3815920427),u(3391569614,3928383900),u(3515267271,566280711),u(3940187606,3454069534),u(4118630271,4000239992),u(116418474,1914138554),u(174292421,2731055270),u(289380356,3203993006),u(460393269,320620315),u(685471733,587496836),u(852142971,1086792851),u(1017036298,365543100),u(1126000580,2618297676),u(1288033470,3409855158),u(1501505948,4234509866),u(1607167915,987167468),u(1816402316,1246189591)],f=[];(function(){for(var h=0;h<80;h++)f[h]=u()})();var d=s.SHA512=i.extend({_doReset:function(){this._hash=new l.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(h,v){for(var g=this._hash.words,E=g[0],x=g[1],p=g[2],y=g[3],O=g[4],w=g[5],S=g[6],P=g[7],k=E.high,b=E.low,j=x.high,I=x.low,D=p.high,N=p.low,z=y.high,F=y.low,ae=O.high,J=O.low,re=w.high,ee=w.low,A=S.high,M=S.low,H=P.high,R=P.low,oe=k,ie=b,ve=j,U=I,ye=D,Ne=N,Be=z,Ve=F,we=ae,xe=J,vt=re,Ke=ee,xt=A,Ye=M,Qe=H,Je=R,Oe=0;Oe<80;Oe++){var me,je,m=f[Oe];if(Oe<16)je=m.high=h[v+Oe*2]|0,me=m.low=h[v+Oe*2+1]|0;else{var B=f[Oe-15],T=B.high,$=B.low,L=(T>>>1|$<<31)^(T>>>8|$<<24)^T>>>7,se=($>>>1|T<<31)^($>>>8|T<<24)^($>>>7|T<<25),W=f[Oe-2],q=W.high,V=W.low,Y=(q>>>19|V<<13)^(q<<3|V>>>29)^q>>>6,Z=(V>>>19|q<<13)^(V<<3|q>>>29)^(V>>>6|q<<26),Pe=f[Oe-7],xr=Pe.high,yc=Pe.low,ri=f[Oe-16],_c=ri.high,ni=ri.low;me=se+yc,je=L+xr+(me>>>0<se>>>0?1:0),me=me+Z,je=je+Y+(me>>>0<Z>>>0?1:0),me=me+ni,je=je+_c+(me>>>0<ni>>>0?1:0),m.high=je,m.low=me}var bc=we&vt^~we&xt,ai=xe&Ke^~xe&Ye,mc=oe&ve^oe&ye^ve&ye,wc=ie&U^ie&Ne^U&Ne,Oc=(oe>>>28|ie<<4)^(oe<<30|ie>>>2)^(oe<<25|ie>>>7),ii=(ie>>>28|oe<<4)^(ie<<30|oe>>>2)^(ie<<25|oe>>>7),Ec=(we>>>14|xe<<18)^(we>>>18|xe<<14)^(we<<23|xe>>>9),Cc=(xe>>>14|we<<18)^(xe>>>18|we<<14)^(xe<<23|we>>>9),oi=_[Oe],jc=oi.high,si=oi.low,Ee=Je+Cc,ze=Qe+Ec+(Ee>>>0<Je>>>0?1:0),Ee=Ee+ai,ze=ze+bc+(Ee>>>0<ai>>>0?1:0),Ee=Ee+si,ze=ze+jc+(Ee>>>0<si>>>0?1:0),Ee=Ee+me,ze=ze+je+(Ee>>>0<me>>>0?1:0),ci=ii+wc,Sc=Oc+mc+(ci>>>0<ii>>>0?1:0);Qe=xt,Je=Ye,xt=vt,Ye=Ke,vt=we,Ke=xe,xe=Ve+Ee|0,we=Be+ze+(xe>>>0<Ve>>>0?1:0)|0,Be=ye,Ve=Ne,ye=ve,Ne=U,ve=oe,U=ie,ie=Ee+ci|0,oe=ze+Sc+(ie>>>0<Ee>>>0?1:0)|0}b=E.low=b+ie,E.high=k+oe+(b>>>0<ie>>>0?1:0),I=x.low=I+U,x.high=j+ve+(I>>>0<U>>>0?1:0),N=p.low=N+Ne,p.high=D+ye+(N>>>0<Ne>>>0?1:0),F=y.low=F+Ve,y.high=z+Be+(F>>>0<Ve>>>0?1:0),J=O.low=J+xe,O.high=ae+we+(J>>>0<xe>>>0?1:0),ee=w.low=ee+Ke,w.high=re+vt+(ee>>>0<Ke>>>0?1:0),M=S.low=M+Ye,S.high=A+xt+(M>>>0<Ye>>>0?1:0),R=P.low=R+Je,P.high=H+Qe+(R>>>0<Je>>>0?1:0)},_doFinalize:function(){var h=this._data,v=h.words,g=this._nDataBytes*8,E=h.sigBytes*8;v[E>>>5]|=128<<24-E%32,v[(E+128>>>10<<5)+30]=Math.floor(g/4294967296),v[(E+128>>>10<<5)+31]=g,h.sigBytes=v.length*4,this._process();var x=this._hash.toX32();return x},clone:function(){var h=i.clone.call(this);return h._hash=this._hash.clone(),h},blockSize:1024/32});n.SHA512=i._createHelper(d),n.HmacSHA512=i._createHmacHelper(d)}(),t.SHA512})}($r)),$r.exports}var Nr={exports:{}},bn;function Xi(){return bn||(bn=1,function(r,e){(function(t,n,a){r.exports=n(K(),Mt(),_n())})(C,function(t){return function(){var n=t,a=n.x64,i=a.Word,o=a.WordArray,c=n.algo,l=c.SHA512,s=c.SHA384=l.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var u=l._doFinalize.call(this);return u.sigBytes-=16,u}});n.SHA384=l._createHelper(s),n.HmacSHA384=l._createHmacHelper(s)}(),t.SHA384})}(Nr)),Nr.exports}var Lr={exports:{}},mn;function Zi(){return mn||(mn=1,function(r,e){(function(t,n,a){r.exports=n(K(),Mt())})(C,function(t){return function(n){var a=t,i=a.lib,o=i.WordArray,c=i.Hasher,l=a.x64,s=l.Word,u=a.algo,_=[],f=[],d=[];(function(){for(var g=1,E=0,x=0;x<24;x++){_[g+5*E]=(x+1)*(x+2)/2%64;var p=E%5,y=(2*g+3*E)%5;g=p,E=y}for(var g=0;g<5;g++)for(var E=0;E<5;E++)f[g+5*E]=E+(2*g+3*E)%5*5;for(var O=1,w=0;w<24;w++){for(var S=0,P=0,k=0;k<7;k++){if(O&1){var b=(1<<k)-1;b<32?P^=1<<b:S^=1<<b-32}O&128?O=O<<1^113:O<<=1}d[w]=s.create(S,P)}})();var h=[];(function(){for(var g=0;g<25;g++)h[g]=s.create()})();var v=u.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var g=this._state=[],E=0;E<25;E++)g[E]=new s.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(g,E){for(var x=this._state,p=this.blockSize/2,y=0;y<p;y++){var O=g[E+2*y],w=g[E+2*y+1];O=(O<<8|O>>>24)&16711935|(O<<24|O>>>8)&4278255360,w=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360;var S=x[y];S.high^=w,S.low^=O}for(var P=0;P<24;P++){for(var k=0;k<5;k++){for(var b=0,j=0,I=0;I<5;I++){var S=x[k+5*I];b^=S.high,j^=S.low}var D=h[k];D.high=b,D.low=j}for(var k=0;k<5;k++)for(var N=h[(k+4)%5],z=h[(k+1)%5],F=z.high,ae=z.low,b=N.high^(F<<1|ae>>>31),j=N.low^(ae<<1|F>>>31),I=0;I<5;I++){var S=x[k+5*I];S.high^=b,S.low^=j}for(var J=1;J<25;J++){var b,j,S=x[J],re=S.high,ee=S.low,A=_[J];A<32?(b=re<<A|ee>>>32-A,j=ee<<A|re>>>32-A):(b=ee<<A-32|re>>>64-A,j=re<<A-32|ee>>>64-A);var M=h[f[J]];M.high=b,M.low=j}var H=h[0],R=x[0];H.high=R.high,H.low=R.low;for(var k=0;k<5;k++)for(var I=0;I<5;I++){var J=k+5*I,S=x[J],oe=h[J],ie=h[(k+1)%5+5*I],ve=h[(k+2)%5+5*I];S.high=oe.high^~ie.high&ve.high,S.low=oe.low^~ie.low&ve.low}var S=x[0],U=d[P];S.high^=U.high,S.low^=U.low}},_doFinalize:function(){var g=this._data,E=g.words;this._nDataBytes*8;var x=g.sigBytes*8,p=this.blockSize*32;E[x>>>5]|=1<<24-x%32,E[(n.ceil((x+1)/p)*p>>>5)-1]|=128,g.sigBytes=E.length*4,this._process();for(var y=this._state,O=this.cfg.outputLength/8,w=O/8,S=[],P=0;P<w;P++){var k=y[P],b=k.high,j=k.low;b=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,S.push(j),S.push(b)}return new o.init(S,O)},clone:function(){for(var g=c.clone.call(this),E=g._state=this._state.slice(0),x=0;x<25;x++)E[x]=E[x].clone();return g}});a.SHA3=c._createHelper(v),a.HmacSHA3=c._createHmacHelper(v)}(Math),t.SHA3})}(Lr)),Lr.exports}var Vr={exports:{}},wn;function Ki(){return wn||(wn=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){/** @preserve
				(c) 2012 by Cdric Mesnil. All rights reserved.

				Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

				    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
				    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

				THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
				*/return function(n){var a=t,i=a.lib,o=i.WordArray,c=i.Hasher,l=a.algo,s=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),u=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),_=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),d=o.create([0,1518500249,1859775393,2400959708,2840853838]),h=o.create([1352829926,1548603684,1836072691,2053994217,0]),v=l.RIPEMD160=c.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(w,S){for(var P=0;P<16;P++){var k=S+P,b=w[k];w[k]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var j=this._hash.words,I=d.words,D=h.words,N=s.words,z=u.words,F=_.words,ae=f.words,J,re,ee,A,M,H,R,oe,ie,ve;H=J=j[0],R=re=j[1],oe=ee=j[2],ie=A=j[3],ve=M=j[4];for(var U,P=0;P<80;P+=1)U=J+w[S+N[P]]|0,P<16?U+=g(re,ee,A)+I[0]:P<32?U+=E(re,ee,A)+I[1]:P<48?U+=x(re,ee,A)+I[2]:P<64?U+=p(re,ee,A)+I[3]:U+=y(re,ee,A)+I[4],U=U|0,U=O(U,F[P]),U=U+M|0,J=M,M=A,A=O(ee,10),ee=re,re=U,U=H+w[S+z[P]]|0,P<16?U+=y(R,oe,ie)+D[0]:P<32?U+=p(R,oe,ie)+D[1]:P<48?U+=x(R,oe,ie)+D[2]:P<64?U+=E(R,oe,ie)+D[3]:U+=g(R,oe,ie)+D[4],U=U|0,U=O(U,ae[P]),U=U+ve|0,H=ve,ve=ie,ie=O(oe,10),oe=R,R=U;U=j[1]+ee+ie|0,j[1]=j[2]+A+ve|0,j[2]=j[3]+M+H|0,j[3]=j[4]+J+R|0,j[4]=j[0]+re+oe|0,j[0]=U},_doFinalize:function(){var w=this._data,S=w.words,P=this._nDataBytes*8,k=w.sigBytes*8;S[k>>>5]|=128<<24-k%32,S[(k+64>>>9<<4)+14]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,w.sigBytes=(S.length+1)*4,this._process();for(var b=this._hash,j=b.words,I=0;I<5;I++){var D=j[I];j[I]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return b},clone:function(){var w=c.clone.call(this);return w._hash=this._hash.clone(),w}});function g(w,S,P){return w^S^P}function E(w,S,P){return w&S|~w&P}function x(w,S,P){return(w|~S)^P}function p(w,S,P){return w&P|S&~P}function y(w,S,P){return w^(S|~P)}function O(w,S){return w<<S|w>>>32-S}a.RIPEMD160=c._createHelper(v),a.HmacRIPEMD160=c._createHmacHelper(v)}(),t.RIPEMD160})}(Vr)),Vr.exports}var zr={exports:{}},On;function qr(){return On||(On=1,function(r,e){(function(t,n){r.exports=n(K())})(C,function(t){(function(){var n=t,a=n.lib,i=a.Base,o=n.enc,c=o.Utf8,l=n.algo;l.HMAC=i.extend({init:function(s,u){s=this._hasher=new s.init,typeof u=="string"&&(u=c.parse(u));var _=s.blockSize,f=_*4;u.sigBytes>f&&(u=s.finalize(u)),u.clamp();for(var d=this._oKey=u.clone(),h=this._iKey=u.clone(),v=d.words,g=h.words,E=0;E<_;E++)v[E]^=1549556828,g[E]^=909522486;d.sigBytes=h.sigBytes=f,this.reset()},reset:function(){var s=this._hasher;s.reset(),s.update(this._iKey)},update:function(s){return this._hasher.update(s),this},finalize:function(s){var u=this._hasher,_=u.finalize(s);u.reset();var f=u.finalize(this._oKey.clone().concat(_));return f}})})()})}(zr)),zr.exports}var Wr={exports:{}},En;function Yi(){return En||(En=1,function(r,e){(function(t,n,a){r.exports=n(K(),Tr(),qr())})(C,function(t){return function(){var n=t,a=n.lib,i=a.Base,o=a.WordArray,c=n.algo,l=c.SHA1,s=c.HMAC,u=c.PBKDF2=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,f){for(var d=this.cfg,h=s.create(d.hasher,_),v=o.create(),g=o.create([1]),E=v.words,x=g.words,p=d.keySize,y=d.iterations;E.length<p;){var O=h.update(f).finalize(g);h.reset();for(var w=O.words,S=w.length,P=O,k=1;k<y;k++){P=h.finalize(P),h.reset();for(var b=P.words,j=0;j<S;j++)w[j]^=b[j]}v.concat(O),x[0]++}return v.sigBytes=p*4,v}});n.PBKDF2=function(_,f,d){return u.create(d).compute(_,f)}}(),t.PBKDF2})}(Wr)),Wr.exports}var Fr={exports:{}},Cn;function We(){return Cn||(Cn=1,function(r,e){(function(t,n,a){r.exports=n(K(),Tr(),qr())})(C,function(t){return function(){var n=t,a=n.lib,i=a.Base,o=a.WordArray,c=n.algo,l=c.MD5,s=c.EvpKDF=i.extend({cfg:i.extend({keySize:128/32,hasher:l,iterations:1}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,_){for(var f,d=this.cfg,h=d.hasher.create(),v=o.create(),g=v.words,E=d.keySize,x=d.iterations;g.length<E;){f&&h.update(f),f=h.update(u).finalize(_),h.reset();for(var p=1;p<x;p++)f=h.finalize(f),h.reset();v.concat(f)}return v.sigBytes=E*4,v}});n.EvpKDF=function(u,_,f){return s.create(f).compute(u,_)}}(),t.EvpKDF})}(Fr)),Fr.exports}var Ur={exports:{}},jn;function ce(){return jn||(jn=1,function(r,e){(function(t,n,a){r.exports=n(K(),We())})(C,function(t){t.lib.Cipher||function(n){var a=t,i=a.lib,o=i.Base,c=i.WordArray,l=i.BufferedBlockAlgorithm,s=a.enc;s.Utf8;var u=s.Base64,_=a.algo,f=_.EvpKDF,d=i.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(b,j){return this.create(this._ENC_XFORM_MODE,b,j)},createDecryptor:function(b,j){return this.create(this._DEC_XFORM_MODE,b,j)},init:function(b,j,I){this.cfg=this.cfg.extend(I),this._xformMode=b,this._key=j,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(b){return this._append(b),this._process()},finalize:function(b){b&&this._append(b);var j=this._doFinalize();return j},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function b(j){return typeof j=="string"?k:w}return function(j){return{encrypt:function(I,D,N){return b(D).encrypt(j,I,D,N)},decrypt:function(I,D,N){return b(D).decrypt(j,I,D,N)}}}}()});i.StreamCipher=d.extend({_doFinalize:function(){var b=this._process(!0);return b},blockSize:1});var h=a.mode={},v=i.BlockCipherMode=o.extend({createEncryptor:function(b,j){return this.Encryptor.create(b,j)},createDecryptor:function(b,j){return this.Decryptor.create(b,j)},init:function(b,j){this._cipher=b,this._iv=j}}),g=h.CBC=function(){var b=v.extend();b.Encryptor=b.extend({processBlock:function(I,D){var N=this._cipher,z=N.blockSize;j.call(this,I,D,z),N.encryptBlock(I,D),this._prevBlock=I.slice(D,D+z)}}),b.Decryptor=b.extend({processBlock:function(I,D){var N=this._cipher,z=N.blockSize,F=I.slice(D,D+z);N.decryptBlock(I,D),j.call(this,I,D,z),this._prevBlock=F}});function j(I,D,N){var z,F=this._iv;F?(z=F,this._iv=n):z=this._prevBlock;for(var ae=0;ae<N;ae++)I[D+ae]^=z[ae]}return b}(),E=a.pad={},x=E.Pkcs7={pad:function(b,j){for(var I=j*4,D=I-b.sigBytes%I,N=D<<24|D<<16|D<<8|D,z=[],F=0;F<D;F+=4)z.push(N);var ae=c.create(z,D);b.concat(ae)},unpad:function(b){var j=b.words[b.sigBytes-1>>>2]&255;b.sigBytes-=j}};i.BlockCipher=d.extend({cfg:d.cfg.extend({mode:g,padding:x}),reset:function(){var b;d.reset.call(this);var j=this.cfg,I=j.iv,D=j.mode;this._xformMode==this._ENC_XFORM_MODE?b=D.createEncryptor:(b=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==b?this._mode.init(this,I&&I.words):(this._mode=b.call(D,this,I&&I.words),this._mode.__creator=b)},_doProcessBlock:function(b,j){this._mode.processBlock(b,j)},_doFinalize:function(){var b,j=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(j.pad(this._data,this.blockSize),b=this._process(!0)):(b=this._process(!0),j.unpad(b)),b},blockSize:128/32});var p=i.CipherParams=o.extend({init:function(b){this.mixIn(b)},toString:function(b){return(b||this.formatter).stringify(this)}}),y=a.format={},O=y.OpenSSL={stringify:function(b){var j,I=b.ciphertext,D=b.salt;return D?j=c.create([1398893684,1701076831]).concat(D).concat(I):j=I,j.toString(u)},parse:function(b){var j,I=u.parse(b),D=I.words;return D[0]==1398893684&&D[1]==1701076831&&(j=c.create(D.slice(2,4)),D.splice(0,4),I.sigBytes-=16),p.create({ciphertext:I,salt:j})}},w=i.SerializableCipher=o.extend({cfg:o.extend({format:O}),encrypt:function(b,j,I,D){D=this.cfg.extend(D);var N=b.createEncryptor(I,D),z=N.finalize(j),F=N.cfg;return p.create({ciphertext:z,key:I,iv:F.iv,algorithm:b,mode:F.mode,padding:F.padding,blockSize:b.blockSize,formatter:D.format})},decrypt:function(b,j,I,D){D=this.cfg.extend(D),j=this._parse(j,D.format);var N=b.createDecryptor(I,D).finalize(j.ciphertext);return N},_parse:function(b,j){return typeof b=="string"?j.parse(b,this):b}}),S=a.kdf={},P=S.OpenSSL={execute:function(b,j,I,D){D||(D=c.random(64/8));var N=f.create({keySize:j+I}).compute(b,D),z=c.create(N.words.slice(j),I*4);return N.sigBytes=j*4,p.create({key:N,iv:z,salt:D})}},k=i.PasswordBasedCipher=w.extend({cfg:w.cfg.extend({kdf:P}),encrypt:function(b,j,I,D){D=this.cfg.extend(D);var N=D.kdf.execute(I,b.keySize,b.ivSize);D.iv=N.iv;var z=w.encrypt.call(this,b,j,N.key,D);return z.mixIn(N),z},decrypt:function(b,j,I,D){D=this.cfg.extend(D),j=this._parse(j,D.format);var N=D.kdf.execute(I,b.keySize,b.ivSize,j.salt);D.iv=N.iv;var z=w.decrypt.call(this,b,j,N.key,D);return z}})}()})}(Ur)),Ur.exports}var Gr={exports:{}},Sn;function Qi(){return Sn||(Sn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.mode.CFB=function(){var n=t.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(i,o){var c=this._cipher,l=c.blockSize;a.call(this,i,o,l,c),this._prevBlock=i.slice(o,o+l)}}),n.Decryptor=n.extend({processBlock:function(i,o){var c=this._cipher,l=c.blockSize,s=i.slice(o,o+l);a.call(this,i,o,l,c),this._prevBlock=s}});function a(i,o,c,l){var s,u=this._iv;u?(s=u.slice(0),this._iv=void 0):s=this._prevBlock,l.encryptBlock(s,0);for(var _=0;_<c;_++)i[o+_]^=s[_]}return n}(),t.mode.CFB})}(Gr)),Gr.exports}var Xr={exports:{}},Pn;function Ji(){return Pn||(Pn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.mode.CTR=function(){var n=t.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,o){var c=this._cipher,l=c.blockSize,s=this._iv,u=this._counter;s&&(u=this._counter=s.slice(0),this._iv=void 0);var _=u.slice(0);c.encryptBlock(_,0),u[l-1]=u[l-1]+1|0;for(var f=0;f<l;f++)i[o+f]^=_[f]}});return n.Decryptor=a,n}(),t.mode.CTR})}(Xr)),Xr.exports}var Zr={exports:{}},An;function eo(){return An||(An=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return t.mode.CTRGladman=function(){var n=t.lib.BlockCipherMode.extend();function a(c){if((c>>24&255)===255){var l=c>>16&255,s=c>>8&255,u=c&255;l===255?(l=0,s===255?(s=0,u===255?u=0:++u):++s):++l,c=0,c+=l<<16,c+=s<<8,c+=u}else c+=1<<24;return c}function i(c){return(c[0]=a(c[0]))===0&&(c[1]=a(c[1])),c}var o=n.Encryptor=n.extend({processBlock:function(c,l){var s=this._cipher,u=s.blockSize,_=this._iv,f=this._counter;_&&(f=this._counter=_.slice(0),this._iv=void 0),i(f);var d=f.slice(0);s.encryptBlock(d,0);for(var h=0;h<u;h++)c[l+h]^=d[h]}});return n.Decryptor=o,n}(),t.mode.CTRGladman})}(Zr)),Zr.exports}var Kr={exports:{}},Rn;function to(){return Rn||(Rn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.mode.OFB=function(){var n=t.lib.BlockCipherMode.extend(),a=n.Encryptor=n.extend({processBlock:function(i,o){var c=this._cipher,l=c.blockSize,s=this._iv,u=this._keystream;s&&(u=this._keystream=s.slice(0),this._iv=void 0),c.encryptBlock(u,0);for(var _=0;_<l;_++)i[o+_]^=u[_]}});return n.Decryptor=a,n}(),t.mode.OFB})}(Kr)),Kr.exports}var Yr={exports:{}},Bn;function ro(){return Bn||(Bn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.mode.ECB=function(){var n=t.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(a,i){this._cipher.encryptBlock(a,i)}}),n.Decryptor=n.extend({processBlock:function(a,i){this._cipher.decryptBlock(a,i)}}),n}(),t.mode.ECB})}(Yr)),Yr.exports}var Qr={exports:{}},In;function no(){return In||(In=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.pad.AnsiX923={pad:function(n,a){var i=n.sigBytes,o=a*4,c=o-i%o,l=i+c-1;n.clamp(),n.words[l>>>2]|=c<<24-l%4*8,n.sigBytes+=c},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},t.pad.Ansix923})}(Qr)),Qr.exports}var Jr={exports:{}},Mn;function ao(){return Mn||(Mn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.pad.Iso10126={pad:function(n,a){var i=a*4,o=i-n.sigBytes%i;n.concat(t.lib.WordArray.random(o-1)).concat(t.lib.WordArray.create([o<<24],1))},unpad:function(n){var a=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=a}},t.pad.Iso10126})}(Jr)),Jr.exports}var e0={exports:{}},Dn;function io(){return Dn||(Dn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.pad.Iso97971={pad:function(n,a){n.concat(t.lib.WordArray.create([2147483648],1)),t.pad.ZeroPadding.pad(n,a)},unpad:function(n){t.pad.ZeroPadding.unpad(n),n.sigBytes--}},t.pad.Iso97971})}(e0)),e0.exports}var t0={exports:{}},Tn;function oo(){return Tn||(Tn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.pad.ZeroPadding={pad:function(n,a){var i=a*4;n.clamp(),n.sigBytes+=i-(n.sigBytes%i||i)},unpad:function(n){for(var a=n.words,i=n.sigBytes-1,i=n.sigBytes-1;i>=0;i--)if(a[i>>>2]>>>24-i%4*8&255){n.sigBytes=i+1;break}}},t.pad.ZeroPadding})}(t0)),t0.exports}var r0={exports:{}},kn;function so(){return kn||(kn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return t.pad.NoPadding={pad:function(){},unpad:function(){}},t.pad.NoPadding})}(r0)),r0.exports}var n0={exports:{}},Hn;function co(){return Hn||(Hn=1,function(r,e){(function(t,n,a){r.exports=n(K(),ce())})(C,function(t){return function(n){var a=t,i=a.lib,o=i.CipherParams,c=a.enc,l=c.Hex,s=a.format;s.Hex={stringify:function(u){return u.ciphertext.toString(l)},parse:function(u){var _=l.parse(u);return o.create({ciphertext:_})}}}(),t.format.Hex})}(n0)),n0.exports}var a0={exports:{}},$n;function uo(){return $n||($n=1,function(r,e){(function(t,n,a){r.exports=n(K(),at(),it(),We(),ce())})(C,function(t){return function(){var n=t,a=n.lib,i=a.BlockCipher,o=n.algo,c=[],l=[],s=[],u=[],_=[],f=[],d=[],h=[],v=[],g=[];(function(){for(var p=[],y=0;y<256;y++)y<128?p[y]=y<<1:p[y]=y<<1^283;for(var O=0,w=0,y=0;y<256;y++){var S=w^w<<1^w<<2^w<<3^w<<4;S=S>>>8^S&255^99,c[O]=S,l[S]=O;var P=p[O],k=p[P],b=p[k],j=p[S]*257^S*16843008;s[O]=j<<24|j>>>8,u[O]=j<<16|j>>>16,_[O]=j<<8|j>>>24,f[O]=j;var j=b*16843009^k*65537^P*257^O*16843008;d[S]=j<<24|j>>>8,h[S]=j<<16|j>>>16,v[S]=j<<8|j>>>24,g[S]=j,O?(O=P^p[p[p[b^P]]],w^=p[p[w]]):O=w=1}})();var E=[0,1,2,4,8,16,32,64,128,27,54],x=o.AES=i.extend({_doReset:function(){var p;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var y=this._keyPriorReset=this._key,O=y.words,w=y.sigBytes/4,S=this._nRounds=w+6,P=(S+1)*4,k=this._keySchedule=[],b=0;b<P;b++)b<w?k[b]=O[b]:(p=k[b-1],b%w?w>6&&b%w==4&&(p=c[p>>>24]<<24|c[p>>>16&255]<<16|c[p>>>8&255]<<8|c[p&255]):(p=p<<8|p>>>24,p=c[p>>>24]<<24|c[p>>>16&255]<<16|c[p>>>8&255]<<8|c[p&255],p^=E[b/w|0]<<24),k[b]=k[b-w]^p);for(var j=this._invKeySchedule=[],I=0;I<P;I++){var b=P-I;if(I%4)var p=k[b];else var p=k[b-4];I<4||b<=4?j[I]=p:j[I]=d[c[p>>>24]]^h[c[p>>>16&255]]^v[c[p>>>8&255]]^g[c[p&255]]}}},encryptBlock:function(p,y){this._doCryptBlock(p,y,this._keySchedule,s,u,_,f,c)},decryptBlock:function(p,y){var O=p[y+1];p[y+1]=p[y+3],p[y+3]=O,this._doCryptBlock(p,y,this._invKeySchedule,d,h,v,g,l);var O=p[y+1];p[y+1]=p[y+3],p[y+3]=O},_doCryptBlock:function(p,y,O,w,S,P,k,b){for(var j=this._nRounds,I=p[y]^O[0],D=p[y+1]^O[1],N=p[y+2]^O[2],z=p[y+3]^O[3],F=4,ae=1;ae<j;ae++){var J=w[I>>>24]^S[D>>>16&255]^P[N>>>8&255]^k[z&255]^O[F++],re=w[D>>>24]^S[N>>>16&255]^P[z>>>8&255]^k[I&255]^O[F++],ee=w[N>>>24]^S[z>>>16&255]^P[I>>>8&255]^k[D&255]^O[F++],A=w[z>>>24]^S[I>>>16&255]^P[D>>>8&255]^k[N&255]^O[F++];I=J,D=re,N=ee,z=A}var J=(b[I>>>24]<<24|b[D>>>16&255]<<16|b[N>>>8&255]<<8|b[z&255])^O[F++],re=(b[D>>>24]<<24|b[N>>>16&255]<<16|b[z>>>8&255]<<8|b[I&255])^O[F++],ee=(b[N>>>24]<<24|b[z>>>16&255]<<16|b[I>>>8&255]<<8|b[D&255])^O[F++],A=(b[z>>>24]<<24|b[I>>>16&255]<<16|b[D>>>8&255]<<8|b[N&255])^O[F++];p[y]=J,p[y+1]=re,p[y+2]=ee,p[y+3]=A},keySize:256/32});n.AES=i._createHelper(x)}(),t.AES})}(a0)),a0.exports}var i0={exports:{}},Nn;function fo(){return Nn||(Nn=1,function(r,e){(function(t,n,a){r.exports=n(K(),at(),it(),We(),ce())})(C,function(t){return function(){var n=t,a=n.lib,i=a.WordArray,o=a.BlockCipher,c=n.algo,l=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],u=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],_=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],d=c.DES=o.extend({_doReset:function(){for(var E=this._key,x=E.words,p=[],y=0;y<56;y++){var O=l[y]-1;p[y]=x[O>>>5]>>>31-O%32&1}for(var w=this._subKeys=[],S=0;S<16;S++){for(var P=w[S]=[],k=u[S],y=0;y<24;y++)P[y/6|0]|=p[(s[y]-1+k)%28]<<31-y%6,P[4+(y/6|0)]|=p[28+(s[y+24]-1+k)%28]<<31-y%6;P[0]=P[0]<<1|P[0]>>>31;for(var y=1;y<7;y++)P[y]=P[y]>>>(y-1)*4+3;P[7]=P[7]<<5|P[7]>>>27}for(var b=this._invSubKeys=[],y=0;y<16;y++)b[y]=w[15-y]},encryptBlock:function(E,x){this._doCryptBlock(E,x,this._subKeys)},decryptBlock:function(E,x){this._doCryptBlock(E,x,this._invSubKeys)},_doCryptBlock:function(E,x,p){this._lBlock=E[x],this._rBlock=E[x+1],h.call(this,4,252645135),h.call(this,16,65535),v.call(this,2,858993459),v.call(this,8,16711935),h.call(this,1,1431655765);for(var y=0;y<16;y++){for(var O=p[y],w=this._lBlock,S=this._rBlock,P=0,k=0;k<8;k++)P|=_[k][((S^O[k])&f[k])>>>0];this._lBlock=S,this._rBlock=w^P}var b=this._lBlock;this._lBlock=this._rBlock,this._rBlock=b,h.call(this,1,1431655765),v.call(this,8,16711935),v.call(this,2,858993459),h.call(this,16,65535),h.call(this,4,252645135),E[x]=this._lBlock,E[x+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function h(E,x){var p=(this._lBlock>>>E^this._rBlock)&x;this._rBlock^=p,this._lBlock^=p<<E}function v(E,x){var p=(this._rBlock>>>E^this._lBlock)&x;this._lBlock^=p,this._rBlock^=p<<E}n.DES=o._createHelper(d);var g=c.TripleDES=o.extend({_doReset:function(){var E=this._key,x=E.words;if(x.length!==2&&x.length!==4&&x.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var p=x.slice(0,2),y=x.length<4?x.slice(0,2):x.slice(2,4),O=x.length<6?x.slice(0,2):x.slice(4,6);this._des1=d.createEncryptor(i.create(p)),this._des2=d.createEncryptor(i.create(y)),this._des3=d.createEncryptor(i.create(O))},encryptBlock:function(E,x){this._des1.encryptBlock(E,x),this._des2.decryptBlock(E,x),this._des3.encryptBlock(E,x)},decryptBlock:function(E,x){this._des3.decryptBlock(E,x),this._des2.encryptBlock(E,x),this._des1.decryptBlock(E,x)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(g)}(),t.TripleDES})}(i0)),i0.exports}var o0={exports:{}},Ln;function lo(){return Ln||(Ln=1,function(r,e){(function(t,n,a){r.exports=n(K(),at(),it(),We(),ce())})(C,function(t){return function(){var n=t,a=n.lib,i=a.StreamCipher,o=n.algo,c=o.RC4=i.extend({_doReset:function(){for(var u=this._key,_=u.words,f=u.sigBytes,d=this._S=[],h=0;h<256;h++)d[h]=h;for(var h=0,v=0;h<256;h++){var g=h%f,E=_[g>>>2]>>>24-g%4*8&255;v=(v+d[h]+E)%256;var x=d[h];d[h]=d[v],d[v]=x}this._i=this._j=0},_doProcessBlock:function(u,_){u[_]^=l.call(this)},keySize:256/32,ivSize:0});function l(){for(var u=this._S,_=this._i,f=this._j,d=0,h=0;h<4;h++){_=(_+1)%256,f=(f+u[_])%256;var v=u[_];u[_]=u[f],u[f]=v,d|=u[(u[_]+u[f])%256]<<24-h*8}return this._i=_,this._j=f,d}n.RC4=i._createHelper(c);var s=o.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var u=this.cfg.drop;u>0;u--)l.call(this)}});n.RC4Drop=i._createHelper(s)}(),t.RC4})}(o0)),o0.exports}var s0={exports:{}},Vn;function ho(){return Vn||(Vn=1,function(r,e){(function(t,n,a){r.exports=n(K(),at(),it(),We(),ce())})(C,function(t){return function(){var n=t,a=n.lib,i=a.StreamCipher,o=n.algo,c=[],l=[],s=[],u=o.Rabbit=i.extend({_doReset:function(){for(var f=this._key.words,d=this.cfg.iv,h=0;h<4;h++)f[h]=(f[h]<<8|f[h]>>>24)&16711935|(f[h]<<24|f[h]>>>8)&4278255360;var v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],g=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var h=0;h<4;h++)_.call(this);for(var h=0;h<8;h++)g[h]^=v[h+4&7];if(d){var E=d.words,x=E[0],p=E[1],y=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,O=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,w=y>>>16|O&4294901760,S=O<<16|y&65535;g[0]^=y,g[1]^=w,g[2]^=O,g[3]^=S,g[4]^=y,g[5]^=w,g[6]^=O,g[7]^=S;for(var h=0;h<4;h++)_.call(this)}},_doProcessBlock:function(f,d){var h=this._X;_.call(this),c[0]=h[0]^h[5]>>>16^h[3]<<16,c[1]=h[2]^h[7]>>>16^h[5]<<16,c[2]=h[4]^h[1]>>>16^h[7]<<16,c[3]=h[6]^h[3]>>>16^h[1]<<16;for(var v=0;v<4;v++)c[v]=(c[v]<<8|c[v]>>>24)&16711935|(c[v]<<24|c[v]>>>8)&4278255360,f[d+v]^=c[v]},blockSize:128/32,ivSize:64/32});function _(){for(var f=this._X,d=this._C,h=0;h<8;h++)l[h]=d[h];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var h=0;h<8;h++){var v=f[h]+d[h],g=v&65535,E=v>>>16,x=((g*g>>>17)+g*E>>>15)+E*E,p=((v&4294901760)*v|0)+((v&65535)*v|0);s[h]=x^p}f[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,f[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,f[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,f[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,f[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,f[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,f[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,f[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}n.Rabbit=i._createHelper(u)}(),t.Rabbit})}(s0)),s0.exports}var c0={exports:{}},zn;function vo(){return zn||(zn=1,function(r,e){(function(t,n,a){r.exports=n(K(),at(),it(),We(),ce())})(C,function(t){return function(){var n=t,a=n.lib,i=a.StreamCipher,o=n.algo,c=[],l=[],s=[],u=o.RabbitLegacy=i.extend({_doReset:function(){var f=this._key.words,d=this.cfg.iv,h=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],v=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var g=0;g<4;g++)_.call(this);for(var g=0;g<8;g++)v[g]^=h[g+4&7];if(d){var E=d.words,x=E[0],p=E[1],y=(x<<8|x>>>24)&16711935|(x<<24|x>>>8)&4278255360,O=(p<<8|p>>>24)&16711935|(p<<24|p>>>8)&4278255360,w=y>>>16|O&4294901760,S=O<<16|y&65535;v[0]^=y,v[1]^=w,v[2]^=O,v[3]^=S,v[4]^=y,v[5]^=w,v[6]^=O,v[7]^=S;for(var g=0;g<4;g++)_.call(this)}},_doProcessBlock:function(f,d){var h=this._X;_.call(this),c[0]=h[0]^h[5]>>>16^h[3]<<16,c[1]=h[2]^h[7]>>>16^h[5]<<16,c[2]=h[4]^h[1]>>>16^h[7]<<16,c[3]=h[6]^h[3]>>>16^h[1]<<16;for(var v=0;v<4;v++)c[v]=(c[v]<<8|c[v]>>>24)&16711935|(c[v]<<24|c[v]>>>8)&4278255360,f[d+v]^=c[v]},blockSize:128/32,ivSize:64/32});function _(){for(var f=this._X,d=this._C,h=0;h<8;h++)l[h]=d[h];d[0]=d[0]+1295307597+this._b|0,d[1]=d[1]+3545052371+(d[0]>>>0<l[0]>>>0?1:0)|0,d[2]=d[2]+886263092+(d[1]>>>0<l[1]>>>0?1:0)|0,d[3]=d[3]+1295307597+(d[2]>>>0<l[2]>>>0?1:0)|0,d[4]=d[4]+3545052371+(d[3]>>>0<l[3]>>>0?1:0)|0,d[5]=d[5]+886263092+(d[4]>>>0<l[4]>>>0?1:0)|0,d[6]=d[6]+1295307597+(d[5]>>>0<l[5]>>>0?1:0)|0,d[7]=d[7]+3545052371+(d[6]>>>0<l[6]>>>0?1:0)|0,this._b=d[7]>>>0<l[7]>>>0?1:0;for(var h=0;h<8;h++){var v=f[h]+d[h],g=v&65535,E=v>>>16,x=((g*g>>>17)+g*E>>>15)+E*E,p=((v&4294901760)*v|0)+((v&65535)*v|0);s[h]=x^p}f[0]=s[0]+(s[7]<<16|s[7]>>>16)+(s[6]<<16|s[6]>>>16)|0,f[1]=s[1]+(s[0]<<8|s[0]>>>24)+s[7]|0,f[2]=s[2]+(s[1]<<16|s[1]>>>16)+(s[0]<<16|s[0]>>>16)|0,f[3]=s[3]+(s[2]<<8|s[2]>>>24)+s[1]|0,f[4]=s[4]+(s[3]<<16|s[3]>>>16)+(s[2]<<16|s[2]>>>16)|0,f[5]=s[5]+(s[4]<<8|s[4]>>>24)+s[3]|0,f[6]=s[6]+(s[5]<<16|s[5]>>>16)+(s[4]<<16|s[4]>>>16)|0,f[7]=s[7]+(s[6]<<8|s[6]>>>24)+s[5]|0}n.RabbitLegacy=i._createHelper(u)}(),t.RabbitLegacy})}(c0)),c0.exports}(function(r,e){(function(t,n,a){r.exports=n(K(),Mt(),Wi(),Fi(),at(),Ui(),it(),Tr(),pn(),Gi(),_n(),Xi(),Zi(),Ki(),qr(),Yi(),We(),ce(),Qi(),Ji(),eo(),to(),ro(),no(),ao(),io(),oo(),so(),co(),uo(),fo(),lo(),ho(),vo())})(C,function(t){return t})})(on);var qn=on.exports,Me={},Wn={},u0={},Fe={},Dt={},f0={exports:{}},Fn={},Tt={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7},De={};const te=Tt,l0=()=>[{type:te.RANGE,from:48,to:57}],Un=()=>[{type:te.CHAR,value:95},{type:te.RANGE,from:97,to:122},{type:te.RANGE,from:65,to:90}].concat(l0()),Gn=()=>[{type:te.CHAR,value:9},{type:te.CHAR,value:10},{type:te.CHAR,value:11},{type:te.CHAR,value:12},{type:te.CHAR,value:13},{type:te.CHAR,value:32},{type:te.CHAR,value:160},{type:te.CHAR,value:5760},{type:te.RANGE,from:8192,to:8202},{type:te.CHAR,value:8232},{type:te.CHAR,value:8233},{type:te.CHAR,value:8239},{type:te.CHAR,value:8287},{type:te.CHAR,value:12288},{type:te.CHAR,value:65279}],xo=()=>[{type:te.CHAR,value:10},{type:te.CHAR,value:13},{type:te.CHAR,value:8232},{type:te.CHAR,value:8233}];De.words=()=>({type:te.SET,set:Un(),not:!1}),De.notWords=()=>({type:te.SET,set:Un(),not:!0}),De.ints=()=>({type:te.SET,set:l0(),not:!1}),De.notInts=()=>({type:te.SET,set:l0(),not:!0}),De.whitespace=()=>({type:te.SET,set:Gn(),not:!1}),De.notWhitespace=()=>({type:te.SET,set:Gn(),not:!0}),De.anyChar=()=>({type:te.SET,set:xo(),not:!0}),function(r){const e=Tt,t=De,n="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",a={0:0,t:9,n:10,v:11,f:12,r:13};r.strToChars=function(i){var o=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return i=i.replace(o,function(c,l,s,u,_,f,d,h){if(s)return c;var v=l?8:u?parseInt(u,16):_?parseInt(_,16):f?parseInt(f,8):d?n.indexOf(d):a[h],g=String.fromCharCode(v);return/[[\]{}^$.|?*+()]/.test(g)&&(g="\\"+g),g}),i},r.tokenizeClass=(i,o)=>{for(var c=[],l=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,s,u;(s=l.exec(i))!=null;)if(s[1])c.push(t.words());else if(s[2])c.push(t.ints());else if(s[3])c.push(t.whitespace());else if(s[4])c.push(t.notWords());else if(s[5])c.push(t.notInts());else if(s[6])c.push(t.notWhitespace());else if(s[7])c.push({type:e.RANGE,from:(s[8]||s[9]).charCodeAt(0),to:s[10].charCodeAt(0)});else if(u=s[12])c.push({type:e.CHAR,value:u.charCodeAt(0)});else return[c,l.lastIndex];r.error(o,"Unterminated character class")},r.error=(i,o)=>{throw new SyntaxError("Invalid regular expression: /"+i+"/: "+o)}}(Fn);var yt={};const kt=Tt;yt.wordBoundary=()=>({type:kt.POSITION,value:"b"}),yt.nonWordBoundary=()=>({type:kt.POSITION,value:"B"}),yt.begin=()=>({type:kt.POSITION,value:"^"}),yt.end=()=>({type:kt.POSITION,value:"$"});const ot=Fn,Ce=Tt,Ue=De,Ht=yt;f0.exports=r=>{var e=0,t,n,a={type:Ce.ROOT,stack:[]},i=a,o=a.stack,c=[],l=E=>{ot.error(r,`Nothing to repeat at column ${E-1}`)},s=ot.strToChars(r);for(t=s.length;e<t;)switch(n=s[e++],n){case"\\":switch(n=s[e++],n){case"b":o.push(Ht.wordBoundary());break;case"B":o.push(Ht.nonWordBoundary());break;case"w":o.push(Ue.words());break;case"W":o.push(Ue.notWords());break;case"d":o.push(Ue.ints());break;case"D":o.push(Ue.notInts());break;case"s":o.push(Ue.whitespace());break;case"S":o.push(Ue.notWhitespace());break;default:/\d/.test(n)?o.push({type:Ce.REFERENCE,value:parseInt(n,10)}):o.push({type:Ce.CHAR,value:n.charCodeAt(0)})}break;case"^":o.push(Ht.begin());break;case"$":o.push(Ht.end());break;case"[":var u;s[e]==="^"?(u=!0,e++):u=!1;var _=ot.tokenizeClass(s.slice(e),r);e+=_[1],o.push({type:Ce.SET,set:_[0],not:u});break;case".":o.push(Ue.anyChar());break;case"(":var f={type:Ce.GROUP,stack:[],remember:!0};n=s[e],n==="?"&&(n=s[e+1],e+=2,n==="="?f.followedBy=!0:n==="!"?f.notFollowedBy=!0:n!==":"&&ot.error(r,`Invalid group, character '${n}' after '?' at column ${e-1}`),f.remember=!1),o.push(f),c.push(i),i=f,o=f.stack;break;case")":c.length===0&&ot.error(r,`Unmatched ) at column ${e-1}`),i=c.pop(),o=i.options?i.options[i.options.length-1]:i.stack;break;case"|":i.options||(i.options=[i.stack],delete i.stack);var d=[];i.options.push(d),o=d;break;case"{":var h=/^(\d+)(,(\d+)?)?\}/.exec(s.slice(e)),v,g;h!==null?(o.length===0&&l(e),v=parseInt(h[1],10),g=h[2]?h[3]?parseInt(h[3],10):1/0:v,e+=h[0].length,o.push({type:Ce.REPETITION,min:v,max:g,value:o.pop()})):o.push({type:Ce.CHAR,value:123});break;case"?":o.length===0&&l(e),o.push({type:Ce.REPETITION,min:0,max:1,value:o.pop()});break;case"+":o.length===0&&l(e),o.push({type:Ce.REPETITION,min:1,max:1/0,value:o.pop()});break;case"*":o.length===0&&l(e),o.push({type:Ce.REPETITION,min:0,max:1/0,value:o.pop()});break;default:o.push({type:Ce.CHAR,value:n.charCodeAt(0)})}return c.length!==0&&ot.error(r,"Unterminated group"),a},f0.exports.types=Ce;var po=f0.exports;class Ae{constructor(e,t){this.low=e,this.high=t,this.length=1+t-e}overlaps(e){return!(this.high<e.low||this.low>e.high)}touches(e){return!(this.high+1<e.low||this.low-1>e.high)}add(e){return new Ae(Math.min(this.low,e.low),Math.max(this.high,e.high))}subtract(e){return e.low<=this.low&&e.high>=this.high?[]:e.low>this.low&&e.high<this.high?[new Ae(this.low,e.low-1),new Ae(e.high+1,this.high)]:e.low<=this.low?[new Ae(e.high+1,this.high)]:[new Ae(this.low,e.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}var go=class Et{constructor(e,t){this.ranges=[],this.length=0,e!=null&&this.add(e,t)}_update_length(){this.length=this.ranges.reduce((e,t)=>e+t.length,0)}add(e,t){var n=a=>{for(var i=0;i<this.ranges.length&&!a.touches(this.ranges[i]);)i++;for(var o=this.ranges.slice(0,i);i<this.ranges.length&&a.touches(this.ranges[i]);)a=a.add(this.ranges[i]),i++;o.push(a),this.ranges=o.concat(this.ranges.slice(i)),this._update_length()};return e instanceof Et?e.ranges.forEach(n):(t==null&&(t=e),n(new Ae(e,t))),this}subtract(e,t){var n=a=>{for(var i=0;i<this.ranges.length&&!a.overlaps(this.ranges[i]);)i++;for(var o=this.ranges.slice(0,i);i<this.ranges.length&&a.overlaps(this.ranges[i]);)o=o.concat(this.ranges[i].subtract(a)),i++;this.ranges=o.concat(this.ranges.slice(i)),this._update_length()};return e instanceof Et?e.ranges.forEach(n):(t==null&&(t=e),n(new Ae(e,t))),this}intersect(e,t){var n=[],a=i=>{for(var o=0;o<this.ranges.length&&!i.overlaps(this.ranges[o]);)o++;for(;o<this.ranges.length&&i.overlaps(this.ranges[o]);){var c=Math.max(this.ranges[o].low,i.low),l=Math.min(this.ranges[o].high,i.high);n.push(new Ae(c,l)),o++}};return e instanceof Et?e.ranges.forEach(a):(t==null&&(t=e),a(new Ae(e,t))),this.ranges=n,this._update_length(),this}index(e){for(var t=0;t<this.ranges.length&&this.ranges[t].length<=e;)e-=this.ranges[t].length,t++;return this.ranges[t].low+e}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new Et(this)}numbers(){return this.ranges.reduce((e,t)=>{for(var n=t.low;n<=t.high;)e.push(n),n++;return e},[])}subranges(){return this.ranges.map(e=>({low:e.low,high:e.high,length:1+e.high-e.low}))}};const $t=po,_t=go,Ge=$t.types;var yo=class Ct{constructor(e,t){if(this._setDefaults(e),e instanceof RegExp)this.ignoreCase=e.ignoreCase,this.multiline=e.multiline,e=e.source;else if(typeof e=="string")this.ignoreCase=t&&t.indexOf("i")!==-1,this.multiline=t&&t.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=$t(e)}_setDefaults(e){this.max=e.max!=null?e.max:Ct.prototype.max!=null?Ct.prototype.max:100,this.defaultRange=e.defaultRange?e.defaultRange:this.defaultRange.clone(),e.randInt&&(this.randInt=e.randInt)}gen(){return this._gen(this.tokens,[])}_gen(e,t){var n,a,i,o,c;switch(e.type){case Ge.ROOT:case Ge.GROUP:if(e.followedBy||e.notFollowedBy)return"";for(e.remember&&e.groupNumber===void 0&&(e.groupNumber=t.push(null)-1),n=e.options?this._randSelect(e.options):e.stack,a="",o=0,c=n.length;o<c;o++)a+=this._gen(n[o],t);return e.remember&&(t[e.groupNumber]=a),a;case Ge.POSITION:return"";case Ge.SET:var l=this._expand(e);return l.length?String.fromCharCode(this._randSelect(l)):"";case Ge.REPETITION:for(i=this.randInt(e.min,e.max===1/0?e.min+this.max:e.max),a="",o=0;o<i;o++)a+=this._gen(e.value,t);return a;case Ge.REFERENCE:return t[e.value-1]||"";case Ge.CHAR:var s=this.ignoreCase&&this._randBool()?this._toOtherCase(e.value):e.value;return String.fromCharCode(s)}}_toOtherCase(e){return e+(97<=e&&e<=122?-32:65<=e&&e<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(e){return e instanceof _t?e.index(this.randInt(0,e.length-1)):e[this.randInt(0,e.length-1)]}_expand(e){if(e.type===$t.types.CHAR)return new _t(e.value);if(e.type===$t.types.RANGE)return new _t(e.from,e.to);{let t=new _t;for(let n=0;n<e.set.length;n++){let a=this._expand(e.set[n]);if(t.add(a),this.ignoreCase)for(let i=0;i<a.length;i++){let o=a.index(i),c=this._toOtherCase(o);o!==c&&t.add(c)}}return e.not?this.defaultRange.clone().subtract(t):this.defaultRange.clone().intersect(t)}}randInt(e,t){return e+Math.floor(Math.random()*(1+t-e))}get defaultRange(){return this._range=this._range||new _t(32,126)}set defaultRange(e){this._range=e}static randexp(e,t){var n;return typeof e=="string"&&(e=new RegExp(e,t)),e._randexp===void 0?(n=new Ct(e,t),e._randexp=n):(n=e._randexp,n._setDefaults(e)),n.gen()}static sugar(){RegExp.prototype.gen=function(){return Ct.randexp(this)}}},_o=C&&C.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.RandomGenerator=void 0;var bo=_o(yo),Xn;(function(r){var e="abcdefghijklmnopqrstuvwxyz";r.boolean=function(){return Math.random()<.5},r.integer=function(t,n){return t??(t=0),n??(n=100),Math.floor(Math.random()*(n-t+1))+t},r.bigint=function(t,n){return t??(t=BigInt(0)),n??(n=BigInt(100)),BigInt(r.integer(Number(t),Number(n)))},r.number=function(t,n){return t??(t=0),n??(n=100),Math.random()*(n-t)+t},r.string=function(t){return new Array(t??r.integer(5,10)).fill(0).map(function(){return e[r.integer(0,e.length-1)]}).join("")},r.array=function(t,n){return new Array(n??r.length()).fill(0).map(function(a,i){return t(i)})},r.pick=function(t){return t[r.integer(0,t.length-1)]},r.length=function(){return r.integer(0,3)},r.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n=Math.random()*16|0,a=t==="x"?n:n&3|8;return a.toString(16)})},r.email=function(){return"".concat(r.string(10),"@").concat(r.string(10),".").concat(r.string(3))},r.url=function(){return"https://".concat(r.string(10),".").concat(r.string(3))},r.ipv4=function(){return r.array(function(){return r.integer(0,255)},4).join(".")},r.ipv6=function(){return r.array(function(){return r.integer(0,65535).toString(16)},8).join(":")},r.pattern=function(t){return new bo.default(t).gen()},r.date=function(t,n){return t??(t=0),n??(n=Date.now()*2),new Date(r.number(t,n)).toISOString().substring(0,10)},r.datetime=function(t,n){return t??(t=Date.now()-30*Zn),n??(n=Date.now()+7*Zn),new Date(r.number(t,n)).toISOString()}})(Xn||(Dt.RandomGenerator=Xn={}));var Zn=1e3*60*60*24,Xe={},mo=C&&C.__extends||function(){var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])},r(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");r(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.TypeGuardError=void 0;var wo=function(r){mo(e,r);function e(t){var n=this.constructor,a=r.call(this,t.message||"Error on ".concat(t.method,"(): invalid type").concat(t.path?" on ".concat(t.path):"",", expect to be ").concat(t.expected))||this,i=n.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(a,i):a.__proto__=i,a.method=t.method,a.path=t.path,a.expected=t.expected,a.value=t.value,a}return e}(Error);Xe.TypeGuardError=wo;var Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.$ProtobufReader=void 0;var Oo=function(){function r(e){this.buf=e,this.ptr=0,this.view=new DataView(e.buffer)}return r.prototype.index=function(){return this.ptr},r.prototype.size=function(){return this.buf.length},r.prototype.uint32=function(){return this.varint32()},r.prototype.int32=function(){return this.varint32()},r.prototype.sint32=function(){var e=this.varint32();return e>>>1^-(e&1)},r.prototype.uint64=function(){return this.varint64()},r.prototype.int64=function(){return this.varint64()},r.prototype.sint64=function(){var e=this.varint64();return e>>d0^-(e&d0)},r.prototype.bool=function(){return this.varint32()!==0},r.prototype.float=function(){var e=this.view.getFloat32(this.ptr,!0);return this.ptr+=4,e},r.prototype.double=function(){var e=this.view.getFloat64(this.ptr,!0);return this.ptr+=8,e},r.prototype.bytes=function(){var e=this.uint32(),t=this.ptr;return this.ptr+=e,this.buf.subarray(t,t+e)},r.prototype.string=function(){return Eo.decode(this.bytes())},r.prototype.skip=function(e){if(e===0)for(;this.u8()&128;);else{if(this.index()+e>this.size())throw new Error("Error on typia.protobuf.decode(): buffer overflow.");this.ptr+=e}},r.prototype.skipType=function(e){switch(e){case 0:this.skip(0);break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw new Error("Invalid wire type ".concat(e," at offset ").concat(this.ptr,"."))}},r.prototype.varint32=function(){var e,t;return t=(e=this.u8())&127,e<128||(t|=((e=this.u8())&127)<<7,e<128)||(t|=((e=this.u8())&127)<<14,e<128)||(t|=((e=this.u8())&127)<<21,e<128)||(t|=((e=this.u8())&15)<<28,e<128)||this.u8()<128||this.u8()<128||this.u8()<128||this.u8()<128||this.u8()<128,t},r.prototype.varint64=function(){var e,t;return t=(e=this.u8n())&Te,e<ke||(t|=((e=this.u8n())&Te)<<BigInt(7),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(14),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(21),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(28),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(35),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(42),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(49),e<ke)||(t|=((e=this.u8n())&Te)<<BigInt(56),e<ke)?t:(t|=(this.u8n()&d0)<<BigInt(63),BigInt.asIntN(64,t))},r.prototype.u8=function(){return this.view.getUint8(this.ptr++)},r.prototype.u8n=function(){return BigInt(this.u8())},r}();Nt.$ProtobufReader=Oo;var Eo=new TextDecoder,d0=BigInt(1),Te=BigInt(127),ke=BigInt(128),Lt={},bt={};Object.defineProperty(bt,"__esModule",{value:!0}),bt.$strlen=void 0;var Co=function(r){var e,t,n;for(e=t=0;n=r.charCodeAt(t++);e+=n>>11?3:n>>7?2:1);return e};bt.$strlen=Co,Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.$ProtobufSizer=void 0;var jo=bt,So=function(){function r(e){e===void 0&&(e=0),this.len=e,this.pos=[],this.varlen=[],this.varlenidx=[]}return r.prototype.bool=function(){this.len+=1},r.prototype.int32=function(e){e<0?this.len+=10:this.varint32(e)},r.prototype.sint32=function(e){this.varint32(e<<1^e>>31)},r.prototype.uint32=function(e){this.varint32(e)},r.prototype.int64=function(e){this.varint64(typeof e=="number"?BigInt(e):e)},r.prototype.sint64=function(e){typeof e=="number"&&(e=BigInt(e)),this.varint64(e<<BigInt(1)^e>>BigInt(63))},r.prototype.uint64=function(e){this.varint64(typeof e=="number"?BigInt(e):e)},r.prototype.float=function(e){this.len+=4},r.prototype.double=function(e){this.len+=8},r.prototype.bytes=function(e){this.uint32(e.byteLength),this.len+=e.byteLength},r.prototype.string=function(e){var t=(0,jo.$strlen)(e);this.varlen.push(t),this.uint32(t),this.len+=t},r.prototype.fork=function(){this.pos.push(this.len),this.varlenidx.push(this.varlen.length),this.varlen.push(0)},r.prototype.ldelim=function(){if(!(this.pos.length&&this.varlenidx.length))throw new Error("Error on typia.protobuf.encode(): missing fork() before ldelim() call.");var e=this.len,t=this.pos.pop(),n=this.varlenidx.pop(),a=e-t;this.varlen[n]=a,this.uint32(a)},r.prototype.reset=function(){this.len=0,this.pos.length=0,this.varlen.length=0,this.varlenidx.length=0},r.prototype.varint32=function(e){this.len+=e<0?10:e<128?1:e<16384?2:e<2097152?3:e<268435456?4:5},r.prototype.varint64=function(e){for(e=BigInt.asUintN(64,e);e>Ao;)++this.len,e=e>>Po;++this.len},r}();Lt.$ProtobufSizer=So;var Po=BigInt(7),Ao=BigInt(127),Vt={};Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.$ProtobufWriter=void 0;var Ro=function(){function r(e){this.sizer=e,this.buf=new Uint8Array(e.len),this.view=new DataView(this.buf.buffer),this.ptr=0,this.varlenidx=0}return r.prototype.buffer=function(){return this.buf},r.prototype.bool=function(e){this.byte(e?1:0)},r.prototype.byte=function(e){this.buf[this.ptr++]=e&255},r.prototype.int32=function(e){e<0?this.int64(e):this.variant32(e>>>0)},r.prototype.sint32=function(e){this.variant32(e<<1^e>>31)},r.prototype.uint32=function(e){this.variant32(e)},r.prototype.sint64=function(e){e=BigInt(e),this.variant64(e<<Io^e>>Do)},r.prototype.int64=function(e){this.variant64(BigInt(e))},r.prototype.uint64=function(e){this.variant64(BigInt(e))},r.prototype.float=function(e){this.view.setFloat32(this.ptr,e,!0),this.ptr+=4},r.prototype.double=function(e){this.view.setFloat64(this.ptr,e,!0),this.ptr+=8},r.prototype.bytes=function(e){this.uint32(e.byteLength);for(var t=0;t<e.byteLength;t++)this.buf[this.ptr++]=e[t]},r.prototype.string=function(e){var t=this.varlen();this.uint32(t);for(var n=Bo.encode(e),a=0;a<n.byteLength;a++)this.buf[this.ptr++]=n[a]},r.prototype.fork=function(){this.uint32(this.varlen())},r.prototype.ldelim=function(){},r.prototype.finish=function(){return this.buf},r.prototype.reset=function(){this.buf=new Uint8Array(this.sizer.len),this.view=new DataView(this.buf.buffer),this.ptr=0,this.varlenidx=0},r.prototype.variant32=function(e){for(;e>127;)this.buf[this.ptr++]=e&127|128,e=e>>>7;this.buf[this.ptr++]=e},r.prototype.variant64=function(e){for(e=BigInt.asUintN(64,e);e>Kn;)this.buf[this.ptr++]=Number(e&Kn|To),e=e>>Mo;this.buf[this.ptr++]=Number(e)},r.prototype.varlen=function(){return this.varlenidx>=this.sizer.varlen.length?0:this.sizer.varlen[this.varlenidx++]},r}();Vt.$ProtobufWriter=Ro;var Bo=new TextEncoder,Io=BigInt(1),Mo=BigInt(7),Do=BigInt(63),Kn=BigInt(127),To=BigInt(128),zt={},qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.$clone=void 0;var ko=function(r){return JSON.parse(JSON.stringify(r))};qt.$clone=ko,Object.defineProperty(zt,"__esModule",{value:!0}),zt.$any=void 0;var Ho=qt,$o=function(r){return r!==void 0?(0,Ho.$clone)(r):void 0};zt.$any=$o;var Wt={};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.$every=void 0;var No=function(r,e){for(var t=null,n=0;n<r.length;++n)if((t=e(r[n],n))!==null)return t;return null};Wt.$every=No;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.$guard=void 0;var Lo=Xe,Vo=function(r){return function(e,t){if(e===!0)throw new Lo.TypeGuardError({method:r,path:t.path,expected:t.expected,value:t.value});return!1}};Ft.$guard=Vo;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.$is_between=void 0;var zo=function(r,e,t){return e<=r&&r<=t};Ut.$is_between=zo;var Gt={};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.$join=void 0;var qo=function(r){return Wo(r)?".".concat(r):"[".concat(JSON.stringify(r),"]")};Gt.$join=qo;var Wo=function(r){return Fo(r)===!1&&/^[a-zA-Z_$][a-zA-Z_$0-9]*$/g.test(r)},Fo=function(r){return Uo.has(r)},Uo=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with"]),Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.$number=void 0;var Go=Xe,Xo=function(r){if(isFinite(r)===!1)throw new Go.TypeGuardError({method:"typia.json.stringify",expected:"number",value:r,message:"Error on typia.json.stringify(): infinite or not a number."});return r};Xt.$number=Xo;var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.$report=void 0;var Zo=function(r){var e=function(t){if(r.length===0)return!0;var n=r[r.length-1].path;return t.length>n.length||n.substring(0,t.length)!==t};return function(t,n){return t&&e(n.path)&&r.push(n),!1}};Zt.$report=Zo;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.$rest=void 0;var Ko=function(r){return r.length===2?"":","+r.substring(1,r.length-1)};Kt.$rest=Ko;var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.$string=void 0;var Yo=function(r){if(Qo.test(r)===!1)return'"'.concat(r,'"');var e=r.length;if(e>41)return JSON.stringify(r);for(var t="",n=-1,a=255,i=0;i<e;++i){if(a=r.charCodeAt(i),a<32||a>=55296&&a<=57343)return JSON.stringify(r);(a===34||a===92)&&(n===-1&&(n=0),t+=r.slice(n,i)+"\\",n=i)}return n===-1&&'"'+r+'"'||'"'+t+r.slice(n)+'"'};Yt.$string=Yo;var Qo=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.$tail=void 0;var Jo=function(r){return r[r.length-1]===","?r.substring(0,r.length-1):r};Qt.$tail=Jo;var he=C&&C.__assign||function(){return he=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a])}return r},he.apply(this,arguments)};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.Namespace=void 0;var Yn=Dt,Qn=Xe,es=Nt,ts=Lt,rs=Vt,ns=zt,as=Wt,is=Ft,os=Ut,Jn=Gt,ss=Xt,cs=Zt,us=Kt,fs=Yt,ls=bt,ds=Qt,ea;(function(r){r.is=function(){return{is_between:os.$is_between}},r.assert=function(t){return he(he({},r.is()),{join:Jn.$join,every:as.$every,guard:(0,is.$guard)("typia.".concat(t)),predicate:function(n,a,i){if(n===!1&&a===!0)throw new Qn.TypeGuardError(he(he({},i()),{method:"typia.".concat(t)}));return n}})},r.validate=function(){return he(he({},r.is()),{join:Jn.$join,report:cs.$report,predicate:function(t){return function(n,a,i){return n===!1&&a===!0&&function(){t.success&&(t.success=!1);var o=t.errors,c=i();if(o.length){var l=o[o.length-1].path;if(l.length>=c.path.length&&l.substring(0,c.path.length)===c.path)return}o.push(c)}(),n}}})},function(t){t.stringify=function(n){return he(he({},r.is()),{number:ss.$number,string:fs.$string,tail:ds.$tail,rest:us.$rest,throws:e("json.".concat(n))})}}(r.json||(r.json={})),function(t){t.decode=function(n){return{Reader:es.$ProtobufReader,throws:e("protobuf.".concat(n))}},t.encode=function(n){return{Sizer:ts.$ProtobufSizer,Writer:rs.$ProtobufWriter,strlen:ls.$strlen,throws:e(n)}}}(r.protobuf||(r.protobuf={})),function(t){t.clone=function(n){return he(he({},r.is()),{throws:e("misc.".concat(n)),any:ns.$any})},t.prune=function(n){return he(he({},r.is()),{throws:e("misc.".concat(n))})}}(r.misc||(r.misc={})),r.random=function(){return{generator:Yn.RandomGenerator,pick:Yn.RandomGenerator.pick}};var e=function(t){return function(n){throw new Qn.TypeGuardError(he(he({},n),{method:"typia.".concat(t)}))}}})(ea||(Fe.Namespace=ea={}));var Q={};Object.defineProperty(Q,"__esModule",{value:!0}),Q.createValidateStringify=Q.createIsStringify=Q.createAssertStringify=Q.createStringify=Q.createValidateParse=Q.createAssertParse=Q.createIsParse=Q.validateStringify=Q.isStringify=Q.assertStringify=Q.stringify=Q.validateParse=Q.isParse=Q.assertParse=Q.application=void 0;var Re=Fe;function hs(){ge("application")}Q.application=hs;function h0(){ge("assertParse")}Q.assertParse=h0,Object.assign(h0,Re.Namespace.assert("assertParse"));function v0(){ge("isParse")}Q.isParse=v0,Object.assign(v0,Re.Namespace.is());function x0(){ge("validateParse")}Q.validateParse=x0,Object.assign(x0,Re.Namespace.validate());function p0(){ge("stringify")}Q.stringify=p0,Object.assign(p0,Re.Namespace.json.stringify("stringify"));function Jt(){ge("assertStringify")}Q.assertStringify=Jt,Object.assign(Jt,Re.Namespace.assert("assertStringify")),Object.assign(Jt,Re.Namespace.json.stringify("assertStringify"));function er(){ge("isStringify")}Q.isStringify=er,Object.assign(er,Re.Namespace.is()),Object.assign(er,Re.Namespace.json.stringify("isStringify"));function tr(){ge("validateStringify")}Q.validateStringify=tr,Object.assign(tr,Re.Namespace.validate()),Object.assign(tr,Re.Namespace.json.stringify("validateStringify"));function ta(){ge("createIsParse")}Q.createIsParse=ta,Object.assign(ta,v0);function ra(){ge("createAssertParse")}Q.createAssertParse=ra,Object.assign(ra,h0);function na(){ge("createValidateParse")}Q.createValidateParse=na,Object.assign(na,x0);function aa(){ge("createStringify")}Q.createStringify=aa,Object.assign(aa,p0);function ia(){ge("createAssertStringify")}Q.createAssertStringify=ia,Object.assign(ia,Jt);function oa(){ge("createIsStringify")}Q.createIsStringify=oa,Object.assign(oa,er);function sa(){ge("createValidateStringify")}Q.createValidateStringify=sa,Object.assign(sa,tr);function ge(r){throw new Error("Error on typia.json.".concat(r,"(): no transform has been configured. Read and follow https://typia.json.io/docs/setup please."))}var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.createValidatePrune=G.createIsPrune=G.createAssertPrune=G.createPrune=G.createValidateClone=G.createIsClone=G.createAssertClone=G.createClone=G.validatePrune=G.isPrune=G.assertPrune=G.prune=G.validateClone=G.isClone=G.assertClone=G.clone=G.literals=void 0;var be=Fe;function vs(){ue("literals")}G.literals=vs;function g0(){ue("clone")}G.clone=g0,Object.assign(g0,be.Namespace.misc.clone("clone"));function rr(){ue("assertClone")}G.assertClone=rr,Object.assign(rr,be.Namespace.assert("assertClone")),Object.assign(rr,be.Namespace.misc.clone("assertClone"));function nr(){ue("isClone")}G.isClone=nr,Object.assign(nr,be.Namespace.is()),Object.assign(nr,be.Namespace.misc.clone("isClone"));function ar(){ue("validateClone")}G.validateClone=ar,Object.assign(ar,be.Namespace.validate()),Object.assign(ar,be.Namespace.misc.clone("validateClone"));function y0(){ue("prune")}G.prune=y0,Object.assign(y0,be.Namespace.misc.prune("prune"));function ir(){ue("assertPrune")}G.assertPrune=ir,Object.assign(ir,be.Namespace.assert("assertPrune")),Object.assign(ir,be.Namespace.misc.prune("assertPrune"));function or(){ue("isPrune")}G.isPrune=or,Object.assign(or,be.Namespace.is()),Object.assign(or,be.Namespace.misc.prune("isPrune"));function sr(){ue("validatePrune")}G.validatePrune=sr,Object.assign(sr,be.Namespace.misc.prune("validatePrune")),Object.assign(sr,be.Namespace.validate());function ca(){ue("createClone")}G.createClone=ca,Object.assign(ca,g0);function ua(){ue("createAssertClone")}G.createAssertClone=ua,Object.assign(ua,rr);function fa(){ue("createIsClone")}G.createIsClone=fa,Object.assign(fa,nr);function la(){ue("createValidateClone")}G.createValidateClone=la,Object.assign(la,ar);function da(){ue("createPrune")}G.createPrune=da,Object.assign(da,y0);function ha(){ue("createAssertPrune")}G.createAssertPrune=ha,Object.assign(ha,ir);function va(){ue("createIsPrune")}G.createIsPrune=va,Object.assign(va,or);function xa(){ue("createValidatePrune")}G.createValidatePrune=xa,Object.assign(xa,sr);function ue(r){throw new Error("Error on typia.misc.".concat(r,"(): no transform has been configured. Read and follow https://typia.misc.io/docs/setup please."))}var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.createValidateEncode=X.createAssertEncode=X.createIsEncode=X.createEncode=X.createValidateDecode=X.createAssertDecode=X.createIsDecode=X.createDecode=X.validateEncode=X.isEncode=X.assertEncode=X.encode=X.validateDecode=X.isDecode=X.assertDecode=X.decode=X.message=void 0;var ne=Fe;function xs(){fe("message")}X.message=xs;function pa(){fe("decode")}X.decode=pa,Object.assign(pa,ne.Namespace.protobuf.decode("decode"));function _0(){fe("assertDecode")}X.assertDecode=_0,Object.assign(_0,ne.Namespace.assert("assertDecode")),Object.assign(_0,ne.Namespace.protobuf.decode("assertDecode"));function b0(){fe("isDecode")}X.isDecode=b0,Object.assign(b0,ne.Namespace.is()),Object.assign(b0,ne.Namespace.protobuf.decode("isDecode"));function m0(){fe("validateDecode")}X.validateDecode=m0,Object.assign(m0,ne.Namespace.validate()),Object.assign(m0,ne.Namespace.protobuf.decode("validateDecode"));function ga(){fe("encode")}X.encode=ga,Object.assign(ga,ne.Namespace.protobuf.encode("encode"));function w0(){fe("assertEncode")}X.assertEncode=w0,Object.assign(w0,ne.Namespace.assert("assertEncode")),Object.assign(w0,ne.Namespace.protobuf.encode("assertEncode"));function O0(){fe("isEncode")}X.isEncode=O0,Object.assign(O0,ne.Namespace.is()),Object.assign(O0,ne.Namespace.protobuf.encode("isEncode"));function E0(){fe("validateEncode")}X.validateEncode=E0,Object.assign(E0,ne.Namespace.validate()),Object.assign(E0,ne.Namespace.protobuf.encode("validateEncode"));function ya(){fe("createDecode")}X.createDecode=ya,Object.assign(ya,ne.Namespace.protobuf.decode("createDecode"));function C0(){fe("createIsDecode")}X.createIsDecode=C0,Object.assign(C0,ne.Namespace.is()),Object.assign(C0,ne.Namespace.protobuf.decode("createIsDecode"));function j0(){fe("createAssertDecode")}X.createAssertDecode=j0,Object.assign(j0,ne.Namespace.assert("createAssertDecode")),Object.assign(j0,ne.Namespace.protobuf.decode("createAssertDecode"));function S0(){fe("createValidateDecode")}X.createValidateDecode=S0,Object.assign(S0,ne.Namespace.validate()),Object.assign(S0,ne.Namespace.protobuf.decode("createValidateDecode"));function _a(){fe("createEncode")}X.createEncode=_a,Object.assign(_a,ne.Namespace.protobuf.encode("createEncode"));function P0(){fe("createIsEncode")}X.createIsEncode=P0,Object.assign(P0,ne.Namespace.is()),Object.assign(P0,ne.Namespace.protobuf.encode("createIsEncode"));function A0(){fe("createAssertEncode")}X.createAssertEncode=A0,Object.assign(A0,ne.Namespace.assert("createAssertEncode")),Object.assign(A0,ne.Namespace.protobuf.encode("createAssertEncode"));function R0(){fe("createValidateEncode")}X.createValidateEncode=R0,Object.assign(R0,ne.Namespace.validate()),Object.assign(R0,ne.Namespace.protobuf.encode("createValidateEncode"));function fe(r){throw new Error("Error on typia.protobuf.".concat(r,"(): no transform has been configured. Read and follow https://typia.io/docs/setup please."))}var ba={},ma={};Object.defineProperty(ma,"__esModule",{value:!0});var wa={};Object.defineProperty(wa,"__esModule",{value:!0});var Oa={};Object.defineProperty(Oa,"__esModule",{value:!0});var Ea={};Object.defineProperty(Ea,"__esModule",{value:!0});var Ca={};Object.defineProperty(Ca,"__esModule",{value:!0});var ja={};Object.defineProperty(ja,"__esModule",{value:!0});var Sa={};Object.defineProperty(Sa,"__esModule",{value:!0});var Pa={};Object.defineProperty(Pa,"__esModule",{value:!0});var Aa={};Object.defineProperty(Aa,"__esModule",{value:!0});var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0});var Ia={};Object.defineProperty(Ia,"__esModule",{value:!0});var Ma={};Object.defineProperty(Ma,"__esModule",{value:!0}),function(r){var e=C&&C.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(a,i);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,c)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=C&&C.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(ma,r),t(wa,r),t(Oa,r),t(Ea,r),t(Ca,r),t(ja,r),t(Sa,r),t(Pa,r),t(Aa,r),t(Ra,r),t(Ba,r),t(Ia,r),t(Ma,r)}(ba);var Da={};Object.defineProperty(Da,"__esModule",{value:!0});var Ta={};Object.defineProperty(Ta,"__esModule",{value:!0});var ka={};Object.defineProperty(ka,"__esModule",{value:!0});var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0});var $a={};Object.defineProperty($a,"__esModule",{value:!0});var Na={};Object.defineProperty(Na,"__esModule",{value:!0});var La={};Object.defineProperty(La,"__esModule",{value:!0}),function(r){var e=C&&C.__createBinding||(Object.create?function(w,S,P,k){k===void 0&&(k=P);var b=Object.getOwnPropertyDescriptor(S,P);(!b||("get"in b?!S.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return S[P]}}),Object.defineProperty(w,k,b)}:function(w,S,P,k){k===void 0&&(k=P),w[k]=S[P]}),t=C&&C.__setModuleDefault||(Object.create?function(w,S){Object.defineProperty(w,"default",{enumerable:!0,value:S})}:function(w,S){w.default=S}),n=C&&C.__importStar||function(w){if(w&&w.__esModule)return w;var S={};if(w!=null)for(var P in w)P!=="default"&&Object.prototype.hasOwnProperty.call(w,P)&&e(S,w,P);return t(S,w),S},a=C&&C.__exportStar||function(w,S){for(var P in w)P!=="default"&&!Object.prototype.hasOwnProperty.call(S,P)&&e(S,w,P)};Object.defineProperty(r,"__esModule",{value:!0}),r.createRandom=r.createValidateEquals=r.createEquals=r.createAssertEquals=r.createValidate=r.createIs=r.createAssert=r.metadata=r.random=r.validateEquals=r.equals=r.assertEquals=r.validate=r.is=r.assert=r.tags=r.protobuf=r.misc=r.json=void 0;var i=Fe;r.json=n(Q),r.misc=n(G),r.protobuf=n(X),r.tags=n(ba),a(Da,r),a(Ta,r),a(ka,r),a(Ha,r),a($a,r),a(Na,r),a(La,r),a(Xe,r);function o(){O("assert")}r.assert=o,Object.assign(o,i.Namespace.assert("assert"));function c(){O("is")}r.is=c,Object.assign(c,i.Namespace.assert("is"));function l(){O("validate")}r.validate=l,Object.assign(l,i.Namespace.validate());function s(){O("assertEquals")}r.assertEquals=s,Object.assign(s,i.Namespace.assert("assertEquals"));function u(){O("equals")}r.equals=u,Object.assign(u,i.Namespace.is());function _(){O("validateEquals")}r.validateEquals=_,Object.assign(_,i.Namespace.validate());function f(){O("random")}r.random=f,Object.assign(f,i.Namespace.random());function d(){O("metadata")}r.metadata=d;function h(){O("createAssert")}r.createAssert=h,Object.assign(h,o);function v(){O("createIs")}r.createIs=v,Object.assign(v,c);function g(){O("createValidate")}r.createValidate=g,Object.assign(g,l);function E(){O("createAssertEquals")}r.createAssertEquals=E,Object.assign(E,s);function x(){O("createEquals")}r.createEquals=x,Object.assign(x,u);function p(){O("createValidateEquals")}r.createValidateEquals=p,Object.assign(p,_);function y(){O("createRandom")}r.createRandom=y,Object.assign(y,f);function O(w){throw new Error("Error on typia.".concat(w,"(): no transform has been configured. Read and follow https://typia.io/docs/setup please."))}}(u0),function(r){var e=C&&C.__createBinding||(Object.create?function(o,c,l,s){s===void 0&&(s=l);var u=Object.getOwnPropertyDescriptor(c,l);(!u||("get"in u?!c.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return c[l]}}),Object.defineProperty(o,s,u)}:function(o,c,l,s){s===void 0&&(s=l),o[s]=c[l]}),t=C&&C.__setModuleDefault||(Object.create?function(o,c){Object.defineProperty(o,"default",{enumerable:!0,value:c})}:function(o,c){o.default=c}),n=C&&C.__importStar||function(o){if(o&&o.__esModule)return o;var c={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&e(c,o,l);return t(c,o),c},a=C&&C.__exportStar||function(o,c){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(c,l)&&e(c,o,l)};Object.defineProperty(r,"__esModule",{value:!0});var i=n(u0);r.default=i,a(u0,r)}(Wn);var ps=C&&C.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Me,"__esModule",{value:!0}),Me.isMessageDataStringfy=Me.isMessageDataParse=Me.equalsTypedRealMessage=void 0;const Va=ps(Wn),gs=(r,e=!0)=>typeof r=="object"&&r!==null&&((n,a=!0)=>typeof n.token=="string"&&typeof n.channel=="string"&&typeof n.messageData=="string"&&(Object.keys(n).length===3||Object.keys(n).every(i=>!!(["token","channel","messageData"].some(c=>i===c)||n[i]===void 0))))(r,!0);Me.equalsTypedRealMessage=gs;const ys=r=>{const e=t=>{const n=a=>(a.runtimeId===void 0||typeof a.runtimeId=="string")&&(a.key===void 0||typeof a.key=="string")&&(a.message===void 0||typeof a.message=="string");return typeof t=="object"&&t!==null&&Array.isArray(t)===!1&&n(t)};return r=JSON.parse(r),e(r)?r:null};Me.isMessageDataParse=ys;const _s=r=>{const e=n=>{const a=i=>(i.runtimeId===void 0||typeof i.runtimeId=="string")&&(i.key===void 0||typeof i.key=="string")&&(i.message===void 0||typeof i.message=="string");return typeof n=="object"&&n!==null&&Array.isArray(n)===!1&&a(n)},t=n=>{const a=Va.default.json.createIsStringify.string,i=Va.default.json.createIsStringify.tail;return(c=>`{${i(`${c.runtimeId===void 0?"":`"runtimeId":${c.runtimeId!==void 0?a(c.runtimeId):void 0},`}${c.key===void 0?"":`"key":${c.key!==void 0?a(c.key):void 0},`}${c.message===void 0?"":`"message":${c.message!==void 0?a(c.message):void 0}`}`)}}`)(n)};return e(r)?t(r):null};Me.isMessageDataStringfy=_s;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.uniqueSet=He.assertNotNull=void 0;const bs=function(r){if(r==null)throw new ReferenceError;return r};He.assertNotNull=bs;const ms=(r,e,t)=>{if(r.has(e))throw new Error(`Duplicate set for key: ${e}`);r.set(e,t)};He.uniqueSet=ms;var ws=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Os=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},za=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}},Es=C&&C.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(nt,"__esModule",{value:!0}),nt.AESCryptoAgent=void 0;const B0=Es(qn),Cs=_e,qa=Me,Wa=rt,I0=He;let M0=class{constructor(e,t){this.logger=e,this.keyProvider=t}getProvider(){return(0,I0.assertNotNull)(this.keyProvider)}encrypt(e){const t=(0,qa.isMessageDataStringfy)(e);if(!t)throw new TypeError("uncorected json object");const n=(0,I0.assertNotNull)(this.keyProvider).getValue();return B0.default.AES.encrypt(t,n).toString()}decrypt(e){const t=(0,I0.assertNotNull)(this.keyProvider).getValue(),a=B0.default.AES.decrypt(e,t).toString(B0.default.enc.Utf8);return(0,qa.isMessageDataParse)(a)}};nt.AESCryptoAgent=M0,nt.AESCryptoAgent=M0=ws([(0,Cs.injectable)(),za(0,(0,Wa.injectOptional)("Logger")),za(1,(0,Wa.injectOptional)("SessionStaticKey")),Os("design:paramtypes",[Object,Object])],M0);var st={},js=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Ss=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Fa=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(st,"__esModule",{value:!0}),st.IndexdDBDatabaseAgent=void 0;const D0=_e;let T0=class{constructor(e,t){this.config=e,this.logger=t,this.db=null}async open(){return new Promise((e,t)=>{const n=indexedDB.open(this.config.databaseName);n.onerror=()=>{t(new Error)},n.onsuccess=()=>{this.db=n.result,e()},n.onupgradeneeded=a=>{const i=a.target.result;i.objectStoreNames.contains(this.config.storeName)||i.createObjectStore(this.config.storeName)}})}async save(e,t){return new Promise((n,a)=>{const c=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName).put(t,e);c.onerror=()=>{a(new Error)},c.onsuccess=()=>{n()}})}async get(e){return new Promise((t,n)=>{const o=this.db.transaction([this.config.storeName],"readonly").objectStore(this.config.storeName).get(e);o.onerror=()=>{n(new Error)},o.onsuccess=()=>{t(o.result)}})}async delete(e){return new Promise((t,n)=>{const o=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName).delete(e);o.onerror=()=>{n(new Error)},o.onsuccess=()=>{t()}})}close(){var e;(e=this.db)==null||e.close()}};st.IndexdDBDatabaseAgent=T0,st.IndexdDBDatabaseAgent=T0=js([(0,D0.injectable)(),Fa(0,(0,D0.inject)("DatabaseAgentConfig")),Fa(1,(0,D0.inject)("Logger")),Ss("design:paramtypes",[Object,Object])],T0);var ct={},mt={};Object.defineProperty(mt,"__esModule",{value:!0}),mt.AlertNamedError=void 0;class Ps extends Error{constructor(e,t){super(e),this.originalError=t,this.name=e,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}mt.AlertNamedError=Ps;var Ze={},As=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.ErrorListener=void 0;const Rs=_e;let k0=class{constructor(){this.handleError=e=>{var t;(t=this.errorHandler)==null||t.call(this,e)}}listen(e){this.errorHandler=e,self.addEventListener("error",this.handleError),self.addEventListener("unhandledrejection",this.handleError)}unlisten(){this.errorHandler&&(self.removeEventListener("error",this.handleError),self.removeEventListener("unhandledrejection",this.handleError),this.errorHandler=void 0)}};Ze.ErrorListener=k0,Ze.ErrorListener=k0=As([(0,Rs.injectable)()],k0);var Bs=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Is=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Ua=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(ct,"__esModule",{value:!0}),ct.DisplayAlertErrorObserver=void 0;const H0=_e,Ms=mt,Ds=Ze;let $0=class{constructor(e,t){this.logger=e,this.errorListener=t}observe(){this.errorListener.listen(this.errorHandler.bind(this))}unobserve(){this.errorListener.unlisten()}errorHandler(e){try{let t,n;const a=e instanceof ErrorEvent?e.error:e.reason;if(a instanceof Ms.AlertNamedError){if(t=`AlertNamedError: ${a.name}`,alert){const i=chrome.i18n.getMessage(a.name);alert(i)}n=a.stack}else a instanceof Error?(t=a.message,n=a.stack):t=`Unknown error event: ${e}`;this.logger.error(t,n)}catch(t){this.logger.error("Error occurred while handling error:",t)}}};ct.DisplayAlertErrorObserver=$0,ct.DisplayAlertErrorObserver=$0=Bs([(0,H0.injectable)(),Ua(0,(0,H0.inject)("Logger")),Ua(1,(0,H0.inject)("ErrorListener")),Is("design:paramtypes",[Object,Ds.ErrorListener])],$0);var ut={},Ts=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i};Object.defineProperty(ut,"__esModule",{value:!0}),ut.ConsoleInjectableLogger=void 0;const ks=_e;let N0=class{debug(e,...t){console.debug(e,...t)}info(e,...t){console.info(e,...t)}warn(e,...t){console.warn(e,...t)}error(e,...t){console.error(e,...t)}};ut.ConsoleInjectableLogger=N0,ut.ConsoleInjectableLogger=N0=Ts([(0,ks.injectable)()],N0);var ft={},wt={},cr={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.getLocation=r.getDocument=r.totalHeight=r.maxZIndex=r.isInView=r.htmlTextToHtmlElement=r.findParentPreElement=r.findMatchParent=r.documentHeight=r.appendStyleTextToHead=r.appendScriptText=r.appendElementToHead=void 0;const e=(d,h)=>{let v=d.querySelector("head");v||(v=document.createElement("head"),d.insertBefore(v,d.firstChild)),v.appendChild(h)};r.appendElementToHead=e;const t=(d,h)=>{const v=document.createElement("script");v.textContent=h,d.appendChild(v)};r.appendScriptText=t;const n=(d,h)=>{const v=document.createElement("style");v.textContent=h,(0,r.appendElementToHead)(d,v)};r.appendStyleTextToHead=n;const a=d=>Math.max.apply(null,[d.body.clientHeight,d.body.scrollHeight,d.documentElement.scrollHeight,d.documentElement.clientHeight]);r.documentHeight=a;const i=(d,h)=>{let v=d.parentElement;for(;v;){if(v.matches(h))return v;v=v.parentElement}return null};r.findMatchParent=i;const o=d=>d instanceof HTMLPreElement?d:(0,r.findMatchParent)(d,"pre");r.findParentPreElement=o;const c=d=>new DOMParser().parseFromString(d,"text/html").documentElement;r.htmlTextToHtmlElement=c;const l=(d,h)=>{const v=h.getBoundingClientRect(),g=v.top<d.innerHeight,E=0<v.bottom,x=v.left<d.innerWidth,p=0<v.right;return g&&E&&x&&p};r.isInView=l;const s=d=>{const h=Array.from(d.children).map(g=>{var y;const E=(y=g==null?void 0:g.style)==null?void 0:y.zIndex,x=parseInt(E);return isNaN(x)?0:x});return Math.max(...h)};r.maxZIndex=s;const u=d=>Array.from(d.children).reduce((v,g)=>{const E=g.offsetHeight;return v+E},0);r.totalHeight=u;const _=()=>document;r.getDocument=_;const f=()=>location;r.getLocation=f})(cr),function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.waitForAction=r.reserveLoadedAction=r.loadResourceText=r.isBackground=r.generateSessionStaticValue=r.EXT_ORIGIN=void 0;const e=cr;r.EXT_ORIGIN="chrome-extension://"+chrome.runtime.id;const t=async(c,l,s)=>{if((0,r.isBackground)()&&await chrome.storage.session.setAccessLevel({accessLevel:"TRUSTED_AND_UNTRUSTED_CONTEXTS"}),!s){const _=(await chrome.storage.session.get([c]))[c];if(_)return _}return await chrome.storage.session.set({[c]:l}),l};r.generateSessionStaticValue=t;const n=()=>{if((0,e.getLocation)().origin===r.EXT_ORIGIN)try{return typeof(0,e.getDocument)()>"u"}catch{return!0}return!1};r.isBackground=n;const a=async c=>{const l=chrome.runtime.getURL(c);return await(await fetch(l)).text()};r.loadResourceText=a;const i=(c,l)=>{if(c.readyState==="interactive"||c.readyState==="complete"){l();return}document.addEventListener("DOMContentLoaded",()=>{l()})};r.reserveLoadedAction=i;const o=async(c,l,s=30,u=6e3)=>{let _=0;for(;_<u&&l()!==!0;)await new Promise(f=>setTimeout(f,s)),_++;c()};r.waitForAction=o}(wt);var Hs=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},$s=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Ga=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(ft,"__esModule",{value:!0}),ft.MessageValidatorManagerImpl=void 0;const ur=_e,Xa=wt;let L0=class{constructor(e,t){this.config=e,this.logger=t,this.managedValidators=[],(0,Xa.isBackground)()?(chrome.alarms.create("refreshSession",{periodInMinutes:this.config.validatorRefreshInterval}),chrome.alarms.onAlarm.addListener(()=>{this.refreshValidators()})):setInterval(async()=>{this.refreshValidators()},this.config.validatorRefreshInterval*60*1e3)}async processValidation(e){const t=this.managedValidatorsValidation(e);if(t)return t;const n=await this.createNewValidator();return this.pushValidator(n),n.isValid(e)}async refreshValidators(){const e=await this.createNewValidator();if((0,Xa.isBackground)()){const t=e.getProvider(),n=e.getCryptoAgent().getProvider();await t.generateValue(!0),await(n==null?void 0:n.generateValue(!0))}this.pushValidator(e)}async getLatestValidator(){if(this.managedValidators.length===0){const e=await this.createNewValidator();this.pushValidator(e)}return this.managedValidators.slice(-1)[0]}managedValidatorsValidation(e){for(const t of[...this.managedValidators].reverse()){const n=t.isValid(e);if(n)return n}}pushValidator(e){this.managedValidators.push(e),this.managedValidators.length>this.config.maxMessageValidators&&this.managedValidators.shift()}async createNewValidator(){const e=ur.container.resolve("MessageValidator"),t=e.getProvider(),n=e.getCryptoAgent().getProvider();return await t.generateValue(!1),await(n==null?void 0:n.generateValue(!1)),e}};ft.MessageValidatorManagerImpl=L0,ft.MessageValidatorManagerImpl=L0=Hs([(0,ur.injectable)(),Ga(0,(0,ur.inject)("MessageValidatorManagerConfig")),Ga(1,(0,ur.inject)("Logger")),$s("design:paramtypes",[Object,Object])],L0);var lt={},Ns=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Ls=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},fr=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(lt,"__esModule",{value:!0}),lt.MessageValidatorImpl=void 0;const Ot=_e,Vs=Me,zs=He;let V0=class{constructor(e,t,n,a){this.config=e,this.tokenProvider=t,this.logger=n,this.cryptoAgent=a}getConfig(){return this.config}getProvider(){return(0,zs.assertNotNull)(this.tokenProvider)}getCryptoAgent(){return this.cryptoAgent}isValid(e){if(!this.config.allowedOrigins.includes(e.origin)||!(0,Vs.equalsTypedRealMessage)(e.message))return;const t=this.tokenProvider.getValue();if(e.message.token!==t||e.channel!==e.message.channel)return;const n=this.cryptoAgent.decrypt(e.message.messageData);if(n.runtimeId===this.config.runtimeId)return n}};lt.MessageValidatorImpl=V0,lt.MessageValidatorImpl=V0=Ns([(0,Ot.injectable)(),fr(0,(0,Ot.inject)("MessageValidatorConfig")),fr(1,(0,Ot.inject)("SessionStaticToken")),fr(2,(0,Ot.inject)("Logger")),fr(3,(0,Ot.inject)("CryptoAgent")),Ls("design:paramtypes",[Object,Object,Object,Object])],V0);var dt={},qs=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Ws=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},Za=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(dt,"__esModule",{value:!0}),dt.RuntimeMessageAgentImpl=void 0;const z0=_e,Fs=He;let q0=class{constructor(e,t){this.validatorManager=e,this.logger=t,this.runtimeListeners=new Map}async sendMessage(e,t,n){t||(t={runtimeId:chrome.runtime.id}),t.runtimeId||(t.runtimeId=chrome.runtime.id);const a=await this.validatorManager.getLatestValidator(),o=a.getCryptoAgent().encrypt(t),c=a.getProvider().getValue();if(!n){const l=a.getConfig().runtimeId;return chrome.runtime.sendMessage(l,{token:c,channel:e,messageData:o})}return chrome.tabs.sendMessage(n,{token:c,channel:e,messageData:o})}addListener(e,t){const n=(a,i,o)=>((async()=>{const c=(0,Fs.assertNotNull)(i.origin),l=await this.validatorManager.processValidation({origin:c,channel:e,message:a});if(!l)return;const s=await t(l);o(s)})(),!0);this.runtimeListeners.set(t,n),chrome.runtime.onMessage.addListener(n)}removeListener(e){const t=this.runtimeListeners.get(e);t&&(chrome.runtime.onMessage.removeListener(t),this.runtimeListeners.delete(e))}clearListeners(){this.runtimeListeners.forEach(e=>{chrome.runtime.onMessage.removeListener(e)}),this.runtimeListeners.clear()}};dt.RuntimeMessageAgentImpl=q0,dt.RuntimeMessageAgentImpl=q0=qs([(0,z0.injectable)(),Za(0,(0,z0.inject)("MessageValidatorManager")),Za(1,(0,z0.inject)("Logger")),Ws("design:paramtypes",[Object,Object])],q0);var $e={},Us=C&&C.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t);var a=Object.getOwnPropertyDescriptor(e,t);(!a||("get"in a?!e.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return e[t]}}),Object.defineProperty(r,n,a)}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Gs=C&&C.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Ka=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Xs=C&&C.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Us(e,r,t);return Gs(e,r),e},Zs=C&&C.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($e,"__esModule",{value:!0}),$e.SessionStaticToken=$e.SessionStaticKey=void 0;const Ya=Zs(qn),Qa=_e,W0=Xs(wt);let F0=class{constructor(){this.key="",this.aesInitial=""}getValue(){return this.key}async generateValue(e){const t=Date.now().toString(),n=await W0.generateSessionStaticValue("startTime",t,e);return this.aesInitial||(this.aesInitial=await W0.loadResourceText("cryptokey")),this.key=Ya.default.SHA256(this.aesInitial+n).toString(Ya.default.enc.Base64),this.key}};$e.SessionStaticKey=F0,$e.SessionStaticKey=F0=Ka([(0,Qa.injectable)()],F0);let U0=class{constructor(){this.token=""}getValue(){return this.token}async generateValue(e){const t=crypto.randomUUID();return this.token=await W0.generateSessionStaticValue("token",t,e),this.token}};$e.SessionStaticToken=U0,$e.SessionStaticToken=U0=Ka([(0,Qa.injectable)()],U0);var lr={},ht={},Ks=C&&C.__decorate||function(r,e,t,n){var a=arguments.length,i=a<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,e,t,n);else for(var c=r.length-1;c>=0;c--)(o=r[c])&&(i=(a<3?o(i):a>3?o(e,t,i):o(e,t))||i);return a>3&&i&&Object.defineProperty(e,t,i),i},Ys=C&&C.__metadata||function(r,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,e)},G0=C&&C.__param||function(r,e){return function(t,n){e(t,n,r)}};Object.defineProperty(ht,"__esModule",{value:!0}),ht.WindowMessageAgentImpl=void 0;const dr=_e;let X0=class{constructor(e,t,n){this.validatorManager=e,this.validatorConfig=t,this.logger=n,this.windowListeners=new Map}async postMessage(e,t,n,a){if(a||(a={runtimeId:chrome.runtime.id}),a.runtimeId||(a.runtimeId=chrome.runtime.id),!this.validatorConfig.allowedOrigins.includes(t))throw new Error(`Invalid targetOrigin: ${t}`);const i=await this.validatorManager.getLatestValidator(),c=i.getCryptoAgent().encrypt(a),l=i.getProvider().getValue();e.postMessage({token:l,channel:n,messageData:c},t)}addListener(e,t){const n=async a=>{const i=await this.validatorManager.processValidation({origin:a.origin,channel:e,message:a.data});i&&t(i)};this.windowListeners.set(t,n),window.addEventListener("message",n)}removeListener(e){const t=this.windowListeners.get(e);t&&(window.removeEventListener("message",t),this.windowListeners.delete(e))}clearListeners(){this.windowListeners.forEach(e=>{window.removeEventListener("message",e)}),this.windowListeners.clear()}};ht.WindowMessageAgentImpl=X0,ht.WindowMessageAgentImpl=X0=Ks([(0,dr.injectable)(),G0(0,(0,dr.inject)("MessageValidatorManager")),G0(1,(0,dr.inject)("MessageValidatorConfig")),G0(2,(0,dr.inject)("Logger")),Ys("design:paramtypes",[Object,Object,Object])],X0),Object.defineProperty(lr,"__esModule",{value:!0}),lr.initializeDIContainer=void 0;const le=_e,Qs=et,Js=tt,ec=nt,tc=st,rc=ct,nc=ut,ac=ft,ic=lt,oc=dt,Ja=$e,sc=ht,cc=Ze,uc=r=>{le.container.clearInstances(),le.container.register("ChannelListenerMap",{useClass:Qs.ChanneListenerMapImpl}),le.container.registerSingleton("CrossDispatcher",Js.CrossDispatcherImpl),le.container.register("CryptoAgent",{useClass:ec.AESCryptoAgent}),r.databaseName&&r.storeName&&(le.container.register("DatabaseAgentConfig",{useValue:{databaseName:r.databaseName,storeName:r.storeName}}),le.container.register("DatabaseAgent",{useClass:tc.IndexdDBDatabaseAgent})),le.container.register("ErrorListener",{useClass:cc.ErrorListener}),le.container.register("ErrorObserver",{useClass:rc.DisplayAlertErrorObserver}),le.container.register("Logger",{useClass:nc.ConsoleInjectableLogger}),le.container.register("MessageValidatorManagerConfig",{useValue:{maxMessageValidators:3,validatorRefreshInterval:1}}),le.container.registerSingleton("MessageValidatorManager",ac.MessageValidatorManagerImpl),le.container.register("MessageValidatorConfig",{useValue:{runtimeId:chrome.runtime.id,allowedOrigins:r.allowedOrigins}}),le.container.register("MessageValidator",{useClass:ic.MessageValidatorImpl}),le.container.register("RuntimeMessageAgent",{useClass:oc.RuntimeMessageAgentImpl}),le.container.register("SessionStaticToken",{useClass:Ja.SessionStaticToken}),le.container.register("SessionStaticKey",{useClass:Ja.SessionStaticKey}),le.container.register("WindowMessageAgent",{useClass:sc.WindowMessageAgentImpl})};lr.initializeDIContainer=uc;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.ElementLoader=void 0;const fc=wt,lc=cr;class dc{constructor(e){this.elements={},this.spec=e}async loadFromURL(e){const t=await(0,fc.loadResourceText)(e);return this.loadFromString(t)}async loadFromString(e){const t=(0,lc.htmlTextToHtmlElement)(e);for(const n in this.spec){const a=this.spec[n].elementType,i=t.querySelector(this.spec[n].id);if(!(i instanceof a))throw new TypeError(`The fetched element for ${n} does not match the expected type.`);this.elements[n]=i}return this}}hr.ElementLoader=dc;var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.validateMethod=void 0;function hc(r){return function(e,t,n){const a=n.value;vc(a)?n.value=async function(...o){r.argsValidator&&r.argsValidator(o);const c=await a.apply(this,o);return r.resultValidator&&r.resultValidator(c),c}:n.value=function(...o){r.argsValidator&&r.argsValidator(o);const c=a.apply(this,o);return r.resultValidator&&r.resultValidator(c),c}}}vr.validateMethod=hc;function vc(r){return Object.getPrototypeOf(r)===Object.getPrototypeOf(async function(){})}(function(r){var e=C&&C.__createBinding||(Object.create?function(n,a,i,o){o===void 0&&(o=i);var c=Object.getOwnPropertyDescriptor(a,i);(!c||("get"in c?!a.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return a[i]}}),Object.defineProperty(n,o,c)}:function(n,a,i,o){o===void 0&&(o=i),n[o]=a[i]}),t=C&&C.__exportStar||function(n,a){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(a,i)&&e(a,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),t(et,r),t(tt,r),t(nt,r),t(st,r),t(ct,r),t(ut,r),t(ft,r),t(lt,r),t(dt,r),t($e,r),t(mt,r),t(wt,r),t(lr,r),t(cr,r),t(hr,r),t(Ze,r),t(rt,r),t(He,r),t(vr,r),t(ht,r)})(Ie);const Le={ClipboardSave:"ClipboardSave",DatabaseOpen:"DatabaseOpen",DatabaseSave:"DatabaseSave",DatabaseLoad:"DatabaseLoad",EditorLoaded:"EditorLoaded",ShowPreview:"ShowPreview",TabChangedEvent:"TabChangedEvent",TabUpdate:"TabUpdate",URLUpdated:"URLUpdated"},ei="https://chat.openai.com";var xc=Object.defineProperty,pc=Object.getOwnPropertyDescriptor,gc=(r,e,t,n)=>{for(var a=n>1?void 0:n?pc(e,t):e,i=r.length-1,o;i>=0;i--)(o=r[i])&&(a=(n?o(e,t,a):o(a))||a);return n&&a&&xc(e,t,a),a},ti=(r,e)=>(t,n)=>e(t,n,r);let Z0=class{constructor(r,e){this.databaseAgent=r,this.messageAgent=e}async initialize(){await this.openDatabase(),this.messageAgent.addListener(Le.DatabaseSave,this.saveData.bind(this)),this.messageAgent.addListener(Le.DatabaseLoad,this.loadData.bind(this)),this.messageAgent.addListener(Le.ShowPreview,this.showPreview.bind(this)),chrome.tabs.onUpdated.addListener(this.handleTabUpdate.bind(this))}async openDatabase(){try{await this.databaseAgent.open()}catch(r){throw new Ie.AlertNamedError(Le.DatabaseOpen,r)}}async saveData(r){try{const e=Ie.assertNotNull(r.key);await this.databaseAgent.save(e,r.message)}catch(e){throw new Ie.AlertNamedError(Le.DatabaseSave,e)}}async loadData(r){try{const e=Ie.assertNotNull(r.key),t=await this.databaseAgent.get(e)||"";if(typeof t!="string")throw new TypeError("result type is not string");return{runtimeId:chrome.runtime.id,message:t,key:e}}catch(e){throw new Ie.AlertNamedError(Le.DatabaseLoad,e)}}showPreview(r){chrome.windows.create({url:"data:text/html;charset=utf-8,"+encodeURIComponent((r==null?void 0:r.message)??""),width:600,height:600,type:"panel"})}async handleTabUpdate(r,e,t){if(!(!t.active||!e.url||new URL(e.url).origin!==ei))try{await this.messageAgent.sendMessage(Le.URLUpdated,{},r)}catch(a){throw new Ie.AlertNamedError(Le.URLUpdated,a)}}};Z0=gc([It(),ti(0,wr("DatabaseAgent")),ti(1,wr("RuntimeMessageAgent"))],Z0),Ie.initializeDIContainer({databaseName:"chat gpt web developer",storeName:"editor save data",allowedOrigins:[Ie.EXT_ORIGIN,ei]}),de.resolve("ErrorObserver").observe(),de.registerSingleton("BackgroundWorker",Z0),de.resolve("BackgroundWorker").initialize()})();
