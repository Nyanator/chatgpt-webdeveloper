(function(){"use strict";var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ya(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}function ma(u){if(u.__esModule)return u;var d=u.default;if(typeof d=="function"){var f=function l(){return this instanceof l?Reflect.construct(d,arguments,this.constructor):d.apply(this,arguments)};f.prototype=d.prototype}else f={};return Object.defineProperty(f,"__esModule",{value:!0}),Object.keys(u).forEach(function(l){var E=Object.getOwnPropertyDescriptor(u,l);Object.defineProperty(f,l,E.get?E:{enumerable:!0,get:function(){return u[l]}})}),f}var he={},Nt={};Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.ChannelListenerMap=void 0;const ba=u=>new _a(u);Nt.ChannelListenerMap=ba;class _a{constructor(d){this.config=d,this.listeners=new Map}channel(d){for(const f in d){this.listeners.has(f)||this.listeners.set(f,[]);const l=d[f],E=this.listeners.get(f);l&&E&&E.push(l)}}remove(d){const f=this.listeners.get(d.channelKey);if(!f)return;const l=f.findIndex(E=>E===d.removeTarget);l>-1&&f.splice(l,1)}removeForChannel(d){this.listeners.set(d,[])}clear(){this.listeners.clear()}getListeners(){return this.listeners}}var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.CrossDispatcher=void 0;const wa=Nt,Ea=u=>new Sa(u);gr.CrossDispatcher=Ea;class Sa{constructor(d){this.config=d,this.channelListenerMap=(0,wa.ChannelListenerMap)(this.config),this.dispatchingChannel=new Set}channel(d){this.channelListenerMap.channel(d)}async dispatch(d){const f=this.channelListenerMap.getListeners().get(d.channelKey);if(!f)return this.handleError(`No listeners registered for channel: ${d.channelKey.toString()}`),[];const l=[];if(this.dispatchingChannel.has(d.channelKey))return this.handleError(`recursively called. Stop to prevent stack overflow. for channel: ${d.channelKey.toString()}`),[];this.dispatchingChannel.add(d.channelKey);try{for(const E of f){const M=E(d.channelData);if(M instanceof Promise){const q=await M;l.push(q)}else l.push(M)}}catch(E){this.handleError(`Error handling channel: ${d.channelKey.toString()}: ${E}`)}finally{this.dispatchingChannel.delete(d.channelKey)}return l}remove(d){this.channelListenerMap.remove({channelKey:d.channelKey,removeTarget:d.removeTarget})}removeForChannel(d){this.channelListenerMap.removeForChannel(d)}clear(){this.channelListenerMap.clear()}getListeners(){return this.channelListenerMap.getListeners()}handleError(d){var f,l,E;if((f=this.config)!=null&&f.strictMode)throw new Error(d);(E=(l=this.config)==null?void 0:l.logger)==null||E.error(d)}}var Wt={},ko={exports:{}};function Pa(u){throw new Error('Could not dynamically require "'+u+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var nn={exports:{}};const Ma=ma(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var Oo;function le(){return Oo||(Oo=1,function(u,d){(function(f,l){u.exports=l()})(oe,function(){var f=f||function(l,E){var M;if(typeof window<"u"&&window.crypto&&(M=window.crypto),typeof self<"u"&&self.crypto&&(M=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(M=globalThis.crypto),!M&&typeof window<"u"&&window.msCrypto&&(M=window.msCrypto),!M&&typeof oe<"u"&&oe.crypto&&(M=oe.crypto),!M&&typeof Pa=="function")try{M=Ma}catch{}var q=function(){if(M){if(typeof M.getRandomValues=="function")try{return M.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof M.randomBytes=="function")try{return M.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},p=Object.create||function(){function m(){}return function(S){var k;return m.prototype=S,k=new m,m.prototype=null,k}}(),O={},v=O.lib={},_=v.Base=function(){return{extend:function(m){var S=p(this);return m&&S.mixIn(m),(!S.hasOwnProperty("init")||this.init===S.init)&&(S.init=function(){S.$super.init.apply(this,arguments)}),S.init.prototype=S,S.$super=this,S},create:function(){var m=this.extend();return m.init.apply(m,arguments),m},init:function(){},mixIn:function(m){for(var S in m)m.hasOwnProperty(S)&&(this[S]=m[S]);m.hasOwnProperty("toString")&&(this.toString=m.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),D=v.WordArray=_.extend({init:function(m,S){m=this.words=m||[],S!=E?this.sigBytes=S:this.sigBytes=m.length*4},toString:function(m){return(m||x).stringify(this)},concat:function(m){var S=this.words,k=m.words,j=this.sigBytes,H=m.sigBytes;if(this.clamp(),j%4)for(var V=0;V<H;V++){var B=k[V>>>2]>>>24-V%4*8&255;S[j+V>>>2]|=B<<24-(j+V)%4*8}else for(var Z=0;Z<H;Z+=4)S[j+Z>>>2]=k[Z>>>2];return this.sigBytes+=H,this},clamp:function(){var m=this.words,S=this.sigBytes;m[S>>>2]&=4294967295<<32-S%4*8,m.length=l.ceil(S/4)},clone:function(){var m=_.clone.call(this);return m.words=this.words.slice(0),m},random:function(m){for(var S=[],k=0;k<m;k+=4)S.push(q());return new D.init(S,m)}}),b=O.enc={},x=b.Hex={stringify:function(m){for(var S=m.words,k=m.sigBytes,j=[],H=0;H<k;H++){var V=S[H>>>2]>>>24-H%4*8&255;j.push((V>>>4).toString(16)),j.push((V&15).toString(16))}return j.join("")},parse:function(m){for(var S=m.length,k=[],j=0;j<S;j+=2)k[j>>>3]|=parseInt(m.substr(j,2),16)<<24-j%8*4;return new D.init(k,S/2)}},y=b.Latin1={stringify:function(m){for(var S=m.words,k=m.sigBytes,j=[],H=0;H<k;H++){var V=S[H>>>2]>>>24-H%4*8&255;j.push(String.fromCharCode(V))}return j.join("")},parse:function(m){for(var S=m.length,k=[],j=0;j<S;j++)k[j>>>2]|=(m.charCodeAt(j)&255)<<24-j%4*8;return new D.init(k,S)}},w=b.Utf8={stringify:function(m){try{return decodeURIComponent(escape(y.stringify(m)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(m){return y.parse(unescape(encodeURIComponent(m)))}},C=v.BufferedBlockAlgorithm=_.extend({reset:function(){this._data=new D.init,this._nDataBytes=0},_append:function(m){typeof m=="string"&&(m=w.parse(m)),this._data.concat(m),this._nDataBytes+=m.sigBytes},_process:function(m){var S,k=this._data,j=k.words,H=k.sigBytes,V=this.blockSize,B=V*4,Z=H/B;m?Z=l.ceil(Z):Z=l.max((Z|0)-this._minBufferSize,0);var T=Z*V,z=l.min(T*4,H);if(T){for(var K=0;K<T;K+=V)this._doProcessBlock(j,K);S=j.splice(0,T),k.sigBytes-=z}return new D.init(S,z)},clone:function(){var m=_.clone.call(this);return m._data=this._data.clone(),m},_minBufferSize:0});v.Hasher=C.extend({cfg:_.extend(),init:function(m){this.cfg=this.cfg.extend(m),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(m){return this._append(m),this._process(),this},finalize:function(m){m&&this._append(m);var S=this._doFinalize();return S},blockSize:16,_createHelper:function(m){return function(S,k){return new m.init(k).finalize(S)}},_createHmacHelper:function(m){return function(S,k){return new R.HMAC.init(m,k).finalize(S)}}});var R=O.algo={};return O}(Math);return f})}(nn)),nn.exports}var on={exports:{}},To;function yr(){return To||(To=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(l){var E=f,M=E.lib,q=M.Base,p=M.WordArray,O=E.x64={};O.Word=q.extend({init:function(v,_){this.high=v,this.low=_}}),O.WordArray=q.extend({init:function(v,_){v=this.words=v||[],_!=l?this.sigBytes=_:this.sigBytes=v.length*8},toX32:function(){for(var v=this.words,_=v.length,D=[],b=0;b<_;b++){var x=v[b];D.push(x.high),D.push(x.low)}return p.create(D,this.sigBytes)},clone:function(){for(var v=q.clone.call(this),_=v.words=this.words.slice(0),D=_.length,b=0;b<D;b++)_[b]=_[b].clone();return v}})}(),f})}(on)),on.exports}var an={exports:{}},Do;function Ca(){return Do||(Do=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(){if(typeof ArrayBuffer=="function"){var l=f,E=l.lib,M=E.WordArray,q=M.init,p=M.init=function(O){if(O instanceof ArrayBuffer&&(O=new Uint8Array(O)),(O instanceof Int8Array||typeof Uint8ClampedArray<"u"&&O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array)&&(O=new Uint8Array(O.buffer,O.byteOffset,O.byteLength)),O instanceof Uint8Array){for(var v=O.byteLength,_=[],D=0;D<v;D++)_[D>>>2]|=O[D]<<24-D%4*8;q.call(this,_,v)}else q.apply(this,arguments)};p.prototype=M}}(),f.lib.WordArray})}(an)),an.exports}var sn={exports:{}},Ao;function ka(){return Ao||(Ao=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.WordArray,q=l.enc;q.Utf16=q.Utf16BE={stringify:function(O){for(var v=O.words,_=O.sigBytes,D=[],b=0;b<_;b+=2){var x=v[b>>>2]>>>16-b%4*8&65535;D.push(String.fromCharCode(x))}return D.join("")},parse:function(O){for(var v=O.length,_=[],D=0;D<v;D++)_[D>>>1]|=O.charCodeAt(D)<<16-D%2*16;return M.create(_,v*2)}},q.Utf16LE={stringify:function(O){for(var v=O.words,_=O.sigBytes,D=[],b=0;b<_;b+=2){var x=p(v[b>>>2]>>>16-b%4*8&65535);D.push(String.fromCharCode(x))}return D.join("")},parse:function(O){for(var v=O.length,_=[],D=0;D<v;D++)_[D>>>1]|=p(O.charCodeAt(D)<<16-D%2*16);return M.create(_,v*2)}};function p(O){return O<<8&4278255360|O>>>8&16711935}}(),f.enc.Utf16})}(sn)),sn.exports}var cn={exports:{}},Bo;function Ot(){return Bo||(Bo=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.WordArray,q=l.enc;q.Base64={stringify:function(O){var v=O.words,_=O.sigBytes,D=this._map;O.clamp();for(var b=[],x=0;x<_;x+=3)for(var y=v[x>>>2]>>>24-x%4*8&255,w=v[x+1>>>2]>>>24-(x+1)%4*8&255,C=v[x+2>>>2]>>>24-(x+2)%4*8&255,R=y<<16|w<<8|C,m=0;m<4&&x+m*.75<_;m++)b.push(D.charAt(R>>>6*(3-m)&63));var S=D.charAt(64);if(S)for(;b.length%4;)b.push(S);return b.join("")},parse:function(O){var v=O.length,_=this._map,D=this._reverseMap;if(!D){D=this._reverseMap=[];for(var b=0;b<_.length;b++)D[_.charCodeAt(b)]=b}var x=_.charAt(64);if(x){var y=O.indexOf(x);y!==-1&&(v=y)}return p(O,v,D)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function p(O,v,_){for(var D=[],b=0,x=0;x<v;x++)if(x%4){var y=_[O.charCodeAt(x-1)]<<x%4*2,w=_[O.charCodeAt(x)]>>>6-x%4*2,C=y|w;D[b>>>2]|=C<<24-b%4*8,b++}return M.create(D,b)}}(),f.enc.Base64})}(cn)),cn.exports}var ln={exports:{}},Ro;function Oa(){return Ro||(Ro=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.WordArray,q=l.enc;q.Base64url={stringify:function(O,v=!0){var _=O.words,D=O.sigBytes,b=v?this._safe_map:this._map;O.clamp();for(var x=[],y=0;y<D;y+=3)for(var w=_[y>>>2]>>>24-y%4*8&255,C=_[y+1>>>2]>>>24-(y+1)%4*8&255,R=_[y+2>>>2]>>>24-(y+2)%4*8&255,m=w<<16|C<<8|R,S=0;S<4&&y+S*.75<D;S++)x.push(b.charAt(m>>>6*(3-S)&63));var k=b.charAt(64);if(k)for(;x.length%4;)x.push(k);return x.join("")},parse:function(O,v=!0){var _=O.length,D=v?this._safe_map:this._map,b=this._reverseMap;if(!b){b=this._reverseMap=[];for(var x=0;x<D.length;x++)b[D.charCodeAt(x)]=x}var y=D.charAt(64);if(y){var w=O.indexOf(y);w!==-1&&(_=w)}return p(O,_,b)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function p(O,v,_){for(var D=[],b=0,x=0;x<v;x++)if(x%4){var y=_[O.charCodeAt(x-1)]<<x%4*2,w=_[O.charCodeAt(x)]>>>6-x%4*2,C=y|w;D[b>>>2]|=C<<24-b%4*8,b++}return M.create(D,b)}}(),f.enc.Base64url})}(ln)),ln.exports}var un={exports:{}},Io;function Tt(){return Io||(Io=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(l){var E=f,M=E.lib,q=M.WordArray,p=M.Hasher,O=E.algo,v=[];(function(){for(var w=0;w<64;w++)v[w]=l.abs(l.sin(w+1))*4294967296|0})();var _=O.MD5=p.extend({_doReset:function(){this._hash=new q.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(w,C){for(var R=0;R<16;R++){var m=C+R,S=w[m];w[m]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360}var k=this._hash.words,j=w[C+0],H=w[C+1],V=w[C+2],B=w[C+3],Z=w[C+4],T=w[C+5],z=w[C+6],K=w[C+7],X=w[C+8],te=w[C+9],W=w[C+10],ee=w[C+11],xe=w[C+12],fe=w[C+13],ue=w[C+14],ce=w[C+15],N=k[0],U=k[1],G=k[2],I=k[3];N=D(N,U,G,I,j,7,v[0]),I=D(I,N,U,G,H,12,v[1]),G=D(G,I,N,U,V,17,v[2]),U=D(U,G,I,N,B,22,v[3]),N=D(N,U,G,I,Z,7,v[4]),I=D(I,N,U,G,T,12,v[5]),G=D(G,I,N,U,z,17,v[6]),U=D(U,G,I,N,K,22,v[7]),N=D(N,U,G,I,X,7,v[8]),I=D(I,N,U,G,te,12,v[9]),G=D(G,I,N,U,W,17,v[10]),U=D(U,G,I,N,ee,22,v[11]),N=D(N,U,G,I,xe,7,v[12]),I=D(I,N,U,G,fe,12,v[13]),G=D(G,I,N,U,ue,17,v[14]),U=D(U,G,I,N,ce,22,v[15]),N=b(N,U,G,I,H,5,v[16]),I=b(I,N,U,G,z,9,v[17]),G=b(G,I,N,U,ee,14,v[18]),U=b(U,G,I,N,j,20,v[19]),N=b(N,U,G,I,T,5,v[20]),I=b(I,N,U,G,W,9,v[21]),G=b(G,I,N,U,ce,14,v[22]),U=b(U,G,I,N,Z,20,v[23]),N=b(N,U,G,I,te,5,v[24]),I=b(I,N,U,G,ue,9,v[25]),G=b(G,I,N,U,B,14,v[26]),U=b(U,G,I,N,X,20,v[27]),N=b(N,U,G,I,fe,5,v[28]),I=b(I,N,U,G,V,9,v[29]),G=b(G,I,N,U,K,14,v[30]),U=b(U,G,I,N,xe,20,v[31]),N=x(N,U,G,I,T,4,v[32]),I=x(I,N,U,G,X,11,v[33]),G=x(G,I,N,U,ee,16,v[34]),U=x(U,G,I,N,ue,23,v[35]),N=x(N,U,G,I,H,4,v[36]),I=x(I,N,U,G,Z,11,v[37]),G=x(G,I,N,U,K,16,v[38]),U=x(U,G,I,N,W,23,v[39]),N=x(N,U,G,I,fe,4,v[40]),I=x(I,N,U,G,j,11,v[41]),G=x(G,I,N,U,B,16,v[42]),U=x(U,G,I,N,z,23,v[43]),N=x(N,U,G,I,te,4,v[44]),I=x(I,N,U,G,xe,11,v[45]),G=x(G,I,N,U,ce,16,v[46]),U=x(U,G,I,N,V,23,v[47]),N=y(N,U,G,I,j,6,v[48]),I=y(I,N,U,G,K,10,v[49]),G=y(G,I,N,U,ue,15,v[50]),U=y(U,G,I,N,T,21,v[51]),N=y(N,U,G,I,xe,6,v[52]),I=y(I,N,U,G,B,10,v[53]),G=y(G,I,N,U,W,15,v[54]),U=y(U,G,I,N,H,21,v[55]),N=y(N,U,G,I,X,6,v[56]),I=y(I,N,U,G,ce,10,v[57]),G=y(G,I,N,U,z,15,v[58]),U=y(U,G,I,N,fe,21,v[59]),N=y(N,U,G,I,Z,6,v[60]),I=y(I,N,U,G,ee,10,v[61]),G=y(G,I,N,U,V,15,v[62]),U=y(U,G,I,N,te,21,v[63]),k[0]=k[0]+N|0,k[1]=k[1]+U|0,k[2]=k[2]+G|0,k[3]=k[3]+I|0},_doFinalize:function(){var w=this._data,C=w.words,R=this._nDataBytes*8,m=w.sigBytes*8;C[m>>>5]|=128<<24-m%32;var S=l.floor(R/4294967296),k=R;C[(m+64>>>9<<4)+15]=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,C[(m+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,w.sigBytes=(C.length+1)*4,this._process();for(var j=this._hash,H=j.words,V=0;V<4;V++){var B=H[V];H[V]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return j},clone:function(){var w=p.clone.call(this);return w._hash=this._hash.clone(),w}});function D(w,C,R,m,S,k,j){var H=w+(C&R|~C&m)+S+j;return(H<<k|H>>>32-k)+C}function b(w,C,R,m,S,k,j){var H=w+(C&m|R&~m)+S+j;return(H<<k|H>>>32-k)+C}function x(w,C,R,m,S,k,j){var H=w+(C^R^m)+S+j;return(H<<k|H>>>32-k)+C}function y(w,C,R,m,S,k,j){var H=w+(R^(C|~m))+S+j;return(H<<k|H>>>32-k)+C}E.MD5=p._createHelper(_),E.HmacMD5=p._createHmacHelper(_)}(Math),f.MD5})}(un)),un.exports}var fn={exports:{}},jo;function dn(){return jo||(jo=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.WordArray,q=E.Hasher,p=l.algo,O=[],v=p.SHA1=q.extend({_doReset:function(){this._hash=new M.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(_,D){for(var b=this._hash.words,x=b[0],y=b[1],w=b[2],C=b[3],R=b[4],m=0;m<80;m++){if(m<16)O[m]=_[D+m]|0;else{var S=O[m-3]^O[m-8]^O[m-14]^O[m-16];O[m]=S<<1|S>>>31}var k=(x<<5|x>>>27)+R+O[m];m<20?k+=(y&w|~y&C)+1518500249:m<40?k+=(y^w^C)+1859775393:m<60?k+=(y&w|y&C|w&C)-1894007588:k+=(y^w^C)-899497514,R=C,C=w,w=y<<30|y>>>2,y=x,x=k}b[0]=b[0]+x|0,b[1]=b[1]+y|0,b[2]=b[2]+w|0,b[3]=b[3]+C|0,b[4]=b[4]+R|0},_doFinalize:function(){var _=this._data,D=_.words,b=this._nDataBytes*8,x=_.sigBytes*8;return D[x>>>5]|=128<<24-x%32,D[(x+64>>>9<<4)+14]=Math.floor(b/4294967296),D[(x+64>>>9<<4)+15]=b,_.sigBytes=D.length*4,this._process(),this._hash},clone:function(){var _=q.clone.call(this);return _._hash=this._hash.clone(),_}});l.SHA1=q._createHelper(v),l.HmacSHA1=q._createHmacHelper(v)}(),f.SHA1})}(fn)),fn.exports}var pn={exports:{}},Lo;function zo(){return Lo||(Lo=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){return function(l){var E=f,M=E.lib,q=M.WordArray,p=M.Hasher,O=E.algo,v=[],_=[];(function(){function x(R){for(var m=l.sqrt(R),S=2;S<=m;S++)if(!(R%S))return!1;return!0}function y(R){return(R-(R|0))*4294967296|0}for(var w=2,C=0;C<64;)x(w)&&(C<8&&(v[C]=y(l.pow(w,1/2))),_[C]=y(l.pow(w,1/3)),C++),w++})();var D=[],b=O.SHA256=p.extend({_doReset:function(){this._hash=new q.init(v.slice(0))},_doProcessBlock:function(x,y){for(var w=this._hash.words,C=w[0],R=w[1],m=w[2],S=w[3],k=w[4],j=w[5],H=w[6],V=w[7],B=0;B<64;B++){if(B<16)D[B]=x[y+B]|0;else{var Z=D[B-15],T=(Z<<25|Z>>>7)^(Z<<14|Z>>>18)^Z>>>3,z=D[B-2],K=(z<<15|z>>>17)^(z<<13|z>>>19)^z>>>10;D[B]=T+D[B-7]+K+D[B-16]}var X=k&j^~k&H,te=C&R^C&m^R&m,W=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),ee=(k<<26|k>>>6)^(k<<21|k>>>11)^(k<<7|k>>>25),xe=V+ee+X+_[B]+D[B],fe=W+te;V=H,H=j,j=k,k=S+xe|0,S=m,m=R,R=C,C=xe+fe|0}w[0]=w[0]+C|0,w[1]=w[1]+R|0,w[2]=w[2]+m|0,w[3]=w[3]+S|0,w[4]=w[4]+k|0,w[5]=w[5]+j|0,w[6]=w[6]+H|0,w[7]=w[7]+V|0},_doFinalize:function(){var x=this._data,y=x.words,w=this._nDataBytes*8,C=x.sigBytes*8;return y[C>>>5]|=128<<24-C%32,y[(C+64>>>9<<4)+14]=l.floor(w/4294967296),y[(C+64>>>9<<4)+15]=w,x.sigBytes=y.length*4,this._process(),this._hash},clone:function(){var x=p.clone.call(this);return x._hash=this._hash.clone(),x}});E.SHA256=p._createHelper(b),E.HmacSHA256=p._createHmacHelper(b)}(Math),f.SHA256})}(pn)),pn.exports}var vn={exports:{}},Ho;function Ta(){return Ho||(Ho=1,function(u,d){(function(f,l,E){u.exports=l(le(),zo())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.WordArray,q=l.algo,p=q.SHA256,O=q.SHA224=p.extend({_doReset:function(){this._hash=new M.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var v=p._doFinalize.call(this);return v.sigBytes-=4,v}});l.SHA224=p._createHelper(O),l.HmacSHA224=p._createHmacHelper(O)}(),f.SHA224})}(vn)),vn.exports}var hn={exports:{}},qo;function Fo(){return qo||(qo=1,function(u,d){(function(f,l,E){u.exports=l(le(),yr())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.Hasher,q=l.x64,p=q.Word,O=q.WordArray,v=l.algo;function _(){return p.create.apply(p,arguments)}var D=[_(1116352408,3609767458),_(1899447441,602891725),_(3049323471,3964484399),_(3921009573,2173295548),_(961987163,4081628472),_(1508970993,3053834265),_(2453635748,2937671579),_(2870763221,3664609560),_(3624381080,2734883394),_(310598401,1164996542),_(607225278,1323610764),_(1426881987,3590304994),_(1925078388,4068182383),_(2162078206,991336113),_(2614888103,633803317),_(3248222580,3479774868),_(3835390401,2666613458),_(4022224774,944711139),_(264347078,2341262773),_(604807628,2007800933),_(770255983,1495990901),_(1249150122,1856431235),_(1555081692,3175218132),_(1996064986,2198950837),_(2554220882,3999719339),_(2821834349,766784016),_(2952996808,2566594879),_(3210313671,3203337956),_(3336571891,1034457026),_(3584528711,2466948901),_(113926993,3758326383),_(338241895,168717936),_(666307205,1188179964),_(773529912,1546045734),_(1294757372,1522805485),_(1396182291,2643833823),_(1695183700,2343527390),_(1986661051,1014477480),_(2177026350,1206759142),_(2456956037,344077627),_(2730485921,1290863460),_(2820302411,3158454273),_(3259730800,3505952657),_(3345764771,106217008),_(3516065817,3606008344),_(3600352804,1432725776),_(4094571909,1467031594),_(275423344,851169720),_(430227734,3100823752),_(506948616,1363258195),_(659060556,3750685593),_(883997877,3785050280),_(958139571,3318307427),_(1322822218,3812723403),_(1537002063,2003034995),_(1747873779,3602036899),_(1955562222,1575990012),_(2024104815,1125592928),_(2227730452,2716904306),_(2361852424,442776044),_(2428436474,593698344),_(2756734187,3733110249),_(3204031479,2999351573),_(3329325298,3815920427),_(3391569614,3928383900),_(3515267271,566280711),_(3940187606,3454069534),_(4118630271,4000239992),_(116418474,1914138554),_(174292421,2731055270),_(289380356,3203993006),_(460393269,320620315),_(685471733,587496836),_(852142971,1086792851),_(1017036298,365543100),_(1126000580,2618297676),_(1288033470,3409855158),_(1501505948,4234509866),_(1607167915,987167468),_(1816402316,1246189591)],b=[];(function(){for(var y=0;y<80;y++)b[y]=_()})();var x=v.SHA512=M.extend({_doReset:function(){this._hash=new O.init([new p.init(1779033703,4089235720),new p.init(3144134277,2227873595),new p.init(1013904242,4271175723),new p.init(2773480762,1595750129),new p.init(1359893119,2917565137),new p.init(2600822924,725511199),new p.init(528734635,4215389547),new p.init(1541459225,327033209)])},_doProcessBlock:function(y,w){for(var C=this._hash.words,R=C[0],m=C[1],S=C[2],k=C[3],j=C[4],H=C[5],V=C[6],B=C[7],Z=R.high,T=R.low,z=m.high,K=m.low,X=S.high,te=S.low,W=k.high,ee=k.low,xe=j.high,fe=j.low,ue=H.high,ce=H.low,N=V.high,U=V.low,G=B.high,I=B.low,ge=Z,de=T,Me=z,ie=K,We=X,$e=te,Ke=W,pt=ee,Ie=xe,Oe=fe,pe=ue,ot=ce,vt=N,Ae=U,ht=G,xt=I,Be=0;Be<80;Be++){var je,Te,Ze=b[Be];if(Be<16)Te=Ze.high=y[w+Be*2]|0,je=Ze.low=y[w+Be*2+1]|0;else{var Qe=b[Be-15],it=Qe.high,Ue=Qe.low,Pr=(it>>>1|Ue<<31)^(it>>>8|Ue<<24)^it>>>7,Bt=(Ue>>>1|it<<31)^(Ue>>>8|it<<24)^(Ue>>>7|it<<25),Zt=b[Be-2],Xe=Zt.high,Je=Zt.low,Mr=(Xe>>>19|Je<<13)^(Xe<<3|Je>>>29)^Xe>>>6,Qt=(Je>>>19|Xe<<13)^(Je<<3|Xe>>>29)^(Je>>>6|Xe<<26),Cr=b[Be-7],Rt=Cr.high,Jt=Cr.low,It=b[Be-16],Yn=It.high,gt=It.low;je=Bt+Jt,Te=Pr+Rt+(je>>>0<Bt>>>0?1:0),je=je+Qt,Te=Te+Mr+(je>>>0<Qt>>>0?1:0),je=je+gt,Te=Te+Yn+(je>>>0<gt>>>0?1:0),Ze.high=Te,Ze.low=je}var $n=Ie&pe^~Ie&vt,er=Oe&ot^~Oe&Ae,Ve=ge&Me^ge&We^Me&We,Zn=de&ie^de&$e^ie&$e,yt=(ge>>>28|de<<4)^(ge<<30|de>>>2)^(ge<<25|de>>>7),kr=(de>>>28|ge<<4)^(de<<30|ge>>>2)^(de<<25|ge>>>7),ze=(Ie>>>14|Oe<<18)^(Ie>>>18|Oe<<14)^(Ie<<23|Oe>>>9),Ne=(Oe>>>14|Ie<<18)^(Oe>>>18|Ie<<14)^(Oe<<23|Ie>>>9),Ge=D[Be],Or=Ge.high,Tr=Ge.low,we=xt+Ne,re=ht+ze+(we>>>0<xt>>>0?1:0),we=we+er,re=re+$n+(we>>>0<er>>>0?1:0),we=we+Tr,re=re+Or+(we>>>0<Tr>>>0?1:0),we=we+je,re=re+Te+(we>>>0<je>>>0?1:0),mt=kr+Zn,bt=yt+Ve+(mt>>>0<kr>>>0?1:0);ht=vt,xt=Ae,vt=pe,Ae=ot,pe=Ie,ot=Oe,Oe=pt+we|0,Ie=Ke+re+(Oe>>>0<pt>>>0?1:0)|0,Ke=We,pt=$e,We=Me,$e=ie,Me=ge,ie=de,de=we+mt|0,ge=re+bt+(de>>>0<we>>>0?1:0)|0}T=R.low=T+de,R.high=Z+ge+(T>>>0<de>>>0?1:0),K=m.low=K+ie,m.high=z+Me+(K>>>0<ie>>>0?1:0),te=S.low=te+$e,S.high=X+We+(te>>>0<$e>>>0?1:0),ee=k.low=ee+pt,k.high=W+Ke+(ee>>>0<pt>>>0?1:0),fe=j.low=fe+Oe,j.high=xe+Ie+(fe>>>0<Oe>>>0?1:0),ce=H.low=ce+ot,H.high=ue+pe+(ce>>>0<ot>>>0?1:0),U=V.low=U+Ae,V.high=N+vt+(U>>>0<Ae>>>0?1:0),I=B.low=I+xt,B.high=G+ht+(I>>>0<xt>>>0?1:0)},_doFinalize:function(){var y=this._data,w=y.words,C=this._nDataBytes*8,R=y.sigBytes*8;w[R>>>5]|=128<<24-R%32,w[(R+128>>>10<<5)+30]=Math.floor(C/4294967296),w[(R+128>>>10<<5)+31]=C,y.sigBytes=w.length*4,this._process();var m=this._hash.toX32();return m},clone:function(){var y=M.clone.call(this);return y._hash=this._hash.clone(),y},blockSize:1024/32});l.SHA512=M._createHelper(x),l.HmacSHA512=M._createHmacHelper(x)}(),f.SHA512})}(hn)),hn.exports}var xn={exports:{}},Vo;function Da(){return Vo||(Vo=1,function(u,d){(function(f,l,E){u.exports=l(le(),yr(),Fo())})(oe,function(f){return function(){var l=f,E=l.x64,M=E.Word,q=E.WordArray,p=l.algo,O=p.SHA512,v=p.SHA384=O.extend({_doReset:function(){this._hash=new q.init([new M.init(3418070365,3238371032),new M.init(1654270250,914150663),new M.init(2438529370,812702999),new M.init(355462360,4144912697),new M.init(1731405415,4290775857),new M.init(2394180231,1750603025),new M.init(3675008525,1694076839),new M.init(1203062813,3204075428)])},_doFinalize:function(){var _=O._doFinalize.call(this);return _.sigBytes-=16,_}});l.SHA384=O._createHelper(v),l.HmacSHA384=O._createHmacHelper(v)}(),f.SHA384})}(xn)),xn.exports}var gn={exports:{}},No;function Aa(){return No||(No=1,function(u,d){(function(f,l,E){u.exports=l(le(),yr())})(oe,function(f){return function(l){var E=f,M=E.lib,q=M.WordArray,p=M.Hasher,O=E.x64,v=O.Word,_=E.algo,D=[],b=[],x=[];(function(){for(var C=1,R=0,m=0;m<24;m++){D[C+5*R]=(m+1)*(m+2)/2%64;var S=R%5,k=(2*C+3*R)%5;C=S,R=k}for(var C=0;C<5;C++)for(var R=0;R<5;R++)b[C+5*R]=R+(2*C+3*R)%5*5;for(var j=1,H=0;H<24;H++){for(var V=0,B=0,Z=0;Z<7;Z++){if(j&1){var T=(1<<Z)-1;T<32?B^=1<<T:V^=1<<T-32}j&128?j=j<<1^113:j<<=1}x[H]=v.create(V,B)}})();var y=[];(function(){for(var C=0;C<25;C++)y[C]=v.create()})();var w=_.SHA3=p.extend({cfg:p.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],R=0;R<25;R++)C[R]=new v.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,R){for(var m=this._state,S=this.blockSize/2,k=0;k<S;k++){var j=C[R+2*k],H=C[R+2*k+1];j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,H=(H<<8|H>>>24)&16711935|(H<<24|H>>>8)&4278255360;var V=m[k];V.high^=H,V.low^=j}for(var B=0;B<24;B++){for(var Z=0;Z<5;Z++){for(var T=0,z=0,K=0;K<5;K++){var V=m[Z+5*K];T^=V.high,z^=V.low}var X=y[Z];X.high=T,X.low=z}for(var Z=0;Z<5;Z++)for(var te=y[(Z+4)%5],W=y[(Z+1)%5],ee=W.high,xe=W.low,T=te.high^(ee<<1|xe>>>31),z=te.low^(xe<<1|ee>>>31),K=0;K<5;K++){var V=m[Z+5*K];V.high^=T,V.low^=z}for(var fe=1;fe<25;fe++){var T,z,V=m[fe],ue=V.high,ce=V.low,N=D[fe];N<32?(T=ue<<N|ce>>>32-N,z=ce<<N|ue>>>32-N):(T=ce<<N-32|ue>>>64-N,z=ue<<N-32|ce>>>64-N);var U=y[b[fe]];U.high=T,U.low=z}var G=y[0],I=m[0];G.high=I.high,G.low=I.low;for(var Z=0;Z<5;Z++)for(var K=0;K<5;K++){var fe=Z+5*K,V=m[fe],ge=y[fe],de=y[(Z+1)%5+5*K],Me=y[(Z+2)%5+5*K];V.high=ge.high^~de.high&Me.high,V.low=ge.low^~de.low&Me.low}var V=m[0],ie=x[B];V.high^=ie.high,V.low^=ie.low}},_doFinalize:function(){var C=this._data,R=C.words;this._nDataBytes*8;var m=C.sigBytes*8,S=this.blockSize*32;R[m>>>5]|=1<<24-m%32,R[(l.ceil((m+1)/S)*S>>>5)-1]|=128,C.sigBytes=R.length*4,this._process();for(var k=this._state,j=this.cfg.outputLength/8,H=j/8,V=[],B=0;B<H;B++){var Z=k[B],T=Z.high,z=Z.low;T=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,z=(z<<8|z>>>24)&16711935|(z<<24|z>>>8)&4278255360,V.push(z),V.push(T)}return new q.init(V,j)},clone:function(){for(var C=p.clone.call(this),R=C._state=this._state.slice(0),m=0;m<25;m++)R[m]=R[m].clone();return C}});E.SHA3=p._createHelper(w),E.HmacSHA3=p._createHmacHelper(w)}(Math),f.SHA3})}(gn)),gn.exports}var yn={exports:{}},Wo;function Ba(){return Wo||(Wo=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){/** @preserve
				(c) 2012 by Cédric Mesnil. All rights reserved.

				Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

				    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
				    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

				THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
				*/return function(l){var E=f,M=E.lib,q=M.WordArray,p=M.Hasher,O=E.algo,v=q.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),_=q.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),D=q.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),b=q.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=q.create([0,1518500249,1859775393,2400959708,2840853838]),y=q.create([1352829926,1548603684,1836072691,2053994217,0]),w=O.RIPEMD160=p.extend({_doReset:function(){this._hash=q.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(H,V){for(var B=0;B<16;B++){var Z=V+B,T=H[Z];H[Z]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}var z=this._hash.words,K=x.words,X=y.words,te=v.words,W=_.words,ee=D.words,xe=b.words,fe,ue,ce,N,U,G,I,ge,de,Me;G=fe=z[0],I=ue=z[1],ge=ce=z[2],de=N=z[3],Me=U=z[4];for(var ie,B=0;B<80;B+=1)ie=fe+H[V+te[B]]|0,B<16?ie+=C(ue,ce,N)+K[0]:B<32?ie+=R(ue,ce,N)+K[1]:B<48?ie+=m(ue,ce,N)+K[2]:B<64?ie+=S(ue,ce,N)+K[3]:ie+=k(ue,ce,N)+K[4],ie=ie|0,ie=j(ie,ee[B]),ie=ie+U|0,fe=U,U=N,N=j(ce,10),ce=ue,ue=ie,ie=G+H[V+W[B]]|0,B<16?ie+=k(I,ge,de)+X[0]:B<32?ie+=S(I,ge,de)+X[1]:B<48?ie+=m(I,ge,de)+X[2]:B<64?ie+=R(I,ge,de)+X[3]:ie+=C(I,ge,de)+X[4],ie=ie|0,ie=j(ie,xe[B]),ie=ie+Me|0,G=Me,Me=de,de=j(ge,10),ge=I,I=ie;ie=z[1]+ce+de|0,z[1]=z[2]+N+Me|0,z[2]=z[3]+U+G|0,z[3]=z[4]+fe+I|0,z[4]=z[0]+ue+ge|0,z[0]=ie},_doFinalize:function(){var H=this._data,V=H.words,B=this._nDataBytes*8,Z=H.sigBytes*8;V[Z>>>5]|=128<<24-Z%32,V[(Z+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,H.sigBytes=(V.length+1)*4,this._process();for(var T=this._hash,z=T.words,K=0;K<5;K++){var X=z[K];z[K]=(X<<8|X>>>24)&16711935|(X<<24|X>>>8)&4278255360}return T},clone:function(){var H=p.clone.call(this);return H._hash=this._hash.clone(),H}});function C(H,V,B){return H^V^B}function R(H,V,B){return H&V|~H&B}function m(H,V,B){return(H|~V)^B}function S(H,V,B){return H&B|V&~B}function k(H,V,B){return H^(V|~B)}function j(H,V){return H<<V|H>>>32-V}E.RIPEMD160=p._createHelper(w),E.HmacRIPEMD160=p._createHmacHelper(w)}(),f.RIPEMD160})}(yn)),yn.exports}var mn={exports:{}},Ko;function bn(){return Ko||(Ko=1,function(u,d){(function(f,l){u.exports=l(le())})(oe,function(f){(function(){var l=f,E=l.lib,M=E.Base,q=l.enc,p=q.Utf8,O=l.algo;O.HMAC=M.extend({init:function(v,_){v=this._hasher=new v.init,typeof _=="string"&&(_=p.parse(_));var D=v.blockSize,b=D*4;_.sigBytes>b&&(_=v.finalize(_)),_.clamp();for(var x=this._oKey=_.clone(),y=this._iKey=_.clone(),w=x.words,C=y.words,R=0;R<D;R++)w[R]^=1549556828,C[R]^=909522486;x.sigBytes=y.sigBytes=b,this.reset()},reset:function(){var v=this._hasher;v.reset(),v.update(this._iKey)},update:function(v){return this._hasher.update(v),this},finalize:function(v){var _=this._hasher,D=_.finalize(v);_.reset();var b=_.finalize(this._oKey.clone().concat(D));return b}})})()})}(mn)),mn.exports}var _n={exports:{}},Uo;function Ra(){return Uo||(Uo=1,function(u,d){(function(f,l,E){u.exports=l(le(),dn(),bn())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.Base,q=E.WordArray,p=l.algo,O=p.SHA1,v=p.HMAC,_=p.PBKDF2=M.extend({cfg:M.extend({keySize:128/32,hasher:O,iterations:1}),init:function(D){this.cfg=this.cfg.extend(D)},compute:function(D,b){for(var x=this.cfg,y=v.create(x.hasher,D),w=q.create(),C=q.create([1]),R=w.words,m=C.words,S=x.keySize,k=x.iterations;R.length<S;){var j=y.update(b).finalize(C);y.reset();for(var H=j.words,V=H.length,B=j,Z=1;Z<k;Z++){B=y.finalize(B),y.reset();for(var T=B.words,z=0;z<V;z++)H[z]^=T[z]}w.concat(j),m[0]++}return w.sigBytes=S*4,w}});l.PBKDF2=function(D,b,x){return _.create(x).compute(D,b)}}(),f.PBKDF2})}(_n)),_n.exports}var wn={exports:{}},Xo;function ft(){return Xo||(Xo=1,function(u,d){(function(f,l,E){u.exports=l(le(),dn(),bn())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.Base,q=E.WordArray,p=l.algo,O=p.MD5,v=p.EvpKDF=M.extend({cfg:M.extend({keySize:128/32,hasher:O,iterations:1}),init:function(_){this.cfg=this.cfg.extend(_)},compute:function(_,D){for(var b,x=this.cfg,y=x.hasher.create(),w=q.create(),C=w.words,R=x.keySize,m=x.iterations;C.length<R;){b&&y.update(b),b=y.update(_).finalize(D),y.reset();for(var S=1;S<m;S++)b=y.finalize(b),y.reset();w.concat(b)}return w.sigBytes=R*4,w}});l.EvpKDF=function(_,D,b){return v.create(b).compute(_,D)}}(),f.EvpKDF})}(wn)),wn.exports}var En={exports:{}},Go;function Pe(){return Go||(Go=1,function(u,d){(function(f,l,E){u.exports=l(le(),ft())})(oe,function(f){f.lib.Cipher||function(l){var E=f,M=E.lib,q=M.Base,p=M.WordArray,O=M.BufferedBlockAlgorithm,v=E.enc;v.Utf8;var _=v.Base64,D=E.algo,b=D.EvpKDF,x=M.Cipher=O.extend({cfg:q.extend(),createEncryptor:function(T,z){return this.create(this._ENC_XFORM_MODE,T,z)},createDecryptor:function(T,z){return this.create(this._DEC_XFORM_MODE,T,z)},init:function(T,z,K){this.cfg=this.cfg.extend(K),this._xformMode=T,this._key=z,this.reset()},reset:function(){O.reset.call(this),this._doReset()},process:function(T){return this._append(T),this._process()},finalize:function(T){T&&this._append(T);var z=this._doFinalize();return z},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function T(z){return typeof z=="string"?Z:H}return function(z){return{encrypt:function(K,X,te){return T(X).encrypt(z,K,X,te)},decrypt:function(K,X,te){return T(X).decrypt(z,K,X,te)}}}}()});M.StreamCipher=x.extend({_doFinalize:function(){var T=this._process(!0);return T},blockSize:1});var y=E.mode={},w=M.BlockCipherMode=q.extend({createEncryptor:function(T,z){return this.Encryptor.create(T,z)},createDecryptor:function(T,z){return this.Decryptor.create(T,z)},init:function(T,z){this._cipher=T,this._iv=z}}),C=y.CBC=function(){var T=w.extend();T.Encryptor=T.extend({processBlock:function(K,X){var te=this._cipher,W=te.blockSize;z.call(this,K,X,W),te.encryptBlock(K,X),this._prevBlock=K.slice(X,X+W)}}),T.Decryptor=T.extend({processBlock:function(K,X){var te=this._cipher,W=te.blockSize,ee=K.slice(X,X+W);te.decryptBlock(K,X),z.call(this,K,X,W),this._prevBlock=ee}});function z(K,X,te){var W,ee=this._iv;ee?(W=ee,this._iv=l):W=this._prevBlock;for(var xe=0;xe<te;xe++)K[X+xe]^=W[xe]}return T}(),R=E.pad={},m=R.Pkcs7={pad:function(T,z){for(var K=z*4,X=K-T.sigBytes%K,te=X<<24|X<<16|X<<8|X,W=[],ee=0;ee<X;ee+=4)W.push(te);var xe=p.create(W,X);T.concat(xe)},unpad:function(T){var z=T.words[T.sigBytes-1>>>2]&255;T.sigBytes-=z}};M.BlockCipher=x.extend({cfg:x.cfg.extend({mode:C,padding:m}),reset:function(){var T;x.reset.call(this);var z=this.cfg,K=z.iv,X=z.mode;this._xformMode==this._ENC_XFORM_MODE?T=X.createEncryptor:(T=X.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==T?this._mode.init(this,K&&K.words):(this._mode=T.call(X,this,K&&K.words),this._mode.__creator=T)},_doProcessBlock:function(T,z){this._mode.processBlock(T,z)},_doFinalize:function(){var T,z=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(z.pad(this._data,this.blockSize),T=this._process(!0)):(T=this._process(!0),z.unpad(T)),T},blockSize:128/32});var S=M.CipherParams=q.extend({init:function(T){this.mixIn(T)},toString:function(T){return(T||this.formatter).stringify(this)}}),k=E.format={},j=k.OpenSSL={stringify:function(T){var z,K=T.ciphertext,X=T.salt;return X?z=p.create([1398893684,1701076831]).concat(X).concat(K):z=K,z.toString(_)},parse:function(T){var z,K=_.parse(T),X=K.words;return X[0]==1398893684&&X[1]==1701076831&&(z=p.create(X.slice(2,4)),X.splice(0,4),K.sigBytes-=16),S.create({ciphertext:K,salt:z})}},H=M.SerializableCipher=q.extend({cfg:q.extend({format:j}),encrypt:function(T,z,K,X){X=this.cfg.extend(X);var te=T.createEncryptor(K,X),W=te.finalize(z),ee=te.cfg;return S.create({ciphertext:W,key:K,iv:ee.iv,algorithm:T,mode:ee.mode,padding:ee.padding,blockSize:T.blockSize,formatter:X.format})},decrypt:function(T,z,K,X){X=this.cfg.extend(X),z=this._parse(z,X.format);var te=T.createDecryptor(K,X).finalize(z.ciphertext);return te},_parse:function(T,z){return typeof T=="string"?z.parse(T,this):T}}),V=E.kdf={},B=V.OpenSSL={execute:function(T,z,K,X){X||(X=p.random(64/8));var te=b.create({keySize:z+K}).compute(T,X),W=p.create(te.words.slice(z),K*4);return te.sigBytes=z*4,S.create({key:te,iv:W,salt:X})}},Z=M.PasswordBasedCipher=H.extend({cfg:H.cfg.extend({kdf:B}),encrypt:function(T,z,K,X){X=this.cfg.extend(X);var te=X.kdf.execute(K,T.keySize,T.ivSize);X.iv=te.iv;var W=H.encrypt.call(this,T,z,te.key,X);return W.mixIn(te),W},decrypt:function(T,z,K,X){X=this.cfg.extend(X),z=this._parse(z,X.format);var te=X.kdf.execute(K,T.keySize,T.ivSize,z.salt);X.iv=te.iv;var W=H.decrypt.call(this,T,z,te.key,X);return W}})}()})}(En)),En.exports}var Sn={exports:{}},Yo;function Ia(){return Yo||(Yo=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.mode.CFB=function(){var l=f.lib.BlockCipherMode.extend();l.Encryptor=l.extend({processBlock:function(M,q){var p=this._cipher,O=p.blockSize;E.call(this,M,q,O,p),this._prevBlock=M.slice(q,q+O)}}),l.Decryptor=l.extend({processBlock:function(M,q){var p=this._cipher,O=p.blockSize,v=M.slice(q,q+O);E.call(this,M,q,O,p),this._prevBlock=v}});function E(M,q,p,O){var v,_=this._iv;_?(v=_.slice(0),this._iv=void 0):v=this._prevBlock,O.encryptBlock(v,0);for(var D=0;D<p;D++)M[q+D]^=v[D]}return l}(),f.mode.CFB})}(Sn)),Sn.exports}var Pn={exports:{}},$o;function ja(){return $o||($o=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.mode.CTR=function(){var l=f.lib.BlockCipherMode.extend(),E=l.Encryptor=l.extend({processBlock:function(M,q){var p=this._cipher,O=p.blockSize,v=this._iv,_=this._counter;v&&(_=this._counter=v.slice(0),this._iv=void 0);var D=_.slice(0);p.encryptBlock(D,0),_[O-1]=_[O-1]+1|0;for(var b=0;b<O;b++)M[q+b]^=D[b]}});return l.Decryptor=E,l}(),f.mode.CTR})}(Pn)),Pn.exports}var Mn={exports:{}},Zo;function La(){return Zo||(Zo=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return f.mode.CTRGladman=function(){var l=f.lib.BlockCipherMode.extend();function E(p){if((p>>24&255)===255){var O=p>>16&255,v=p>>8&255,_=p&255;O===255?(O=0,v===255?(v=0,_===255?_=0:++_):++v):++O,p=0,p+=O<<16,p+=v<<8,p+=_}else p+=1<<24;return p}function M(p){return(p[0]=E(p[0]))===0&&(p[1]=E(p[1])),p}var q=l.Encryptor=l.extend({processBlock:function(p,O){var v=this._cipher,_=v.blockSize,D=this._iv,b=this._counter;D&&(b=this._counter=D.slice(0),this._iv=void 0),M(b);var x=b.slice(0);v.encryptBlock(x,0);for(var y=0;y<_;y++)p[O+y]^=x[y]}});return l.Decryptor=q,l}(),f.mode.CTRGladman})}(Mn)),Mn.exports}var Cn={exports:{}},Qo;function za(){return Qo||(Qo=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.mode.OFB=function(){var l=f.lib.BlockCipherMode.extend(),E=l.Encryptor=l.extend({processBlock:function(M,q){var p=this._cipher,O=p.blockSize,v=this._iv,_=this._keystream;v&&(_=this._keystream=v.slice(0),this._iv=void 0),p.encryptBlock(_,0);for(var D=0;D<O;D++)M[q+D]^=_[D]}});return l.Decryptor=E,l}(),f.mode.OFB})}(Cn)),Cn.exports}var kn={exports:{}},Jo;function Ha(){return Jo||(Jo=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.mode.ECB=function(){var l=f.lib.BlockCipherMode.extend();return l.Encryptor=l.extend({processBlock:function(E,M){this._cipher.encryptBlock(E,M)}}),l.Decryptor=l.extend({processBlock:function(E,M){this._cipher.decryptBlock(E,M)}}),l}(),f.mode.ECB})}(kn)),kn.exports}var On={exports:{}},ei;function qa(){return ei||(ei=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.pad.AnsiX923={pad:function(l,E){var M=l.sigBytes,q=E*4,p=q-M%q,O=M+p-1;l.clamp(),l.words[O>>>2]|=p<<24-O%4*8,l.sigBytes+=p},unpad:function(l){var E=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=E}},f.pad.Ansix923})}(On)),On.exports}var Tn={exports:{}},ti;function Fa(){return ti||(ti=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.pad.Iso10126={pad:function(l,E){var M=E*4,q=M-l.sigBytes%M;l.concat(f.lib.WordArray.random(q-1)).concat(f.lib.WordArray.create([q<<24],1))},unpad:function(l){var E=l.words[l.sigBytes-1>>>2]&255;l.sigBytes-=E}},f.pad.Iso10126})}(Tn)),Tn.exports}var Dn={exports:{}},ri;function Va(){return ri||(ri=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.pad.Iso97971={pad:function(l,E){l.concat(f.lib.WordArray.create([2147483648],1)),f.pad.ZeroPadding.pad(l,E)},unpad:function(l){f.pad.ZeroPadding.unpad(l),l.sigBytes--}},f.pad.Iso97971})}(Dn)),Dn.exports}var An={exports:{}},ni;function Na(){return ni||(ni=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.pad.ZeroPadding={pad:function(l,E){var M=E*4;l.clamp(),l.sigBytes+=M-(l.sigBytes%M||M)},unpad:function(l){for(var E=l.words,M=l.sigBytes-1,M=l.sigBytes-1;M>=0;M--)if(E[M>>>2]>>>24-M%4*8&255){l.sigBytes=M+1;break}}},f.pad.ZeroPadding})}(An)),An.exports}var Bn={exports:{}},oi;function Wa(){return oi||(oi=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return f.pad.NoPadding={pad:function(){},unpad:function(){}},f.pad.NoPadding})}(Bn)),Bn.exports}var Rn={exports:{}},ii;function Ka(){return ii||(ii=1,function(u,d){(function(f,l,E){u.exports=l(le(),Pe())})(oe,function(f){return function(l){var E=f,M=E.lib,q=M.CipherParams,p=E.enc,O=p.Hex,v=E.format;v.Hex={stringify:function(_){return _.ciphertext.toString(O)},parse:function(_){var D=O.parse(_);return q.create({ciphertext:D})}}}(),f.format.Hex})}(Rn)),Rn.exports}var In={exports:{}},ai;function Ua(){return ai||(ai=1,function(u,d){(function(f,l,E){u.exports=l(le(),Ot(),Tt(),ft(),Pe())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.BlockCipher,q=l.algo,p=[],O=[],v=[],_=[],D=[],b=[],x=[],y=[],w=[],C=[];(function(){for(var S=[],k=0;k<256;k++)k<128?S[k]=k<<1:S[k]=k<<1^283;for(var j=0,H=0,k=0;k<256;k++){var V=H^H<<1^H<<2^H<<3^H<<4;V=V>>>8^V&255^99,p[j]=V,O[V]=j;var B=S[j],Z=S[B],T=S[Z],z=S[V]*257^V*16843008;v[j]=z<<24|z>>>8,_[j]=z<<16|z>>>16,D[j]=z<<8|z>>>24,b[j]=z;var z=T*16843009^Z*65537^B*257^j*16843008;x[V]=z<<24|z>>>8,y[V]=z<<16|z>>>16,w[V]=z<<8|z>>>24,C[V]=z,j?(j=B^S[S[S[T^B]]],H^=S[S[H]]):j=H=1}})();var R=[0,1,2,4,8,16,32,64,128,27,54],m=q.AES=M.extend({_doReset:function(){var S;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var k=this._keyPriorReset=this._key,j=k.words,H=k.sigBytes/4,V=this._nRounds=H+6,B=(V+1)*4,Z=this._keySchedule=[],T=0;T<B;T++)T<H?Z[T]=j[T]:(S=Z[T-1],T%H?H>6&&T%H==4&&(S=p[S>>>24]<<24|p[S>>>16&255]<<16|p[S>>>8&255]<<8|p[S&255]):(S=S<<8|S>>>24,S=p[S>>>24]<<24|p[S>>>16&255]<<16|p[S>>>8&255]<<8|p[S&255],S^=R[T/H|0]<<24),Z[T]=Z[T-H]^S);for(var z=this._invKeySchedule=[],K=0;K<B;K++){var T=B-K;if(K%4)var S=Z[T];else var S=Z[T-4];K<4||T<=4?z[K]=S:z[K]=x[p[S>>>24]]^y[p[S>>>16&255]]^w[p[S>>>8&255]]^C[p[S&255]]}}},encryptBlock:function(S,k){this._doCryptBlock(S,k,this._keySchedule,v,_,D,b,p)},decryptBlock:function(S,k){var j=S[k+1];S[k+1]=S[k+3],S[k+3]=j,this._doCryptBlock(S,k,this._invKeySchedule,x,y,w,C,O);var j=S[k+1];S[k+1]=S[k+3],S[k+3]=j},_doCryptBlock:function(S,k,j,H,V,B,Z,T){for(var z=this._nRounds,K=S[k]^j[0],X=S[k+1]^j[1],te=S[k+2]^j[2],W=S[k+3]^j[3],ee=4,xe=1;xe<z;xe++){var fe=H[K>>>24]^V[X>>>16&255]^B[te>>>8&255]^Z[W&255]^j[ee++],ue=H[X>>>24]^V[te>>>16&255]^B[W>>>8&255]^Z[K&255]^j[ee++],ce=H[te>>>24]^V[W>>>16&255]^B[K>>>8&255]^Z[X&255]^j[ee++],N=H[W>>>24]^V[K>>>16&255]^B[X>>>8&255]^Z[te&255]^j[ee++];K=fe,X=ue,te=ce,W=N}var fe=(T[K>>>24]<<24|T[X>>>16&255]<<16|T[te>>>8&255]<<8|T[W&255])^j[ee++],ue=(T[X>>>24]<<24|T[te>>>16&255]<<16|T[W>>>8&255]<<8|T[K&255])^j[ee++],ce=(T[te>>>24]<<24|T[W>>>16&255]<<16|T[K>>>8&255]<<8|T[X&255])^j[ee++],N=(T[W>>>24]<<24|T[K>>>16&255]<<16|T[X>>>8&255]<<8|T[te&255])^j[ee++];S[k]=fe,S[k+1]=ue,S[k+2]=ce,S[k+3]=N},keySize:256/32});l.AES=M._createHelper(m)}(),f.AES})}(In)),In.exports}var jn={exports:{}},si;function Xa(){return si||(si=1,function(u,d){(function(f,l,E){u.exports=l(le(),Ot(),Tt(),ft(),Pe())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.WordArray,q=E.BlockCipher,p=l.algo,O=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],v=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],_=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],D=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],b=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=p.DES=q.extend({_doReset:function(){for(var R=this._key,m=R.words,S=[],k=0;k<56;k++){var j=O[k]-1;S[k]=m[j>>>5]>>>31-j%32&1}for(var H=this._subKeys=[],V=0;V<16;V++){for(var B=H[V]=[],Z=_[V],k=0;k<24;k++)B[k/6|0]|=S[(v[k]-1+Z)%28]<<31-k%6,B[4+(k/6|0)]|=S[28+(v[k+24]-1+Z)%28]<<31-k%6;B[0]=B[0]<<1|B[0]>>>31;for(var k=1;k<7;k++)B[k]=B[k]>>>(k-1)*4+3;B[7]=B[7]<<5|B[7]>>>27}for(var T=this._invSubKeys=[],k=0;k<16;k++)T[k]=H[15-k]},encryptBlock:function(R,m){this._doCryptBlock(R,m,this._subKeys)},decryptBlock:function(R,m){this._doCryptBlock(R,m,this._invSubKeys)},_doCryptBlock:function(R,m,S){this._lBlock=R[m],this._rBlock=R[m+1],y.call(this,4,252645135),y.call(this,16,65535),w.call(this,2,858993459),w.call(this,8,16711935),y.call(this,1,1431655765);for(var k=0;k<16;k++){for(var j=S[k],H=this._lBlock,V=this._rBlock,B=0,Z=0;Z<8;Z++)B|=D[Z][((V^j[Z])&b[Z])>>>0];this._lBlock=V,this._rBlock=H^B}var T=this._lBlock;this._lBlock=this._rBlock,this._rBlock=T,y.call(this,1,1431655765),w.call(this,8,16711935),w.call(this,2,858993459),y.call(this,16,65535),y.call(this,4,252645135),R[m]=this._lBlock,R[m+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function y(R,m){var S=(this._lBlock>>>R^this._rBlock)&m;this._rBlock^=S,this._lBlock^=S<<R}function w(R,m){var S=(this._rBlock>>>R^this._lBlock)&m;this._lBlock^=S,this._rBlock^=S<<R}l.DES=q._createHelper(x);var C=p.TripleDES=q.extend({_doReset:function(){var R=this._key,m=R.words;if(m.length!==2&&m.length!==4&&m.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var S=m.slice(0,2),k=m.length<4?m.slice(0,2):m.slice(2,4),j=m.length<6?m.slice(0,2):m.slice(4,6);this._des1=x.createEncryptor(M.create(S)),this._des2=x.createEncryptor(M.create(k)),this._des3=x.createEncryptor(M.create(j))},encryptBlock:function(R,m){this._des1.encryptBlock(R,m),this._des2.decryptBlock(R,m),this._des3.encryptBlock(R,m)},decryptBlock:function(R,m){this._des3.decryptBlock(R,m),this._des2.encryptBlock(R,m),this._des1.decryptBlock(R,m)},keySize:192/32,ivSize:64/32,blockSize:64/32});l.TripleDES=q._createHelper(C)}(),f.TripleDES})}(jn)),jn.exports}var Ln={exports:{}},ci;function Ga(){return ci||(ci=1,function(u,d){(function(f,l,E){u.exports=l(le(),Ot(),Tt(),ft(),Pe())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.StreamCipher,q=l.algo,p=q.RC4=M.extend({_doReset:function(){for(var _=this._key,D=_.words,b=_.sigBytes,x=this._S=[],y=0;y<256;y++)x[y]=y;for(var y=0,w=0;y<256;y++){var C=y%b,R=D[C>>>2]>>>24-C%4*8&255;w=(w+x[y]+R)%256;var m=x[y];x[y]=x[w],x[w]=m}this._i=this._j=0},_doProcessBlock:function(_,D){_[D]^=O.call(this)},keySize:256/32,ivSize:0});function O(){for(var _=this._S,D=this._i,b=this._j,x=0,y=0;y<4;y++){D=(D+1)%256,b=(b+_[D])%256;var w=_[D];_[D]=_[b],_[b]=w,x|=_[(_[D]+_[b])%256]<<24-y*8}return this._i=D,this._j=b,x}l.RC4=M._createHelper(p);var v=q.RC4Drop=p.extend({cfg:p.cfg.extend({drop:192}),_doReset:function(){p._doReset.call(this);for(var _=this.cfg.drop;_>0;_--)O.call(this)}});l.RC4Drop=M._createHelper(v)}(),f.RC4})}(Ln)),Ln.exports}var zn={exports:{}},li;function Ya(){return li||(li=1,function(u,d){(function(f,l,E){u.exports=l(le(),Ot(),Tt(),ft(),Pe())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.StreamCipher,q=l.algo,p=[],O=[],v=[],_=q.Rabbit=M.extend({_doReset:function(){for(var b=this._key.words,x=this.cfg.iv,y=0;y<4;y++)b[y]=(b[y]<<8|b[y]>>>24)&16711935|(b[y]<<24|b[y]>>>8)&4278255360;var w=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],C=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var y=0;y<4;y++)D.call(this);for(var y=0;y<8;y++)C[y]^=w[y+4&7];if(x){var R=x.words,m=R[0],S=R[1],k=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,j=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,H=k>>>16|j&4294901760,V=j<<16|k&65535;C[0]^=k,C[1]^=H,C[2]^=j,C[3]^=V,C[4]^=k,C[5]^=H,C[6]^=j,C[7]^=V;for(var y=0;y<4;y++)D.call(this)}},_doProcessBlock:function(b,x){var y=this._X;D.call(this),p[0]=y[0]^y[5]>>>16^y[3]<<16,p[1]=y[2]^y[7]>>>16^y[5]<<16,p[2]=y[4]^y[1]>>>16^y[7]<<16,p[3]=y[6]^y[3]>>>16^y[1]<<16;for(var w=0;w<4;w++)p[w]=(p[w]<<8|p[w]>>>24)&16711935|(p[w]<<24|p[w]>>>8)&4278255360,b[x+w]^=p[w]},blockSize:128/32,ivSize:64/32});function D(){for(var b=this._X,x=this._C,y=0;y<8;y++)O[y]=x[y];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<O[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<O[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<O[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<O[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<O[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<O[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<O[6]>>>0?1:0)|0,this._b=x[7]>>>0<O[7]>>>0?1:0;for(var y=0;y<8;y++){var w=b[y]+x[y],C=w&65535,R=w>>>16,m=((C*C>>>17)+C*R>>>15)+R*R,S=((w&4294901760)*w|0)+((w&65535)*w|0);v[y]=m^S}b[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,b[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,b[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,b[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,b[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,b[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,b[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,b[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}l.Rabbit=M._createHelper(_)}(),f.Rabbit})}(zn)),zn.exports}var Hn={exports:{}},ui;function $a(){return ui||(ui=1,function(u,d){(function(f,l,E){u.exports=l(le(),Ot(),Tt(),ft(),Pe())})(oe,function(f){return function(){var l=f,E=l.lib,M=E.StreamCipher,q=l.algo,p=[],O=[],v=[],_=q.RabbitLegacy=M.extend({_doReset:function(){var b=this._key.words,x=this.cfg.iv,y=this._X=[b[0],b[3]<<16|b[2]>>>16,b[1],b[0]<<16|b[3]>>>16,b[2],b[1]<<16|b[0]>>>16,b[3],b[2]<<16|b[1]>>>16],w=this._C=[b[2]<<16|b[2]>>>16,b[0]&4294901760|b[1]&65535,b[3]<<16|b[3]>>>16,b[1]&4294901760|b[2]&65535,b[0]<<16|b[0]>>>16,b[2]&4294901760|b[3]&65535,b[1]<<16|b[1]>>>16,b[3]&4294901760|b[0]&65535];this._b=0;for(var C=0;C<4;C++)D.call(this);for(var C=0;C<8;C++)w[C]^=y[C+4&7];if(x){var R=x.words,m=R[0],S=R[1],k=(m<<8|m>>>24)&16711935|(m<<24|m>>>8)&4278255360,j=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360,H=k>>>16|j&4294901760,V=j<<16|k&65535;w[0]^=k,w[1]^=H,w[2]^=j,w[3]^=V,w[4]^=k,w[5]^=H,w[6]^=j,w[7]^=V;for(var C=0;C<4;C++)D.call(this)}},_doProcessBlock:function(b,x){var y=this._X;D.call(this),p[0]=y[0]^y[5]>>>16^y[3]<<16,p[1]=y[2]^y[7]>>>16^y[5]<<16,p[2]=y[4]^y[1]>>>16^y[7]<<16,p[3]=y[6]^y[3]>>>16^y[1]<<16;for(var w=0;w<4;w++)p[w]=(p[w]<<8|p[w]>>>24)&16711935|(p[w]<<24|p[w]>>>8)&4278255360,b[x+w]^=p[w]},blockSize:128/32,ivSize:64/32});function D(){for(var b=this._X,x=this._C,y=0;y<8;y++)O[y]=x[y];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<O[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<O[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<O[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<O[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<O[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<O[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<O[6]>>>0?1:0)|0,this._b=x[7]>>>0<O[7]>>>0?1:0;for(var y=0;y<8;y++){var w=b[y]+x[y],C=w&65535,R=w>>>16,m=((C*C>>>17)+C*R>>>15)+R*R,S=((w&4294901760)*w|0)+((w&65535)*w|0);v[y]=m^S}b[0]=v[0]+(v[7]<<16|v[7]>>>16)+(v[6]<<16|v[6]>>>16)|0,b[1]=v[1]+(v[0]<<8|v[0]>>>24)+v[7]|0,b[2]=v[2]+(v[1]<<16|v[1]>>>16)+(v[0]<<16|v[0]>>>16)|0,b[3]=v[3]+(v[2]<<8|v[2]>>>24)+v[1]|0,b[4]=v[4]+(v[3]<<16|v[3]>>>16)+(v[2]<<16|v[2]>>>16)|0,b[5]=v[5]+(v[4]<<8|v[4]>>>24)+v[3]|0,b[6]=v[6]+(v[5]<<16|v[5]>>>16)+(v[4]<<16|v[4]>>>16)|0,b[7]=v[7]+(v[6]<<8|v[6]>>>24)+v[5]|0}l.RabbitLegacy=M._createHelper(_)}(),f.RabbitLegacy})}(Hn)),Hn.exports}(function(u,d){(function(f,l,E){u.exports=l(le(),yr(),Ca(),ka(),Ot(),Oa(),Tt(),dn(),zo(),Ta(),Fo(),Da(),Aa(),Ba(),bn(),Ra(),ft(),Pe(),Ia(),ja(),La(),za(),Ha(),qa(),Fa(),Va(),Na(),Wa(),Ka(),Ua(),Xa(),Ga(),Ya(),$a())})(oe,function(f){return f})})(ko);var fi=ko.exports,nt={},Kt={},mr={};(function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.getLocation=u.getDocument=u.totalHeight=u.maxZIndex=u.isInView=u.htmlTextToHtmlElement=u.findParentPreElement=u.findMatchParent=u.documentHeight=u.appendStyleTextToHead=u.appendScriptText=u.appendElementToHead=void 0;const d=(x,y)=>{let w=x.querySelector("head");w||(w=document.createElement("head"),x.insertBefore(w,x.firstChild)),w.appendChild(y)};u.appendElementToHead=d;const f=(x,y)=>{const w=document.createElement("script");w.textContent=y,x.appendChild(w)};u.appendScriptText=f;const l=(x,y)=>{const w=document.createElement("style");w.textContent=y,(0,u.appendElementToHead)(x,w)};u.appendStyleTextToHead=l;const E=x=>Math.max.apply(null,[x.body.clientHeight,x.body.scrollHeight,x.documentElement.scrollHeight,x.documentElement.clientHeight]);u.documentHeight=E;const M=(x,y)=>{let w=x.parentElement;for(;w;){if(w.matches(y))return w;w=w.parentElement}return null};u.findMatchParent=M;const q=x=>x instanceof HTMLPreElement?x:(0,u.findMatchParent)(x,"pre");u.findParentPreElement=q;const p=x=>new DOMParser().parseFromString(x,"text/html").documentElement;u.htmlTextToHtmlElement=p;const O=(x,y)=>{const w=y.getBoundingClientRect(),C=w.top<x.innerHeight,R=0<w.bottom,m=w.left<x.innerWidth,S=0<w.right;return C&&R&&m&&S};u.isInView=O;const v=x=>{const y=Array.from(x.children).map(C=>{var j;const m=((j=C==null?void 0:C.style)==null?void 0:j.zIndex)??0,S=parseInt(m);return isNaN(S)?0:S});return Math.max(...y)};u.maxZIndex=v;const _=x=>Array.from(x.children).reduce((w,C)=>{const R=C.offsetHeight;return w+R},0);u.totalHeight=_;const D=()=>document;u.getDocument=D;const b=()=>location;u.getLocation=b})(mr),function(u){Object.defineProperty(u,"__esModule",{value:!0}),u.waitForAction=u.reserveLoadedAction=u.loadResourceText=u.isBackground=u.generateSessionStaticValue=u.EXT_ORIGIN=void 0;const d=mr;u.EXT_ORIGIN="chrome-extension://"+chrome.runtime.id;const f=async(p,O,v)=>{if((0,u.isBackground)()&&chrome.storage.session.setAccessLevel({accessLevel:"TRUSTED_AND_UNTRUSTED_CONTEXTS"}),!v){const D=(await chrome.storage.session.get([p]))[p];if(D)return D}return await chrome.storage.session.set({[p]:O}),O};u.generateSessionStaticValue=f;const l=()=>{if((0,d.getLocation)().origin===u.EXT_ORIGIN)try{return typeof(0,d.getDocument)()>"u"}catch{return!0}return!1};u.isBackground=l;const E=async p=>{const O=chrome.runtime.getURL(p);return await(await fetch(O)).text()};u.loadResourceText=E;const M=(p,O)=>{if(p.readyState==="interactive"||p.readyState==="complete"){O();return}document.addEventListener("DOMContentLoaded",()=>{O()})};u.reserveLoadedAction=M;const q=async(p,O,v=30,_=6e3)=>{let D=0;for(;D<_&&O()!==!0;)await new Promise(b=>setTimeout(b,v)),D++;p()};u.waitForAction=q}(Kt);var Za=oe&&oe.__createBinding||(Object.create?function(u,d,f,l){l===void 0&&(l=f);var E=Object.getOwnPropertyDescriptor(d,f);(!E||("get"in E?!d.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(u,l,E)}:function(u,d,f,l){l===void 0&&(l=f),u[l]=d[f]}),Qa=oe&&oe.__setModuleDefault||(Object.create?function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}:function(u,d){u.default=d}),Ja=oe&&oe.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var f in u)f!=="default"&&Object.prototype.hasOwnProperty.call(u,f)&&Za(d,u,f);return Qa(d,u),d},e0=oe&&oe.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(nt,"__esModule",{value:!0}),nt.SessionStaticToken=nt.SessionStaticKey=void 0;const di=e0(fi),qn=Ja(Kt);class t0{constructor(){this.key="",this.aesInitial=""}getValue(){return this.key}async generateValue(d){const f=Date.now().toString(),l=await qn.generateSessionStaticValue("startTime",f,d);return this.aesInitial||(this.aesInitial=await qn.loadResourceText("cryptokey")),this.key=di.default.SHA256(this.aesInitial+l).toString(di.default.enc.Base64),this.key}}nt.SessionStaticKey=t0;class r0{constructor(){this.token=""}getValue(){return this.token}async generateValue(d){const f=crypto.randomUUID();return this.token=await qn.generateSessionStaticValue("token",f,d),this.token}}nt.SessionStaticToken=r0;var Fe={};Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.uniqueSet=Fe.assertNotNull=void 0;const n0=function(u){if(u==null)throw new ReferenceError;return u};Fe.assertNotNull=n0;const o0=(u,d,f)=>{if(u.has(d))throw new Error(`Duplicate set for key: ${d}`);u.set(d,f)};Fe.uniqueSet=o0;var i0=oe&&oe.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(Wt,"__esModule",{value:!0}),Wt.CryptoAgent=void 0;const Fn=i0(fi),a0=nt,Vn=Fe,s0=async u=>{var d;return u!=null&&u.keyProvider||(u={...u,keyProvider:new a0.SessionStaticKey},await((d=u.keyProvider)==null?void 0:d.generateValue(!1))),new c0(u)};Wt.CryptoAgent=s0;class c0{constructor(d){this.config=d}getProvider(){return(0,Vn.assertNotNull)(this.config.keyProvider)}encrypt(d){const f=JSON.stringify(d),l=(0,Vn.assertNotNull)(this.config.keyProvider).getValue();return Fn.default.AES.encrypt(f,l).toString()}decrypt(d){const f=(0,Vn.assertNotNull)(this.config.keyProvider).getValue(),E=Fn.default.AES.decrypt(d,f).toString(Fn.default.enc.Utf8);return JSON.parse(E)}}var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.DatabaseAgent=void 0;const l0=u=>new u0(u);br.DatabaseAgent=l0;class u0{constructor(d){this.config=d,this.db=null}async open(){return new Promise((d,f)=>{const l=indexedDB.open(this.config.databaseName);l.onerror=()=>{f(new Error)},l.onsuccess=()=>{this.db=l.result,d()},l.onupgradeneeded=E=>{const M=E.target.result;M.objectStoreNames.contains(this.config.storeName)||M.createObjectStore(this.config.storeName)}})}async save(d){return new Promise((f,l)=>{const q=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName).put(d.data,d.key);q.onerror=()=>{l(new Error)},q.onsuccess=()=>{f()}})}async get(d){return new Promise((f,l)=>{const q=this.db.transaction([this.config.storeName],"readonly").objectStore(this.config.storeName).get(d);q.onerror=()=>{l(new Error)},q.onsuccess=()=>{f(q.result)}})}async delete(d){return new Promise((f,l)=>{const q=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName).delete(d);q.onerror=()=>{l(new Error)},q.onsuccess=()=>{f()}})}close(){var d;(d=this.db)==null||d.close()}}var Dt={},Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.EventListenerMap=void 0;const Nn=Fe;class f0{constructor(){this.eventListeners=new Map}addListeners(d){d.configs.forEach(f=>{const l=d.elementsMap[f.element];(0,Nn.uniqueSet)(this.eventListeners,l,new Map);const E=(0,Nn.assertNotNull)(this.eventListeners.get(l));Object.entries(f.events).forEach(([M,q])=>{(0,Nn.uniqueSet)(E,M,q),l.addEventListener(M,q)})})}removeAllListeners(){this.eventListeners.forEach((d,f)=>{d.forEach((l,E)=>{f.removeEventListener(E,l)})}),this.eventListeners.clear()}}Ut.EventListenerMap=f0,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.FetchElementLoader=Dt.defineElements=void 0;const d0=Ut,p0=Kt,v0=mr,h0=u=>u;Dt.defineElements=h0;const x0=u=>new g0(u);Dt.FetchElementLoader=x0;class g0{constructor(d){this.config=d,this.elements={},this.listenersMap=new d0.EventListenerMap}async load(){const d=await(0,p0.loadResourceText)(this.config.path),f=(0,v0.htmlTextToHtmlElement)(d);for(const l in this.config.spec){const E=this.config.spec[l].elementType,M=f.querySelector(this.config.spec[l].id);if(!(M instanceof E))throw new TypeError(`The fetched element for ${l} does not match the expected type.`);this.elements[l]=M}return this}addListeners(d){return this.listenersMap.addListeners({configs:d,elementsMap:this.elements}),this}removeAllListeners(){this.listenersMap.removeAllListeners()}}var pi={};Object.defineProperty(pi,"__esModule",{value:!0});var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.Logger=void 0;const y0=()=>new m0;_r.Logger=y0;class m0{debug(d,...f){console.debug(d,...f)}info(d,...f){console.info(d,...f)}warn(d,...f){console.warn(d,...f)}error(d,...f){console.error(d,...f)}}var At={},Xt={};Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.MessageValidator=void 0;const b0=Wt,_0=nt,vi=Fe,w0=async u=>{let d=u.cryptoAgent;!d&&u.cryptoAgentConfig&&(d=await(0,b0.CryptoAgent)(u.cryptoAgentConfig)),u.cryptoAgent=d;const f=u.tokenProvider||new _0.SessionStaticToken;return await f.generateValue(!1),u.tokenProvider=f,new E0(u)};Xt.MessageValidator=w0;class E0{constructor(d){this.config=d}getConfig(){return this.config}getProvider(){return(0,vi.assertNotNull)(this.config.tokenProvider)}getCryptoAgent(){return this.config.cryptoAgent}isValid(d){var M;if(!this.config.allowedOrigins.includes(d.origin)||typeof d.message!="object"||!d.message)return;const f=d.message,l=(0,vi.assertNotNull)(this.config.tokenProvider).getValue();if(!f.token||f.token!==l||typeof f.messageData!="string")return;const E=((M=this.config.cryptoAgent)==null?void 0:M.decrypt(f.messageData))??JSON.parse(f.messageData);if(E.runtimeId===this.config.runtimeId)return E}}Object.defineProperty(At,"__esModule",{value:!0}),At.MessageValidatorManager=void 0;const S0=Xt,hi=Kt,P0=async u=>{const d=async()=>(0,S0.MessageValidator)(u.messageValidatorConfig),f=await d(),l=new M0(f,d,(u==null?void 0:u.maxMessageValidators)??3);return(0,hi.isBackground)()?(chrome.alarms.create("refreshSession",{periodInMinutes:(u==null?void 0:u.validatorRefreshInterval)??1}),chrome.alarms.onAlarm.addListener(()=>{l.refreshValidators()})):setInterval(async()=>{l.refreshValidators()},(u==null?void 0:u.validatorRefreshInterval)??1*60*1e3),l};At.MessageValidatorManager=P0;class M0{getValidators(){return this.managedValidators}constructor(d,f,l){this.createMessageValidator=f,this.maxMessageValidators=l,this.managedValidators=[],this.managedValidators.push(d)}async processValidation(d){const f=this.managedValidatorsValidation({origin:d.origin,message:d.message});if(f)return f;const l=await this.createMessageValidator();return this.pushValidator(l),l.isValid({origin:d.origin,message:d.message})}async refreshValidators(){var f;const d=await this.createMessageValidator();if((0,hi.isBackground)()){const l=d.getProvider(),E=(f=d.getCryptoAgent())==null?void 0:f.getProvider();await l.generateValue(!0),await(E==null?void 0:E.generateValue(!0))}this.pushValidator(d)}managedValidatorsValidation(d){for(const f of[...this.managedValidators].reverse()){const l=f.isValid({origin:d.origin,message:d.message});if(l)return l}}pushValidator(d){this.managedValidators.push(d),this.managedValidators.length>this.maxMessageValidators&&this.managedValidators.shift()}}var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.RuntimeMessageAgent=void 0;const C0=At,Wn=Fe,k0=async u=>{let d=u.messageValidatorManager;return!d&&u.messageValidatorManagerConfig&&(d=await(0,C0.MessageValidatorManager)(u.messageValidatorManagerConfig),u.messageValidatorManager=d),new O0(u)};wr.RuntimeMessageAgent=k0;class O0{constructor(d){this.config=d}async sendMessage(d){const f=(0,Wn.assertNotNull)(this.config.messageValidatorManager).getValidators().slice(-1)[0],l=f.getCryptoAgent(),E=(l==null?void 0:l.encrypt(d.message))??JSON.stringify(d.message),M=f.getProvider().getValue();if(!d.tabId){const q=f.getConfig().runtimeId;return chrome.runtime.sendMessage(q,{messageData:E,token:M})}return chrome.tabs.sendMessage(d.tabId,{messageData:E,token:M})}addListener(d){this.removeListener(),this.runtimeListener=(f,l,E)=>((async()=>{const M=(0,Wn.assertNotNull)(l.origin),q=await(0,Wn.assertNotNull)(this.config.messageValidatorManager).processValidation({origin:M,message:f});if(!q)return;const p=await d(q);E(p)})(),!0),chrome.runtime.onMessage.addListener(this.runtimeListener)}removeListener(){this.runtimeListener&&(chrome.runtime.onMessage.removeListener(this.runtimeListener),this.runtimeListener=void 0)}}var Er={};Object.defineProperty(Er,"__esModule",{value:!0}),Er.WindowMessageAgent=void 0;const T0=At,xi=Fe,D0=async u=>{let d=u.messageValidatorManager;return!d&&u.messageValidatorManagerConfig&&(d=await(0,T0.MessageValidatorManager)(u.messageValidatorManagerConfig),u.messageValidatorManager=d),new A0(u)};Er.WindowMessageAgent=D0;class A0{constructor(d){this.config=d}async postMessage(d){const f=(0,xi.assertNotNull)(this.config.messageValidatorManager).getValidators().slice(-1)[0],l=f.getCryptoAgent(),E=(l==null?void 0:l.encrypt(d.message))??JSON.stringify(d.message),M=f.getProvider().getValue();d.target.postMessage({messageData:E,token:M},d.targetOrigin)}addListener(d){this.removeListener(),this.windowListener=async f=>{const l=await(0,xi.assertNotNull)(this.config.messageValidatorManager).processValidation({origin:f.origin,message:f.data});l&&d(l)},window.addEventListener("message",this.windowListener)}removeListener(){this.windowListener&&(window.removeEventListener("message",this.windowListener),this.windowListener=void 0)}}(function(u){var d=oe&&oe.__createBinding||(Object.create?function(l,E,M,q){q===void 0&&(q=M);var p=Object.getOwnPropertyDescriptor(E,M);(!p||("get"in p?!E.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return E[M]}}),Object.defineProperty(l,q,p)}:function(l,E,M,q){q===void 0&&(q=M),l[q]=E[M]}),f=oe&&oe.__exportStar||function(l,E){for(var M in l)M!=="default"&&!Object.prototype.hasOwnProperty.call(E,M)&&d(E,l,M)};Object.defineProperty(u,"__esModule",{value:!0}),f(Nt,u),f(gr,u),f(Wt,u),f(br,u),f(Dt,u),f(Ut,u),f(pi,u),f(_r,u),f(At,u),f(Xt,u),f(wr,u),f(nt,u),f(Kt,u),f(mr,u),f(Fe,u),f(Er,u)})(he);const Kn={ShowHTMLWindowRequest:"ShowHTMLWindowRequest",SaveDataRequest:"SaveDataRequest",LoadDataRequest:"LoadDataRequest"},B0={UrlUpdatedEvent:"UrlUpdatedEvent",ReplyLoadedData:"ReplyLoadedData"},Gt="language-",Yt={HTML:Gt+"html",CSS:Gt+"css",JS:Gt+"javascript"},gi="https://chat.openai.com",R0=async(u,d=30,f=6e3)=>he.waitForAction(u,()=>document.body.querySelector("div .group.w-full")!=null,d,f),I0=()=>document.querySelector("div .absolute.bottom-0.left-0.w-full"),j0=()=>Array.from(document.body.querySelectorAll("a")).find(f=>f.innerHTML.includes("New chat")),yi=u=>he.findMatchParent(u,".rounded-md.mb-4"),L0=u=>{if(!(u.target instanceof HTMLElement)||!u.altKey)return null;const d=he.findParentPreElement(u.target),f=d==null?void 0:d.querySelectorAll(`[class*="${Gt}"]`);return f?f[0]:null},z0=u=>Array.from(u.classList).filter(f=>f.startsWith(Gt))[0]||"",mi=async()=>he.RuntimeMessageAgent({messageValidatorManagerConfig:{messageValidatorConfig:{runtimeId:chrome.runtime.id,allowedOrigins:[gi,he.EXT_ORIGIN]}}}),H0=async()=>he.WindowMessageAgent({messageValidatorManagerConfig:{messageValidatorConfig:{runtimeId:chrome.runtime.id,allowedOrigins:[gi,he.EXT_ORIGIN]}}}),$t="HTMLPreviewCreaterMyClass",q0=(u,d,f)=>new F0(u,d,f);class F0{constructor(d,f,l){this.wrapDiv=V0(),this.previewDiv=N0(d),this.previewFrame=K0(f,l),this.previewFrameLoadSetting(),this.wrapDiv.appendChild(this.previewDiv),this.previewDiv.appendChild(this.previewFrame)}previewFrameLoadSetting(){this.previewFrame.addEventListener("load",()=>{if(this.previewFrame.contentWindow===null||!(this.previewFrame instanceof HTMLIFrameElement)||!(this.previewFrame.parentElement instanceof HTMLDivElement)||!(this.previewFrame.parentElement.parentElement instanceof HTMLDivElement))return;let d=he.documentHeight(this.previewFrame.contentWindow.document);d===0&&(d=600),this.previewFrame.style.height=d+"px";const f=he.totalHeight(this.previewFrame.parentElement)-this.previewFrame.offsetHeight,l=he.maxZIndex(this.previewFrame.parentElement.parentElement)+1;this.previewFrame.parentElement.style.zIndex=l.toString(),this.previewFrame.parentElement.parentElement.style.paddingBottom=d+f+"px",Array.from(this.previewFrame.parentElement.parentElement.children).forEach(E=>{!(E instanceof HTMLElement)||E.style.zIndex===l.toString()||E.remove()})})}}function V0(){const u=document.createElement("div");return u.style.position="relative",u.classList.add($t),u.style.width="100%",u.style.zIndex="0",u.style.transition="height 0.8s",u}function N0(u){const d=u.cloneNode(!0);return d.style.marginBottom="0",d.style.position="absolute",d.style.top="0",d.style.left="0",d.style.width="100%",d.style.height="100%",d.style.backgroundColor="rgb(0, 0, 0)",d.classList.add($t),Array.from(d.children).slice(1).forEach(f=>f.outerHTML=""),W0(d),d}function W0(u){const d=u.firstChild;d instanceof HTMLDivElement&&(d.textContent="preview",Array.from(d.children).slice(1).forEach(f=>f.outerHTML=""))}function K0(u,d){const f=document.createElement("iframe");return f.style.height="0",f.scrolling="no",f.style.width="100%",f.setAttribute("loading","lazy"),f.setAttribute("sandbox","allow-same-origin "+(u?"allow-scripts":"")),f.srcdoc=d,f}(async()=>{const u=await mi();let d=!1,f=!1;const l=new IntersectionObserver(x=>{x.forEach(y=>{y.target instanceof HTMLElement&&(y.isIntersecting?M(y.target):q(y.target))})},{root:null,rootMargin:"0px",threshold:0}),E=new MutationObserver(x=>{p(x)});document.addEventListener("dblclick",x=>{!(x.target instanceof HTMLElement)||!x.ctrlKey||O(x.target)}),he.reserveLoadedAction(document,()=>{E.observe(document.body,{childList:!0,subtree:!0}),v(),u.addListener(async x=>{x.key===B0.UrlUpdatedEvent&&(d=!1,f=!1,v())})});function M(x){var S;const y=yi(x);if(!(y instanceof HTMLDivElement)||!(y.parentElement instanceof HTMLPreElement))return;const w=(S=y==null?void 0:y.parentElement)==null?void 0:S.querySelector("."+$t),C=he.htmlTextToHtmlElement(x.textContent??""),R=f===!0||d===!1;if(w&&f!==!0){f=!1;const k=w.querySelector("iframe");if(!(k instanceof HTMLIFrameElement)||k&&k.srcdoc===C.outerHTML)return}f=!1,y.parentElement.style.overflowY="hidden";const m=q0(y,R,C.outerHTML);w?w.appendChild(m.previewDiv):y.parentElement.appendChild(m.wrapDiv)}function q(x){var C;const y=yi(x),w=(C=y==null?void 0:y.parentElement)==null?void 0:C.querySelector("."+$t);!w||he.isInView(window,w)||w.remove()}function p(x){const w=x.flatMap(m=>Array.from(m.addedNodes)).filter(m=>m instanceof HTMLElement&&m.nodeName!=="BUTTON").map(m=>m);if(w.length===0)return;const C=w.map(m=>m.outerHTML??"").join();if(C.includes($t))return;if(C.includes('<span class="hljs')){const m=C.includes('<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>');d=!m,f=m,v()}else d&&(d=!1,f=!0,v())}async function O(x){const y=he.findParentPreElement(x);if(!y)return;const w=y.querySelector("."+Yt.HTML);w&&await u.sendMessage({message:{runtimeId:chrome.runtime.id,key:Kn.ShowHTMLWindowRequest,message:w.textContent??""}})}function v(){l.disconnect(),R0(()=>{_(),D(),b()})}function _(){const x=I0();x&&(x.style.zIndex="2147483647")}function D(){const x=j0();x&&x.addEventListener("click",()=>{v()})}async function b(){await new Promise(x=>{window.requestIdleCallback(()=>{l.disconnect(),document.body.querySelectorAll("."+Yt.HTML).forEach(w=>{l.observe(w)}),x()},{timeout:3e3})})}})();var bi={exports:{}};(function(u,d){(function(f){u.exports=f()})(function(){var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var l={};Object.defineProperty(l,"__esModule",{value:!0}),l.getWindow=function(e){return(0,f.default)(e)?e:(e.ownerDocument||e).defaultView||M.window},l.init=q,l.window=l.realWindow=void 0;var E=void 0;l.realWindow=E;var M=void 0;function q(e){l.realWindow=E=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),l.window=M=e}l.window=M,typeof window<"u"&&window&&q(window);var p={};function O(e){return O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(e)}Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var v=function(e){return!!e&&O(e)==="object"},_=function(e){return typeof e=="function"},D={window:function(e){return e===l.window||(0,f.default)(e)},docFrag:function(e){return v(e)&&e.nodeType===11},object:v,func:_,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||O(e)!=="object")return!1;var t=l.getWindow(e)||l.window;return/object|function/.test(typeof Element>"u"?"undefined":O(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return v(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return v(e)&&e.length!==void 0&&_(e.splice)}};p.default=D;var b={};function x(e){var t=e.interaction;if(t.prepared.name==="drag"){var r=t.prepared.axis;r==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):r==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function y(e){var t=e.iEvent,r=e.interaction;if(r.prepared.name==="drag"){var n=r.prepared.axis;if(n==="x"||n==="y"){var o=n==="x"?"y":"x";t.page[o]=r.coords.start.page[o],t.client[o]=r.coords.start.client[o],t.delta[o]=0}}}Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var w={id:"actions/drag",install:function(e){var t=e.actions,r=e.Interactable,n=e.defaults;r.prototype.draggable=w.draggable,t.map.drag=w,t.methodDict.drag="draggable",n.actions.drag=w.defaults},listeners:{"interactions:before-action-move":x,"interactions:action-resume":x,"interactions:action-move":y,"auto-start:check":function(e){var t=e.interaction,r=e.interactable,n=e.buttons,o=r.options.drag;if(o&&o.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||n&r.options.drag.mouseButtons))return e.action={name:"drag",axis:o.lockAxis==="start"?o.startAxis:o.lockAxis},!1}},draggable:function(e){return p.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):p.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:x,move:y,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},C=w;b.default=C;var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default=void 0;var m={init:function(e){var t=e;m.document=t.document,m.DocumentFragment=t.DocumentFragment||S,m.SVGElement=t.SVGElement||S,m.SVGSVGElement=t.SVGSVGElement||S,m.SVGElementInstance=t.SVGElementInstance||S,m.Element=t.Element||S,m.HTMLElement=t.HTMLElement||m.Element,m.Event=t.Event,m.Touch=t.Touch||S,m.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function S(){}var k=m;R.default=k;var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default=void 0;var H={init:function(e){var t=R.default.Element,r=e.navigator||{};H.supportsTouch="ontouchstart"in e||p.default.func(e.DocumentTouch)&&R.default.document instanceof e.DocumentTouch,H.supportsPointerEvent=r.pointerEnabled!==!1&&!!R.default.PointerEvent,H.isIOS=/iP(hone|od|ad)/.test(r.platform),H.isIOS7=/iP(hone|od|ad)/.test(r.platform)&&/OS 7[^\d]/.test(r.appVersion),H.isIe9=/MSIE 9/.test(r.userAgent),H.isOperaMobile=r.appName==="Opera"&&H.supportsTouch&&/Presto/.test(r.userAgent),H.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",H.pEventTypes=H.supportsPointerEvent?R.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,H.wheelEvent=R.default.document&&"onmousewheel"in R.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},V=H;j.default=V;var B={};function Z(e){var t=e.parentNode;if(p.default.docFrag(t)){for(;(t=t.host)&&p.default.docFrag(t););return t}return t}function T(e,t){return l.window!==l.realWindow&&(t=t.replace(/\/deep\//g," ")),e[j.default.prefixedMatchesSelector](t)}Object.defineProperty(B,"__esModule",{value:!0}),B.closest=function(e,t){for(;p.default.element(e);){if(T(e,t))return e;e=Z(e)}return null},B.getActualElement=function(e){return e.correspondingUseElement||e},B.getElementClientRect=te,B.getElementRect=function(e){var t=te(e);if(!j.default.isIOS7&&t){var r=X(l.getWindow(e));t.left+=r.x,t.right+=r.x,t.top+=r.y,t.bottom+=r.y}return t},B.getPath=function(e){for(var t=[];e;)t.push(e),e=Z(e);return t},B.getScrollXY=X,B.indexOfDeepestElement=function(e){for(var t,r=[],n=0;n<e.length;n++){var o=e[n],i=e[t];if(o&&n!==t)if(i){var c=z(o),a=z(i);if(c!==o.ownerDocument)if(a!==o.ownerDocument)if(c!==a){r=r.length?r:K(i);var s=void 0;if(i instanceof R.default.HTMLElement&&o instanceof R.default.SVGElement&&!(o instanceof R.default.SVGSVGElement)){if(o===a)continue;s=o.ownerSVGElement}else s=o;for(var h=K(s,i.ownerDocument),g=0;h[g]&&h[g]===r[g];)g++;var P=[h[g-1],h[g],r[g]];if(P[0])for(var L=P[0].lastChild;L;){if(L===P[1]){t=n,r=h;break}if(L===P[2])break;L=L.previousSibling}}else F=o,A=i,(parseInt(l.getWindow(F).getComputedStyle(F).zIndex,10)||0)>=(parseInt(l.getWindow(A).getComputedStyle(A).zIndex,10)||0)&&(t=n);else t=n}else t=n}var F,A;return t},B.matchesSelector=T,B.matchesUpTo=function(e,t,r){for(;p.default.element(e);){if(T(e,t))return!0;if((e=Z(e))===r)return T(e,t)}return!1},B.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},B.parentNode=Z,B.trySelector=function(e){return!!p.default.string(e)&&(R.default.document.querySelector(e),!0)};var z=function(e){return e.parentNode||e.host};function K(e,t){for(var r,n=[],o=e;(r=z(o))&&o!==t&&r!==o.ownerDocument;)n.unshift(o),o=r;return n}function X(e){return{x:(e=e||l.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function te(e){var t=e instanceof R.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var W={};Object.defineProperty(W,"__esModule",{value:!0}),W.default=function(e,t){for(var r in t)e[r]=t[r];return e};var ee={};function xe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function fe(e,t,r){return e==="parent"?(0,B.parentNode)(r):e==="self"?t.getRect(r):(0,B.closest)(r,e)}Object.defineProperty(ee,"__esModule",{value:!0}),ee.addEdges=function(e,t,r){e.left&&(t.left+=r.x),e.right&&(t.right+=r.x),e.top&&(t.top+=r.y),e.bottom&&(t.bottom+=r.y),t.width=t.right-t.left,t.height=t.bottom-t.top},ee.getStringOptionResult=fe,ee.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},ee.resolveRectLike=function(e,t,r,n){var o,i=e;return p.default.string(i)?i=fe(i,t,r):p.default.func(i)&&(i=i.apply(void 0,function(c){if(Array.isArray(c))return xe(c)}(o=n)||function(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}(o)||function(c,a){if(c){if(typeof c=="string")return xe(c,a);var s=Object.prototype.toString.call(c).slice(8,-1);return s==="Object"&&c.constructor&&(s=c.constructor.name),s==="Map"||s==="Set"?Array.from(c):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?xe(c,a):void 0}}(o)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),p.default.element(i)&&(i=(0,B.getElementRect)(i)),i},ee.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,W.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},ee.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,W.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.default=function(e,t,r){var n=e.options[r],o=n&&n.origin||e.options.origin,i=(0,ee.resolveRectLike)(o,e,t,[e&&t]);return(0,ee.rectToXY)(i)||{x:0,y:0}};var ce={};function N(e){return e.trim().split(/ +/)}Object.defineProperty(ce,"__esModule",{value:!0}),ce.default=function e(t,r,n){if(n=n||{},p.default.string(t)&&t.search(" ")!==-1&&(t=N(t)),p.default.array(t))return t.reduce(function(s,h){return(0,W.default)(s,e(h,r,n))},n);if(p.default.object(t)&&(r=t,t=""),p.default.func(r))n[t]=n[t]||[],n[t].push(r);else if(p.default.array(r))for(var o=0;o<r.length;o++){var i;i=r[o],e(t,i,n)}else if(p.default.object(r))for(var c in r){var a=N(c).map(function(s){return"".concat(t).concat(s)});e(a,r[c],n)}return n};var U={};Object.defineProperty(U,"__esModule",{value:!0}),U.default=void 0,U.default=function(e,t){return Math.sqrt(e*e+t*t)};var G={};Object.defineProperty(G,"__esModule",{value:!0}),G.default=function(e,t){e.__set||(e.__set={});var r=function(o){typeof e[o]!="function"&&o!=="__set"&&Object.defineProperty(e,o,{get:function(){return o in e.__set?e.__set[o]:e.__set[o]=t[o]},set:function(i){e.__set[o]=i},configurable:!0})};for(var n in t)r(n);return e};var I={};function ge(e){return e instanceof R.default.Event||e instanceof R.default.Touch}function de(e,t,r){return e=e||"page",(r=r||{}).x=t[e+"X"],r.y=t[e+"Y"],r}function Me(e,t){return t=t||{x:0,y:0},j.default.isOperaMobile&&ge(e)?(de("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):de("page",e,t),t}function ie(e,t){return t=t||{},j.default.isOperaMobile&&ge(e)?de("screen",e,t):de("client",e,t),t}function We(e){var t=[];return p.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function $e(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},r=0;r<e.length;r++){var n=e[r];for(var o in t)t[o]+=n[o]}for(var i in t)t[i]/=e.length;return t}Object.defineProperty(I,"__esModule",{value:!0}),I.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},I.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},I.getClientXY=ie,I.getEventTargets=function(e){var t=p.default.func(e.composedPath)?e.composedPath():e.path;return[B.getActualElement(t?t[0]:e.target),B.getActualElement(e.currentTarget)]},I.getPageXY=Me,I.getPointerId=function(e){return p.default.number(e.pointerId)?e.pointerId:e.identifier},I.getPointerType=function(e){return p.default.string(e.pointerType)?e.pointerType:p.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof R.default.Touch?"touch":"mouse"},I.getTouchPair=We,I.getXY=de,I.isNativePointer=ge,I.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},I.pointerAverage=$e,Object.defineProperty(I,"pointerExtend",{enumerable:!0,get:function(){return G.default}}),I.setCoordDeltas=function(e,t,r){e.page.x=r.page.x-t.page.x,e.page.y=r.page.y-t.page.y,e.client.x=r.client.x-t.client.x,e.client.y=r.client.y-t.client.y,e.timeStamp=r.timeStamp-t.timeStamp},I.setCoordVelocity=function(e,t){var r=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/r,e.page.y=t.page.y/r,e.client.x=t.client.x/r,e.client.y=t.client.y/r,e.timeStamp=r},I.setCoords=function(e,t,r){var n=t.length>1?$e(t):t[0];Me(n,e.page),ie(n,e.client),e.timeStamp=r},I.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},I.touchAngle=function(e,t){var r=t+"X",n=t+"Y",o=We(e),i=o[1][r]-o[0][r],c=o[1][n]-o[0][n];return 180*Math.atan2(c,i)/Math.PI},I.touchBBox=function(e){if(!e.length)return null;var t=We(e),r=Math.min(t[0].pageX,t[1].pageX),n=Math.min(t[0].pageY,t[1].pageY),o=Math.max(t[0].pageX,t[1].pageX),i=Math.max(t[0].pageY,t[1].pageY);return{x:r,y:n,left:r,top:n,right:o,bottom:i,width:o-r,height:i-n}},I.touchDistance=function(e,t){var r=t+"X",n=t+"Y",o=We(e),i=o[0][r]-o[1][r],c=o[0][n]-o[1][n];return(0,U.default)(i,c)};var Ke={};function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.BaseEvent=void 0;var Oe=function(){function e(n){(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Ie(this,"immediatePropagationStopped",!1),Ie(this,"propagationStopped",!1),this._interaction=n}var t,r;return t=e,(r=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&pt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ke.BaseEvent=Oe,Object.defineProperty(Oe.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var pe={};Object.defineProperty(pe,"__esModule",{value:!0}),pe.remove=pe.merge=pe.from=pe.findIndex=pe.find=pe.contains=void 0,pe.contains=function(e,t){return e.indexOf(t)!==-1},pe.remove=function(e,t){return e.splice(e.indexOf(t),1)};var ot=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}return e};pe.merge=ot,pe.from=function(e){return ot([],e)};var vt=function(e,t){for(var r=0;r<e.length;r++)if(t(e[r],r,e))return r;return-1};pe.findIndex=vt,pe.find=function(e,t){return e[vt(e,t)]};var Ae={};function ht(e){return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ht(e)}function xt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Be(e,t){return Be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Be(e,t)}function je(e,t){if(t&&(ht(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Te(e)}function Te(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Ze(e)}function Qe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.DropEvent=void 0;var it=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&Be(a,s)})(c,e);var t,r,n,o,i=(n=c,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var a,s=Ze(n);if(o){var h=Ze(this).constructor;a=Reflect.construct(s,arguments,h)}else a=s.apply(this,arguments);return je(this,a)});function c(a,s,h){var g;(function(A,Y){if(!(A instanceof Y))throw new TypeError("Cannot call a class as a function")})(this,c),Qe(Te(g=i.call(this,s._interaction)),"dropzone",void 0),Qe(Te(g),"dragEvent",void 0),Qe(Te(g),"relatedTarget",void 0),Qe(Te(g),"draggable",void 0),Qe(Te(g),"propagationStopped",!1),Qe(Te(g),"immediatePropagationStopped",!1);var P=h==="dragleave"?a.prev:a.cur,L=P.element,F=P.dropzone;return g.type=h,g.target=L,g.currentTarget=L,g.dropzone=F,g.dragEvent=s,g.relatedTarget=s.target,g.draggable=s.interactable,g.timeStamp=s.timeStamp,g}return t=c,(r=[{key:"reject",value:function(){var a=this,s=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&s.cur.dropzone===this.dropzone&&s.cur.element===this.target)if(s.prev.dropzone=this.dropzone,s.prev.element=this.target,s.rejected=!0,s.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var h=s.activeDrops,g=pe.findIndex(h,function(L){var F=L.dropzone,A=L.element;return F===a.dropzone&&A===a.target});s.activeDrops.splice(g,1);var P=new c(s,this.dragEvent,"dropdeactivate");P.dropzone=this.dropzone,P.target=this.target,this.dropzone.fire(P)}else this.dropzone.fire(new c(s,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&xt(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ke.BaseEvent);Ae.DropEvent=it;var Ue={};function Pr(e,t){for(var r=0;r<e.slice().length;r++){var n=e.slice()[r],o=n.dropzone,i=n.element;t.dropzone=o,t.target=i,o.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function Bt(e,t){for(var r=function(i,c){for(var a=i.interactables,s=[],h=0;h<a.list.length;h++){var g=a.list[h];if(g.options.drop.enabled){var P=g.options.drop.accept;if(!(p.default.element(P)&&P!==c||p.default.string(P)&&!B.matchesSelector(c,P)||p.default.func(P)&&!P({dropzone:g,draggableElement:c})))for(var L=p.default.string(g.target)?g._context.querySelectorAll(g.target):p.default.array(g.target)?g.target:[g.target],F=0;F<L.length;F++){var A=L[F];A!==c&&s.push({dropzone:g,element:A,rect:g.getRect(A)})}}}return s}(e,t),n=0;n<r.length;n++){var o=r[n];o.rect=o.dropzone.getRect(o.element)}return r}function Zt(e,t,r){for(var n=e.dropState,o=e.interactable,i=e.element,c=[],a=0;a<n.activeDrops.length;a++){var s=n.activeDrops[a],h=s.dropzone,g=s.element,P=s.rect;c.push(h.dropCheck(t,r,o,i,g,P)?g:null)}var L=B.indexOfDeepestElement(c);return n.activeDrops[L]||null}function Xe(e,t,r){var n=e.dropState,o={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return r.type==="dragstart"&&(o.activate=new Ae.DropEvent(n,r,"dropactivate"),o.activate.target=null,o.activate.dropzone=null),r.type==="dragend"&&(o.deactivate=new Ae.DropEvent(n,r,"dropdeactivate"),o.deactivate.target=null,o.deactivate.dropzone=null),n.rejected||(n.cur.element!==n.prev.element&&(n.prev.dropzone&&(o.leave=new Ae.DropEvent(n,r,"dragleave"),r.dragLeave=o.leave.target=n.prev.element,r.prevDropzone=o.leave.dropzone=n.prev.dropzone),n.cur.dropzone&&(o.enter=new Ae.DropEvent(n,r,"dragenter"),r.dragEnter=n.cur.element,r.dropzone=n.cur.dropzone)),r.type==="dragend"&&n.cur.dropzone&&(o.drop=new Ae.DropEvent(n,r,"drop"),r.dropzone=n.cur.dropzone,r.relatedTarget=n.cur.element),r.type==="dragmove"&&n.cur.dropzone&&(o.move=new Ae.DropEvent(n,r,"dropmove"),o.move.dragmove=r,r.dropzone=n.cur.dropzone)),o}function Je(e,t){var r=e.dropState,n=r.activeDrops,o=r.cur,i=r.prev;t.leave&&i.dropzone.fire(t.leave),t.enter&&o.dropzone.fire(t.enter),t.move&&o.dropzone.fire(t.move),t.drop&&o.dropzone.fire(t.drop),t.deactivate&&Pr(n,t.deactivate),r.prev.dropzone=o.dropzone,r.prev.element=o.element}function Mr(e,t){var r=e.interaction,n=e.iEvent,o=e.event;if(n.type==="dragmove"||n.type==="dragend"){var i=r.dropState;t.dynamicDrop&&(i.activeDrops=Bt(t,r.element));var c=n,a=Zt(r,c,o);i.rejected=i.rejected&&!!a&&a.dropzone===i.cur.dropzone&&a.element===i.cur.element,i.cur.dropzone=a&&a.dropzone,i.cur.element=a&&a.element,i.events=Xe(r,0,c)}}Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.default=void 0;var Qt={id:"actions/drop",install:function(e){var t=e.actions,r=e.interactStatic,n=e.Interactable,o=e.defaults;e.usePlugin(b.default),n.prototype.dropzone=function(i){return function(c,a){if(p.default.object(a)){if(c.options.drop.enabled=a.enabled!==!1,a.listeners){var s=(0,ce.default)(a.listeners),h=Object.keys(s).reduce(function(g,P){return g[/^(enter|leave)/.test(P)?"drag".concat(P):/^(activate|deactivate|move)/.test(P)?"drop".concat(P):P]=s[P],g},{});c.off(c.options.drop.listeners),c.on(h),c.options.drop.listeners=h}return p.default.func(a.ondrop)&&c.on("drop",a.ondrop),p.default.func(a.ondropactivate)&&c.on("dropactivate",a.ondropactivate),p.default.func(a.ondropdeactivate)&&c.on("dropdeactivate",a.ondropdeactivate),p.default.func(a.ondragenter)&&c.on("dragenter",a.ondragenter),p.default.func(a.ondragleave)&&c.on("dragleave",a.ondragleave),p.default.func(a.ondropmove)&&c.on("dropmove",a.ondropmove),/^(pointer|center)$/.test(a.overlap)?c.options.drop.overlap=a.overlap:p.default.number(a.overlap)&&(c.options.drop.overlap=Math.max(Math.min(1,a.overlap),0)),"accept"in a&&(c.options.drop.accept=a.accept),"checker"in a&&(c.options.drop.checker=a.checker),c}return p.default.bool(a)?(c.options.drop.enabled=a,c):c.options.drop}(this,i)},n.prototype.dropCheck=function(i,c,a,s,h,g){return function(P,L,F,A,Y,Q,$){var J=!1;if(!($=$||P.getRect(Q)))return!!P.options.drop.checker&&P.options.drop.checker(L,F,J,P,Q,A,Y);var ne=P.options.drop.overlap;if(ne==="pointer"){var ae=(0,ue.default)(A,Y,"drag"),ve=I.getPageXY(L);ve.x+=ae.x,ve.y+=ae.y;var be=ve.x>$.left&&ve.x<$.right,se=ve.y>$.top&&ve.y<$.bottom;J=be&&se}var me=A.getRect(Y);if(me&&ne==="center"){var qe=me.left+me.width/2,rt=me.top+me.height/2;J=qe>=$.left&&qe<=$.right&&rt>=$.top&&rt<=$.bottom}return me&&p.default.number(ne)&&(J=Math.max(0,Math.min($.right,me.right)-Math.max($.left,me.left))*Math.max(0,Math.min($.bottom,me.bottom)-Math.max($.top,me.top))/(me.width*me.height)>=ne),P.options.drop.checker&&(J=P.options.drop.checker(L,F,J,P,Q,A,Y)),J}(this,i,c,a,s,h,g)},r.dynamicDrop=function(i){return p.default.bool(i)?(e.dynamicDrop=i,r):e.dynamicDrop},(0,W.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,o.actions.drop=Qt.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var r=e.interaction,n=(e.event,e.iEvent);if(r.prepared.name==="drag"){var o=r.dropState;o.activeDrops=null,o.events=null,o.activeDrops=Bt(t,r.element),o.events=Xe(r,0,n),o.events.activate&&(Pr(o.activeDrops,o.events.activate),t.fire("actions/drop:start",{interaction:r,dragEvent:n}))}},"interactions:action-move":Mr,"interactions:after-action-move":function(e,t){var r=e.interaction,n=e.iEvent;r.prepared.name==="drag"&&(Je(r,r.dropState.events),t.fire("actions/drop:move",{interaction:r,dragEvent:n}),r.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var r=e.interaction,n=e.iEvent;Mr(e,t),Je(r,r.dropState.events),t.fire("actions/drop:end",{interaction:r,dragEvent:n})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var r=t.dropState;r&&(r.activeDrops=null,r.events=null,r.cur.dropzone=null,r.cur.element=null,r.prev.dropzone=null,r.prev.element=null,r.rejected=!1)}}},getActiveDrops:Bt,getDrop:Zt,getDropEvents:Xe,fireDropEvents:Je,defaults:{enabled:!1,accept:null,overlap:"pointer"}},Cr=Qt;Ue.default=Cr;var Rt={};function Jt(e){var t=e.interaction,r=e.iEvent,n=e.phase;if(t.prepared.name==="gesture"){var o=t.pointers.map(function(h){return h.pointer}),i=n==="start",c=n==="end",a=t.interactable.options.deltaSource;if(r.touches=[o[0],o[1]],i)r.distance=I.touchDistance(o,a),r.box=I.touchBBox(o),r.scale=1,r.ds=0,r.angle=I.touchAngle(o,a),r.da=0,t.gesture.startDistance=r.distance,t.gesture.startAngle=r.angle;else if(c){var s=t.prevEvent;r.distance=s.distance,r.box=s.box,r.scale=s.scale,r.ds=0,r.angle=s.angle,r.da=0}else r.distance=I.touchDistance(o,a),r.box=I.touchBBox(o),r.scale=r.distance/t.gesture.startDistance,r.angle=I.touchAngle(o,a),r.ds=r.scale-t.gesture.scale,r.da=r.angle-t.gesture.angle;t.gesture.distance=r.distance,t.gesture.angle=r.angle,p.default.number(r.scale)&&r.scale!==1/0&&!isNaN(r.scale)&&(t.gesture.scale=r.scale)}}Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.default=void 0;var It={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,r=e.Interactable,n=e.defaults;r.prototype.gesturable=function(o){return p.default.object(o)?(this.options.gesture.enabled=o.enabled!==!1,this.setPerAction("gesture",o),this.setOnEvents("gesture",o),this):p.default.bool(o)?(this.options.gesture.enabled=o,this):this.options.gesture},t.map.gesture=It,t.methodDict.gesture="gesturable",n.actions.gesture=It.defaults},listeners:{"interactions:action-start":Jt,"interactions:action-move":Jt,"interactions:action-end":Jt,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},Yn=It;Rt.default=Yn;var gt={};function $n(e,t,r,n,o,i,c){if(!t)return!1;if(t===!0){var a=p.default.number(i.width)?i.width:i.right-i.left,s=p.default.number(i.height)?i.height:i.bottom-i.top;if(c=Math.min(c,Math.abs((e==="left"||e==="right"?a:s)/2)),a<0&&(e==="left"?e="right":e==="right"&&(e="left")),s<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var h=a>=0?i.left:i.right;return r.x<h+c}if(e==="top"){var g=s>=0?i.top:i.bottom;return r.y<g+c}if(e==="right")return r.x>(a>=0?i.right:i.left)-c;if(e==="bottom")return r.y>(s>=0?i.bottom:i.top)-c}return!!p.default.element(n)&&(p.default.element(t)?t===n:B.matchesUpTo(n,t,o))}function er(e){var t=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.resizeAxes){var n=t;r.interactable.options.resize.square?(r.resizeAxes==="y"?n.delta.x=n.delta.y:n.delta.y=n.delta.x,n.axes="xy"):(n.axes=r.resizeAxes,r.resizeAxes==="x"?n.delta.y=0:r.resizeAxes==="y"&&(n.delta.x=0))}}Object.defineProperty(gt,"__esModule",{value:!0}),gt.default=void 0;var Ve={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,r=e.browser,n=e.Interactable,o=e.defaults;Ve.cursors=function(i){return i.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(r),Ve.defaultMargin=r.supportsTouch||r.supportsPointerEvent?20:10,n.prototype.resizable=function(i){return function(c,a,s){return p.default.object(a)?(c.options.resize.enabled=a.enabled!==!1,c.setPerAction("resize",a),c.setOnEvents("resize",a),p.default.string(a.axis)&&/^x$|^y$|^xy$/.test(a.axis)?c.options.resize.axis=a.axis:a.axis===null&&(c.options.resize.axis=s.defaults.actions.resize.axis),p.default.bool(a.preserveAspectRatio)?c.options.resize.preserveAspectRatio=a.preserveAspectRatio:p.default.bool(a.square)&&(c.options.resize.square=a.square),c):p.default.bool(a)?(c.options.resize.enabled=a,c):c.options.resize}(this,i,e)},t.map.resize=Ve,t.methodDict.resize="resizable",o.actions.resize=Ve.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var r=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var o=r,i=n.rect;n._rects={start:(0,W.default)({},i),corrected:(0,W.default)({},i),previous:(0,W.default)({},i),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},o.edges=n.prepared.edges,o.rect=n._rects.corrected,o.deltaRect=n._rects.delta}})(e),er(e)},"interactions:action-move":function(e){(function(t){var r=t.iEvent,n=t.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var o=r,i=n.interactable.options.resize.invert,c=i==="reposition"||i==="negate",a=n.rect,s=n._rects,h=s.start,g=s.corrected,P=s.delta,L=s.previous;if((0,W.default)(L,g),c){if((0,W.default)(g,a),i==="reposition"){if(g.top>g.bottom){var F=g.top;g.top=g.bottom,g.bottom=F}if(g.left>g.right){var A=g.left;g.left=g.right,g.right=A}}}else g.top=Math.min(a.top,h.bottom),g.bottom=Math.max(a.bottom,h.top),g.left=Math.min(a.left,h.right),g.right=Math.max(a.right,h.left);for(var Y in g.width=g.right-g.left,g.height=g.bottom-g.top,g)P[Y]=g[Y]-L[Y];o.edges=n.prepared.edges,o.rect=g,o.deltaRect=P}})(e),er(e)},"interactions:action-end":function(e){var t=e.iEvent,r=e.interaction;if(r.prepared.name==="resize"&&r.prepared.edges){var n=t;n.edges=r.prepared.edges,n.rect=r._rects.corrected,n.deltaRect=r._rects.delta}},"auto-start:check":function(e){var t=e.interaction,r=e.interactable,n=e.element,o=e.rect,i=e.buttons;if(o){var c=(0,W.default)({},t.coords.cur.page),a=r.options.resize;if(a&&a.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||i&a.mouseButtons)){if(p.default.object(a.edges)){var s={left:!1,right:!1,top:!1,bottom:!1};for(var h in s)s[h]=$n(h,a.edges[h],c,t._latestPointer.eventTarget,n,o,a.margin||Ve.defaultMargin);s.left=s.left&&!s.right,s.top=s.top&&!s.bottom,(s.left||s.right||s.top||s.bottom)&&(e.action={name:"resize",edges:s})}else{var g=a.axis!=="y"&&c.x>o.right-Ve.defaultMargin,P=a.axis!=="x"&&c.y>o.bottom-Ve.defaultMargin;(g||P)&&(e.action={name:"resize",axes:(g?"x":"")+(P?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,r=e.axis,n=e.name,o=Ve.cursors,i=null;if(r)i=o[n+r];else if(t){for(var c="",a=["top","bottom","left","right"],s=0;s<a.length;s++){var h=a[s];t[h]&&(c+=h)}i=o[c]}return i},defaultMargin:null},Zn=Ve;gt.default=Zn;var yt={};Object.defineProperty(yt,"__esModule",{value:!0}),yt.default=void 0;var kr={id:"actions",install:function(e){e.usePlugin(Rt.default),e.usePlugin(gt.default),e.usePlugin(b.default),e.usePlugin(Ue.default)}};yt.default=kr;var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.default=void 0;var Ne,Ge,Or=0,Tr={request:function(e){return Ne(e)},cancel:function(e){return Ge(e)},init:function(e){if(Ne=e.requestAnimationFrame,Ge=e.cancelAnimationFrame,!Ne)for(var t=["ms","moz","webkit","o"],r=0;r<t.length;r++){var n=t[r];Ne=e["".concat(n,"RequestAnimationFrame")],Ge=e["".concat(n,"CancelAnimationFrame")]||e["".concat(n,"CancelRequestAnimationFrame")]}Ne=Ne&&Ne.bind(e),Ge=Ge&&Ge.bind(e),Ne||(Ne=function(o){var i=Date.now(),c=Math.max(0,16-(i-Or)),a=e.setTimeout(function(){o(i+c)},c);return Or=i+c,a},Ge=function(o){return clearTimeout(o)})}};ze.default=Tr;var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.default=void 0,we.getContainer=mt,we.getScroll=bt,we.getScrollSize=function(e){return p.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},we.getScrollSizeDelta=function(e,t){var r=e.interaction,n=e.element,o=r&&r.interactable.options[r.prepared.name].autoScroll;if(!o||!o.enabled)return t(),{x:0,y:0};var i=mt(o.container,r.interactable,n),c=bt(i);t();var a=bt(i);return{x:a.x-c.x,y:a.y-c.y}};var re={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){re.isScrolling=!0,ze.default.cancel(re.i),e.autoScroll=re,re.interaction=e,re.prevTime=re.now(),re.i=ze.default.request(re.scroll)},stop:function(){re.isScrolling=!1,re.interaction&&(re.interaction.autoScroll=null),ze.default.cancel(re.i)},scroll:function(){var e=re.interaction,t=e.interactable,r=e.element,n=e.prepared.name,o=t.options[n].autoScroll,i=mt(o.container,t,r),c=re.now(),a=(c-re.prevTime)/1e3,s=o.speed*a;if(s>=1){var h={x:re.x*s,y:re.y*s};if(h.x||h.y){var g=bt(i);p.default.window(i)?i.scrollBy(h.x,h.y):i&&(i.scrollLeft+=h.x,i.scrollTop+=h.y);var P=bt(i),L={x:P.x-g.x,y:P.y-g.y};(L.x||L.y)&&t.fire({type:"autoscroll",target:r,interactable:t,delta:L,interaction:e,container:i})}re.prevTime=c}re.isScrolling&&(ze.default.cancel(re.i),re.i=ze.default.request(re.scroll))},check:function(e,t){var r;return(r=e.options[t].autoScroll)==null?void 0:r.enabled},onInteractionMove:function(e){var t=e.interaction,r=e.pointer;if(t.interacting()&&re.check(t.interactable,t.prepared.name))if(t.simulation)re.x=re.y=0;else{var n,o,i,c,a=t.interactable,s=t.element,h=t.prepared.name,g=a.options[h].autoScroll,P=mt(g.container,a,s);if(p.default.window(P))c=r.clientX<re.margin,n=r.clientY<re.margin,o=r.clientX>P.innerWidth-re.margin,i=r.clientY>P.innerHeight-re.margin;else{var L=B.getElementClientRect(P);c=r.clientX<L.left+re.margin,n=r.clientY<L.top+re.margin,o=r.clientX>L.right-re.margin,i=r.clientY>L.bottom-re.margin}re.x=o?1:c?-1:0,re.y=i?1:n?-1:0,re.isScrolling||(re.margin=g.margin,re.speed=g.speed,re.start(t))}}};function mt(e,t,r){return(p.default.string(e)?(0,ee.getStringOptionResult)(e,t,r):e)||(0,l.getWindow)(r)}function bt(e){return p.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var ds={id:"auto-scroll",install:function(e){var t=e.defaults,r=e.actions;e.autoScroll=re,re.now=function(){return e.now()},r.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=re.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,re.stop(),re.interaction&&(re.interaction=null)},"interactions:stop":re.stop,"interactions:action-move":function(e){return re.onInteractionMove(e)}}},ps=ds;we.default=ps;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},He.sign=void 0,He.warnOnce=function(e,t){var r=!1;return function(){return r||(l.window.console.warn(t),r=!0),e.apply(this,arguments)}},He.sign=function(e){return e>=0?1:-1};var Dr={};function vs(e){return p.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function hs(e){return p.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.default=void 0;var xs={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(r,n,o,i){var c=function(a,s,h,g,P){var L=a.getRect(g),F={action:null,interactable:a,interaction:h,element:g,rect:L,buttons:s.buttons||{0:1,1:4,3:8,4:16}[s.button]};return P.fire("auto-start:check",F),F.action}(this,n,o,i,e);return this.options.actionChecker?this.options.actionChecker(r,n,c,this,i,o):c},t.prototype.ignoreFrom=(0,He.warnOnce)(function(r){return this._backCompatOption("ignoreFrom",r)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,He.warnOnce)(function(r){return this._backCompatOption("allowFrom",r)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=hs,t.prototype.styleCursor=vs}};Dr.default=xs;var jt={};function Si(e,t,r,n,o){return t.testIgnoreAllow(t.options[e.name],r,n)&&t.options[e.name].enabled&&Ar(t,r,e,o)?e:null}function gs(e,t,r,n,o,i,c){for(var a=0,s=n.length;a<s;a++){var h=n[a],g=o[a],P=h.getAction(t,r,e,g);if(P){var L=Si(P,h,g,i,c);if(L)return{action:L,interactable:h,element:g}}}return{action:null,interactable:null,element:null}}function Pi(e,t,r,n,o){var i=[],c=[],a=n;function s(g){i.push(g),c.push(a)}for(;p.default.element(a);){i=[],c=[],o.interactables.forEachMatch(a,s);var h=gs(e,t,r,i,c,n,o);if(h.action&&!h.interactable.options[h.action.name].manualStart)return h;a=B.parentNode(a)}return{action:null,interactable:null,element:null}}function Mi(e,t,r){var n=t.action,o=t.interactable,i=t.element;n=n||{name:null},e.interactable=o,e.element=i,(0,He.copyAction)(e.prepared,n),e.rect=o&&n.name?o.getRect(i):null,ki(e,r),r.fire("autoStart:prepared",{interaction:e})}function Ar(e,t,r,n){var o=e.options,i=o[r.name].max,c=o[r.name].maxPerElement,a=n.autoStart.maxInteractions,s=0,h=0,g=0;if(!(i&&c&&a))return!1;for(var P=0;P<n.interactions.list.length;P++){var L=n.interactions.list[P],F=L.prepared.name;if(L.interacting()&&(++s>=a||L.interactable===e&&((h+=F===r.name?1:0)>=i||L.element===t&&(g++,F===r.name&&g>=c))))return!1}return a>0}function Ci(e,t){return p.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function Qn(e,t,r){var n=r.autoStart.cursorElement;n&&n!==e&&(n.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,r.autoStart.cursorElement=t?e:null}function ki(e,t){var r=e.interactable,n=e.element,o=e.prepared;if(e.pointerType==="mouse"&&r&&r.options.styleCursor){var i="";if(o.name){var c=r.options[o.name].cursorChecker;i=p.default.func(c)?c(o,r,n,e._interacting):t.actions.map[o.name].getCursor(o)}Qn(e.element,i||"",t)}else t.autoStart.cursorElement&&Qn(t.autoStart.cursorElement,"",t)}Object.defineProperty(jt,"__esModule",{value:!0}),jt.default=void 0;var ys={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,r=e.defaults;e.usePlugin(Dr.default),r.base.actionChecker=null,r.base.styleCursor=!0,(0,W.default)(r.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(n){return Ci(n,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:Ar,cursorElement:null}},listeners:{"interactions:down":function(e,t){var r=e.interaction,n=e.pointer,o=e.event,i=e.eventTarget;r.interacting()||Mi(r,Pi(r,n,o,i,t),t)},"interactions:move":function(e,t){(function(r,n){var o=r.interaction,i=r.pointer,c=r.event,a=r.eventTarget;o.pointerType!=="mouse"||o.pointerIsDown||o.interacting()||Mi(o,Pi(o,i,c,a,n),n)})(e,t),function(r,n){var o=r.interaction;if(o.pointerIsDown&&!o.interacting()&&o.pointerWasMoved&&o.prepared.name){n.fire("autoStart:before-start",r);var i=o.interactable,c=o.prepared.name;c&&i&&(i.options[c].manualStart||!Ar(i,o.element,o.prepared,n)?o.stop():(o.start(o.prepared,i,o.element),ki(o,n)))}}(e,t)},"interactions:stop":function(e,t){var r=e.interaction,n=r.interactable;n&&n.options.styleCursor&&Qn(r.element,"",t)}},maxInteractions:Ci,withinInteractionLimit:Ar,validateAction:Si},ms=ys;jt.default=ms;var Br={};Object.defineProperty(Br,"__esModule",{value:!0}),Br.default=void 0;var bs={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var r=e.interaction,n=e.eventTarget,o=e.dx,i=e.dy;if(r.prepared.name==="drag"){var c=Math.abs(o),a=Math.abs(i),s=r.interactable.options.drag,h=s.startAxis,g=c>a?"x":c<a?"y":"xy";if(r.prepared.axis=s.lockAxis==="start"?g[0]:s.lockAxis,g!=="xy"&&h!=="xy"&&h!==g){r.prepared.name=null;for(var P=n,L=function(A){if(A!==r.interactable){var Y=r.interactable.options.drag;if(!Y.manualStart&&A.testIgnoreAllow(Y,P,n)){var Q=A.getAction(r.downPointer,r.downEvent,r,P);if(Q&&Q.name==="drag"&&function($,J){if(!J)return!1;var ne=J.options.drag.startAxis;return $==="xy"||ne==="xy"||ne===$}(g,A)&&jt.default.validateAction(Q,A,P,n,t))return A}}};p.default.element(P);){var F=t.interactables.forEachMatch(P,L);if(F){r.prepared.name="drag",r.interactable=F,r.element=P;break}P=(0,B.parentNode)(P)}}}}}};Br.default=bs;var Rr={};function Jn(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var r=e.interactable.options;return r[t].hold||r[t].delay}Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.default=void 0;var _s={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(jt.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,r=Jn(t);r>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},r))},"interactions:move":function(e){var t=e.interaction,r=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!r&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;Jn(t)>0&&(t.prepared.name=null)}},getHoldDuration:Jn},ws=_s;Rr.default=ws;var tr={};Object.defineProperty(tr,"__esModule",{value:!0}),tr.default=void 0;var Es={id:"auto-start",install:function(e){e.usePlugin(jt.default),e.usePlugin(Rr.default),e.usePlugin(Br.default)}};tr.default=Es;var _t={};function Ss(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):p.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function Ps(e){var t=e.interaction,r=e.event;t.interactable&&t.interactable.checkAndPreventDefault(r)}function Oi(e){var t=e.Interactable;t.prototype.preventDefault=Ss,t.prototype.checkAndPreventDefault=function(r){return function(n,o,i){var c=n.options.preventDefault;if(c!=="never")if(c!=="always"){if(o.events.supportsPassive&&/^touch(start|move)$/.test(i.type)){var a=(0,l.getWindow)(i.target).document,s=o.getDocOptions(a);if(!s||!s.events||s.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(i.type)||p.default.element(i.target)&&(0,B.matchesSelector)(i.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||i.preventDefault()}else i.preventDefault()}(this,e,r)},e.interactions.docEvents.push({type:"dragstart",listener:function(r){for(var n=0;n<e.interactions.list.length;n++){var o=e.interactions.list[n];if(o.element&&(o.element===r.target||(0,B.nodeContains)(o.element,r.target)))return void o.interactable.checkAndPreventDefault(r)}}})}Object.defineProperty(_t,"__esModule",{value:!0}),_t.default=void 0,_t.install=Oi;var Ms={id:"core/interactablePreventDefault",install:Oi,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=Ps,e},{})};_t.default=Ms;var eo={};Object.defineProperty(eo,"__esModule",{value:!0}),eo.default=void 0,eo.default={};var rr,Ir={};Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(rr||(rr={})),rr.touchAction,rr.boxSizing,rr.noListeners;var Cs={id:"dev-tools",install:function(){}};Ir.default=Cs;var wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=function e(t){var r={};for(var n in t){var o=t[n];p.default.plainObject(o)?r[n]=e(o):p.default.array(o)?r[n]=pe.from(o):r[n]=o}return r};var Et={};function Ti(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var i,c,a=[],s=!0,h=!1;try{for(o=o.call(r);!(s=(i=o.next()).done)&&(a.push(i.value),!n||a.length!==n);s=!0);}catch(g){h=!0,c=g}finally{try{s||o.return==null||o.return()}finally{if(h)throw c}}return a}}(e,t)||function(r,n){if(r){if(typeof r=="string")return Di(r,n);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Di(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Di(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ks(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function at(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Et,"__esModule",{value:!0}),Et.default=void 0,Et.getRectOffset=Ai;var Os=function(){function e(n){(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),at(this,"states",[]),at(this,"startOffset",{left:0,right:0,top:0,bottom:0}),at(this,"startDelta",void 0),at(this,"result",void 0),at(this,"endResult",void 0),at(this,"startEdges",void 0),at(this,"edges",void 0),at(this,"interaction",void 0),this.interaction=n,this.result=jr(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var t,r;return t=e,(r=[{key:"start",value:function(n,o){var i=n.phase,c=this.interaction,a=function(h){var g=h.interactable.options[h.prepared.name],P=g.modifiers;return P&&P.length?P:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(L){var F=g[L];return F&&F.enabled&&{options:F,methods:F._methods}}).filter(function(L){return!!L})}(c);this.prepareStates(a),this.startEdges=(0,W.default)({},c.edges),this.edges=(0,W.default)({},this.startEdges),this.startOffset=Ai(c.rect,o),this.startDelta={x:0,y:0};var s=this.fillArg({phase:i,pageCoords:o,preEnd:!1});return this.result=jr(),this.startAll(s),this.result=this.setAll(s)}},{key:"fillArg",value:function(n){var o=this.interaction;return n.interaction=o,n.interactable=o.interactable,n.element=o.element,n.rect||(n.rect=o.rect),n.edges||(n.edges=this.startEdges),n.startOffset=this.startOffset,n}},{key:"startAll",value:function(n){for(var o=0;o<this.states.length;o++){var i=this.states[o];i.methods.start&&(n.state=i,i.methods.start(n))}}},{key:"setAll",value:function(n){var o=n.phase,i=n.preEnd,c=n.skipModifiers,a=n.rect,s=n.edges;n.coords=(0,W.default)({},n.pageCoords),n.rect=(0,W.default)({},a),n.edges=(0,W.default)({},s);for(var h=c?this.states.slice(c):this.states,g=jr(n.coords,n.rect),P=0;P<h.length;P++){var L,F=h[P],A=F.options,Y=(0,W.default)({},n.coords),Q=null;(L=F.methods)!=null&&L.set&&this.shouldDo(A,i,o)&&(n.state=F,Q=F.methods.set(n),ee.addEdges(n.edges,n.rect,{x:n.coords.x-Y.x,y:n.coords.y-Y.y})),g.eventProps.push(Q)}(0,W.default)(this.edges,n.edges),g.delta.x=n.coords.x-n.pageCoords.x,g.delta.y=n.coords.y-n.pageCoords.y,g.rectDelta.left=n.rect.left-a.left,g.rectDelta.right=n.rect.right-a.right,g.rectDelta.top=n.rect.top-a.top,g.rectDelta.bottom=n.rect.bottom-a.bottom;var $=this.result.coords,J=this.result.rect;if($&&J){var ne=g.rect.left!==J.left||g.rect.right!==J.right||g.rect.top!==J.top||g.rect.bottom!==J.bottom;g.changed=ne||$.x!==g.coords.x||$.y!==g.coords.y}return g}},{key:"applyToInteraction",value:function(n){var o=this.interaction,i=n.phase,c=o.coords.cur,a=o.coords.start,s=this.result,h=this.startDelta,g=s.delta;i==="start"&&(0,W.default)(this.startDelta,s.delta);for(var P=0;P<[[a,h],[c,g]].length;P++){var L=Ti([[a,h],[c,g]][P],2),F=L[0],A=L[1];F.page.x+=A.x,F.page.y+=A.y,F.client.x+=A.x,F.client.y+=A.y}var Y=this.result.rectDelta,Q=n.rect||o.rect;Q.left+=Y.left,Q.right+=Y.right,Q.top+=Y.top,Q.bottom+=Y.bottom,Q.width=Q.right-Q.left,Q.height=Q.bottom-Q.top}},{key:"setAndApply",value:function(n){var o=this.interaction,i=n.phase,c=n.preEnd,a=n.skipModifiers,s=this.setAll(this.fillArg({preEnd:c,phase:i,pageCoords:n.modifiedCoords||o.coords.cur.page}));if(this.result=s,!s.changed&&(!a||a<this.states.length)&&o.interacting())return!1;if(n.modifiedCoords){var h=o.coords.cur.page,g={x:n.modifiedCoords.x-h.x,y:n.modifiedCoords.y-h.y};s.coords.x+=g.x,s.coords.y+=g.y,s.delta.x+=g.x,s.delta.y+=g.y}this.applyToInteraction(n)}},{key:"beforeEnd",value:function(n){var o=n.interaction,i=n.event,c=this.states;if(c&&c.length){for(var a=!1,s=0;s<c.length;s++){var h=c[s];n.state=h;var g=h.options,P=h.methods,L=P.beforeEnd&&P.beforeEnd(n);if(L)return this.endResult=L,!1;a=a||!a&&this.shouldDo(g,!0,n.phase,!0)}a&&o.move({event:i,preEnd:!0})}}},{key:"stop",value:function(n){var o=n.interaction;if(this.states&&this.states.length){var i=(0,W.default)({states:this.states,interactable:o.interactable,element:o.element,rect:null},n);this.fillArg(i);for(var c=0;c<this.states.length;c++){var a=this.states[c];i.state=a,a.methods.stop&&a.methods.stop(i)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(n){this.states=[];for(var o=0;o<n.length;o++){var i=n[o],c=i.options,a=i.methods,s=i.name;this.states.push({options:c,methods:a,index:o,name:s})}return this.states}},{key:"restoreInteractionCoords",value:function(n){var o=n.interaction,i=o.coords,c=o.rect,a=o.modification;if(a.result){for(var s=a.startDelta,h=a.result,g=h.delta,P=h.rectDelta,L=[[i.start,s],[i.cur,g]],F=0;F<L.length;F++){var A=Ti(L[F],2),Y=A[0],Q=A[1];Y.page.x-=Q.x,Y.page.y-=Q.y,Y.client.x-=Q.x,Y.client.y-=Q.y}c.left-=P.left,c.right-=P.right,c.top-=P.top,c.bottom-=P.bottom}}},{key:"shouldDo",value:function(n,o,i,c){return!(!n||n.enabled===!1||c&&!n.endOnly||n.endOnly&&!o||i==="start"&&!n.setStart)}},{key:"copyFrom",value:function(n){this.startOffset=n.startOffset,this.startDelta=n.startDelta,this.startEdges=n.startEdges,this.edges=n.edges,this.states=n.states.map(function(o){return(0,wt.default)(o)}),this.result=jr((0,W.default)({},n.result.coords),(0,W.default)({},n.result.rect))}},{key:"destroy",value:function(){for(var n in this)this[n]=null}}])&&ks(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function jr(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function Ai(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}Et.default=Os;var Ce={};function Lr(e){var t=e.iEvent,r=e.interaction.modification.result;r&&(t.modifiers=r.eventProps)}Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.addEventModifiers=Lr,Ce.default=void 0,Ce.makeModifier=function(e,t){var r=e.defaults,n={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},o=function(i){var c=i||{};for(var a in c.enabled=c.enabled!==!1,r)a in c||(c[a]=r[a]);var s={options:c,methods:n,name:t,enable:function(){return c.enabled=!0,s},disable:function(){return c.enabled=!1,s}};return s};return t&&typeof t=="string"&&(o._defaults=r,o._methods=n),o};var Ts={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new Et.default(t)},"interactions:before-action-start":function(e){var t=e.interaction,r=e.interaction.modification;r.start(e,t.coords.start.page),t.edges=r.edges,r.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,r=t.modification,n=r.setAndApply(e);return t.edges=r.edges,n},"interactions:before-action-end":function(e){var t=e.interaction,r=t.modification,n=r.beforeEnd(e);return t.edges=r.startEdges,n},"interactions:action-start":Lr,"interactions:action-move":Lr,"interactions:action-end":Lr,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Ds=Ts;Ce.default=Ds;var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.defaults=void 0,nr.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var or={};function to(e){return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function As(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ro(e,t){return ro=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ro(e,t)}function Bs(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ye(e)}function ye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zr(e){return zr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},zr(e)}function _e(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(or,"__esModule",{value:!0}),or.InteractEvent=void 0;var Bi=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&ro(a,s)})(c,e);var t,r,n,o,i=(n=c,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var a,s=zr(n);if(o){var h=zr(this).constructor;a=Reflect.construct(s,arguments,h)}else a=s.apply(this,arguments);return Bs(this,a)});function c(a,s,h,g,P,L,F){var A;(function(be,se){if(!(be instanceof se))throw new TypeError("Cannot call a class as a function")})(this,c),_e(ye(A=i.call(this,a)),"relatedTarget",null),_e(ye(A),"screenX",void 0),_e(ye(A),"screenY",void 0),_e(ye(A),"button",void 0),_e(ye(A),"buttons",void 0),_e(ye(A),"ctrlKey",void 0),_e(ye(A),"shiftKey",void 0),_e(ye(A),"altKey",void 0),_e(ye(A),"metaKey",void 0),_e(ye(A),"page",void 0),_e(ye(A),"client",void 0),_e(ye(A),"delta",void 0),_e(ye(A),"rect",void 0),_e(ye(A),"x0",void 0),_e(ye(A),"y0",void 0),_e(ye(A),"t0",void 0),_e(ye(A),"dt",void 0),_e(ye(A),"duration",void 0),_e(ye(A),"clientX0",void 0),_e(ye(A),"clientY0",void 0),_e(ye(A),"velocity",void 0),_e(ye(A),"speed",void 0),_e(ye(A),"swipe",void 0),_e(ye(A),"axes",void 0),_e(ye(A),"preEnd",void 0),P=P||a.element;var Y=a.interactable,Q=(Y&&Y.options||nr.defaults).deltaSource,$=(0,ue.default)(Y,P,h),J=g==="start",ne=g==="end",ae=J?ye(A):a.prevEvent,ve=J?a.coords.start:ne?{page:ae.page,client:ae.client,timeStamp:a.coords.cur.timeStamp}:a.coords.cur;return A.page=(0,W.default)({},ve.page),A.client=(0,W.default)({},ve.client),A.rect=(0,W.default)({},a.rect),A.timeStamp=ve.timeStamp,ne||(A.page.x-=$.x,A.page.y-=$.y,A.client.x-=$.x,A.client.y-=$.y),A.ctrlKey=s.ctrlKey,A.altKey=s.altKey,A.shiftKey=s.shiftKey,A.metaKey=s.metaKey,A.button=s.button,A.buttons=s.buttons,A.target=P,A.currentTarget=P,A.preEnd=L,A.type=F||h+(g||""),A.interactable=Y,A.t0=J?a.pointers[a.pointers.length-1].downTime:ae.t0,A.x0=a.coords.start.page.x-$.x,A.y0=a.coords.start.page.y-$.y,A.clientX0=a.coords.start.client.x-$.x,A.clientY0=a.coords.start.client.y-$.y,A.delta=J||ne?{x:0,y:0}:{x:A[Q].x-ae[Q].x,y:A[Q].y-ae[Q].y},A.dt=a.coords.delta.timeStamp,A.duration=A.timeStamp-A.t0,A.velocity=(0,W.default)({},a.coords.velocity[Q]),A.speed=(0,U.default)(A.velocity.x,A.velocity.y),A.swipe=ne||g==="inertiastart"?A.getSwipe():null,A}return t=c,(r=[{key:"getSwipe",value:function(){var a=this._interaction;if(a.prevEvent.speed<600||this.timeStamp-a.prevEvent.timeStamp>150)return null;var s=180*Math.atan2(a.prevEvent.velocityY,a.prevEvent.velocityX)/Math.PI;s<0&&(s+=360);var h=112.5<=s&&s<247.5,g=202.5<=s&&s<337.5;return{up:g,down:!g&&22.5<=s&&s<157.5,left:h,right:!h&&(292.5<=s||s<67.5),angle:s,speed:a.prevEvent.speed,velocity:{x:a.prevEvent.velocityX,y:a.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&As(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ke.BaseEvent);or.InteractEvent=Bi,Object.defineProperties(Bi.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var ir={};function Ri(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rs(e,t,r){return t&&Ri(e.prototype,t),r&&Ri(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ar(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(ir,"__esModule",{value:!0}),ir.PointerInfo=void 0;var Is=Rs(function e(t,r,n,o,i){(function(c,a){if(!(c instanceof a))throw new TypeError("Cannot call a class as a function")})(this,e),ar(this,"id",void 0),ar(this,"pointer",void 0),ar(this,"event",void 0),ar(this,"downTime",void 0),ar(this,"downTarget",void 0),this.id=t,this.pointer=r,this.event=n,this.downTime=o,this.downTarget=i});ir.PointerInfo=Is;var Hr,qr,Le={};function js(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Le,"__esModule",{value:!0}),Le.Interaction=void 0,Object.defineProperty(Le,"PointerInfo",{enumerable:!0,get:function(){return ir.PointerInfo}}),Le.default=Le._ProxyValues=Le._ProxyMethods=void 0,Le._ProxyValues=Hr,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(Hr||(Le._ProxyValues=Hr={})),Le._ProxyMethods=qr,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(qr||(Le._ProxyMethods=qr={}));var Ls=0,Ii=function(){function e(n){var o=this,i=n.pointerType,c=n.scopeFire;(function(L,F){if(!(L instanceof F))throw new TypeError("Cannot call a class as a function")})(this,e),Ee(this,"interactable",null),Ee(this,"element",null),Ee(this,"rect",null),Ee(this,"_rects",void 0),Ee(this,"edges",null),Ee(this,"_scopeFire",void 0),Ee(this,"prepared",{name:null,axis:null,edges:null}),Ee(this,"pointerType",void 0),Ee(this,"pointers",[]),Ee(this,"downEvent",null),Ee(this,"downPointer",{}),Ee(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Ee(this,"prevEvent",null),Ee(this,"pointerIsDown",!1),Ee(this,"pointerWasMoved",!1),Ee(this,"_interacting",!1),Ee(this,"_ending",!1),Ee(this,"_stopped",!0),Ee(this,"_proxy",null),Ee(this,"simulation",null),Ee(this,"doMove",(0,He.warnOnce)(function(L){this.move(L)},"The interaction.doMove() method has been renamed to interaction.move()")),Ee(this,"coords",{start:I.newCoords(),prev:I.newCoords(),cur:I.newCoords(),delta:I.newCoords(),velocity:I.newCoords()}),Ee(this,"_id",Ls++),this._scopeFire=c,this.pointerType=i;var a=this;this._proxy={};var s=function(L){Object.defineProperty(o._proxy,L,{get:function(){return a[L]}})};for(var h in Hr)s(h);var g=function(L){Object.defineProperty(o._proxy,L,{value:function(){return a[L].apply(a,arguments)}})};for(var P in qr)g(P);this._scopeFire("interactions:new",{interaction:this})}var t,r;return t=e,r=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(n,o,i){var c=this.updatePointer(n,o,i,!0),a=this.pointers[c];this._scopeFire("interactions:down",{pointer:n,event:o,eventTarget:i,pointerIndex:c,pointerInfo:a,type:"down",interaction:this})}},{key:"start",value:function(n,o,i){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(n.name==="gesture"?2:1)||!o.options[n.name].enabled)&&((0,He.copyAction)(this.prepared,n),this.interactable=o,this.element=i,this.rect=o.getRect(i),this.edges=this.prepared.edges?(0,W.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(n,o,i){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(n,o,i,!1);var c,a,s=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(c=this.coords.cur.client.x-this.coords.start.client.x,a=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,U.default)(c,a)>this.pointerMoveTolerance);var h=this.getPointerIndex(n),g={pointer:n,pointerIndex:h,pointerInfo:this.pointers[h],event:o,type:"move",eventTarget:i,dx:c,dy:a,duplicate:s,interaction:this};s||I.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",g),s||this.simulation||(this.interacting()&&(g.type=null,this.move(g)),this.pointerWasMoved&&I.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(n){n&&n.event||I.setZeroCoords(this.coords.delta),(n=(0,W.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},n||{})).phase="move",this._doPhase(n)}},{key:"pointerUp",value:function(n,o,i,c){var a=this.getPointerIndex(n);a===-1&&(a=this.updatePointer(n,o,i,!1));var s=/cancel$/i.test(o.type)?"cancel":"up";this._scopeFire("interactions:".concat(s),{pointer:n,pointerIndex:a,pointerInfo:this.pointers[a],event:o,eventTarget:i,type:s,curEventTarget:c,interaction:this}),this.simulation||this.end(o),this.removePointer(n,o)}},{key:"documentBlur",value:function(n){this.end(n),this._scopeFire("interactions:blur",{event:n,type:"blur",interaction:this})}},{key:"end",value:function(n){var o;this._ending=!0,n=n||this._latestPointer.event,this.interacting()&&(o=this._doPhase({event:n,interaction:this,phase:"end"})),this._ending=!1,o===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(n){var o=I.getPointerId(n);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:pe.findIndex(this.pointers,function(i){return i.id===o})}},{key:"getPointerInfo",value:function(n){return this.pointers[this.getPointerIndex(n)]}},{key:"updatePointer",value:function(n,o,i,c){var a=I.getPointerId(n),s=this.getPointerIndex(n),h=this.pointers[s];return c=c!==!1&&(c||/(down|start)$/i.test(o.type)),h?h.pointer=n:(h=new ir.PointerInfo(a,n,o,null,null),s=this.pointers.length,this.pointers.push(h)),I.setCoords(this.coords.cur,this.pointers.map(function(g){return g.pointer}),this._now()),I.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),c&&(this.pointerIsDown=!0,h.downTime=this.coords.cur.timeStamp,h.downTarget=i,I.pointerExtend(this.downPointer,n),this.interacting()||(I.copyCoords(this.coords.start,this.coords.cur),I.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=o,this.pointerWasMoved=!1)),this._updateLatestPointer(n,o,i),this._scopeFire("interactions:update-pointer",{pointer:n,event:o,eventTarget:i,down:c,pointerInfo:h,pointerIndex:s,interaction:this}),s}},{key:"removePointer",value:function(n,o){var i=this.getPointerIndex(n);if(i!==-1){var c=this.pointers[i];this._scopeFire("interactions:remove-pointer",{pointer:n,event:o,eventTarget:null,pointerIndex:i,pointerInfo:c,interaction:this}),this.pointers.splice(i,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(n,o,i){this._latestPointer.pointer=n,this._latestPointer.event=o,this._latestPointer.eventTarget=i}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(n,o,i,c){return new or.InteractEvent(this,n,this.prepared.name,o,this.element,i,c)}},{key:"_fireEvent",value:function(n){var o;(o=this.interactable)==null||o.fire(n),(!this.prevEvent||n.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=n)}},{key:"_doPhase",value:function(n){var o=n.event,i=n.phase,c=n.preEnd,a=n.type,s=this.rect;if(s&&i==="move"&&(ee.addEdges(this.edges,s,this.coords.delta[this.interactable.options.deltaSource]),s.width=s.right-s.left,s.height=s.bottom-s.top),this._scopeFire("interactions:before-action-".concat(i),n)===!1)return!1;var h=n.iEvent=this._createPreparedEvent(o,i,c,a);return this._scopeFire("interactions:action-".concat(i),n),i==="start"&&(this.prevEvent=h),this._fireEvent(h),this._scopeFire("interactions:after-action-".concat(i),n),!0}},{key:"_now",value:function(){return Date.now()}}],r&&js(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Le.Interaction=Ii;var zs=Ii;Le.default=zs;var st={};function ji(e){e.pointerIsDown&&(oo(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function Li(e){no(e.interaction)}function no(e){if(!function(r){return!(!r.offset.pending.x&&!r.offset.pending.y)}(e))return!1;var t=e.offset.pending;return oo(e.coords.cur,t),oo(e.coords.delta,t),ee.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Hs(e){var t=e.x,r=e.y;this.offset.pending.x+=t,this.offset.pending.y+=r,this.offset.total.x+=t,this.offset.total.y+=r}function oo(e,t){var r=e.page,n=e.client,o=t.x,i=t.y;r.x+=o,r.y+=i,n.x+=o,n.y+=i}Object.defineProperty(st,"__esModule",{value:!0}),st.addTotal=ji,st.applyPending=no,st.default=void 0,Le._ProxyMethods.offsetBy="";var qs={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Hs},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return ji(e.interaction)},"interactions:before-action-start":Li,"interactions:before-action-move":Li,"interactions:before-action-end":function(e){var t=e.interaction;if(no(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Fs=qs;st.default=Fs;var St={};function Vs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(St,"__esModule",{value:!0}),St.default=St.InertiaState=void 0;var zi=function(){function e(n){(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),Se(this,"active",!1),Se(this,"isModified",!1),Se(this,"smoothEnd",!1),Se(this,"allowResume",!1),Se(this,"modification",void 0),Se(this,"modifierCount",0),Se(this,"modifierArg",void 0),Se(this,"startCoords",void 0),Se(this,"t0",0),Se(this,"v0",0),Se(this,"te",0),Se(this,"targetOffset",void 0),Se(this,"modifiedOffset",void 0),Se(this,"currentOffset",void 0),Se(this,"lambda_v0",0),Se(this,"one_ve_v0",0),Se(this,"timeout",void 0),Se(this,"interaction",void 0),this.interaction=n}var t,r;return t=e,(r=[{key:"start",value:function(n){var o=this.interaction,i=Fr(o);if(!i||!i.enabled)return!1;var c=o.coords.velocity.client,a=(0,U.default)(c.x,c.y),s=this.modification||(this.modification=new Et.default(o));if(s.copyFrom(o.modification),this.t0=o._now(),this.allowResume=i.allowResume,this.v0=a,this.currentOffset={x:0,y:0},this.startCoords=o.coords.cur.page,this.modifierArg=s.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-o.coords.cur.timeStamp<50&&a>i.minSpeed&&a>i.endSpeed)this.startInertia();else{if(s.result=s.setAll(this.modifierArg),!s.result.changed)return!1;this.startSmoothEnd()}return o.modification.result.rect=null,o.offsetBy(this.targetOffset),o._doPhase({interaction:o,event:n,phase:"inertiastart"}),o.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),o.modification.result.rect=null,this.active=!0,o.simulation=this,!0}},{key:"startInertia",value:function(){var n=this,o=this.interaction.coords.velocity.client,i=Fr(this.interaction),c=i.resistance,a=-Math.log(i.endSpeed/this.v0)/c;this.targetOffset={x:(o.x-a)/c,y:(o.y-a)/c},this.te=a,this.lambda_v0=c/this.v0,this.one_ve_v0=1-i.endSpeed/this.v0;var s=this.modification,h=this.modifierArg;h.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},s.result=s.setAll(h),s.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+s.result.delta.x,y:this.targetOffset.y+s.result.delta.y}),this.onNextFrame(function(){return n.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var n=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return n.smoothEndTick()})}},{key:"onNextFrame",value:function(n){var o=this;this.timeout=ze.default.request(function(){o.active&&n()})}},{key:"inertiaTick",value:function(){var n,o,i,c,a,s=this,h=this.interaction,g=Fr(h).resistance,P=(h._now()-this.t0)/1e3;if(P<this.te){var L,F=1-(Math.exp(-g*P)-this.lambda_v0)/this.one_ve_v0;this.isModified?(n=this.targetOffset.x,o=this.targetOffset.y,i=this.modifiedOffset.x,c=this.modifiedOffset.y,L={x:Hi(a=F,0,n,i),y:Hi(a,0,o,c)}):L={x:this.targetOffset.x*F,y:this.targetOffset.y*F};var A={x:L.x-this.currentOffset.x,y:L.y-this.currentOffset.y};this.currentOffset.x+=A.x,this.currentOffset.y+=A.y,h.offsetBy(A),h.move(),this.onNextFrame(function(){return s.inertiaTick()})}else h.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var n=this,o=this.interaction,i=o._now()-this.t0,c=Fr(o).smoothEndDuration;if(i<c){var a={x:qi(i,0,this.targetOffset.x,c),y:qi(i,0,this.targetOffset.y,c)},s={x:a.x-this.currentOffset.x,y:a.y-this.currentOffset.y};this.currentOffset.x+=s.x,this.currentOffset.y+=s.y,o.offsetBy(s),o.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return n.smoothEndTick()})}else o.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(n){var o=n.pointer,i=n.event,c=n.eventTarget,a=this.interaction;a.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),a.updatePointer(o,i,c,!0),a._doPhase({interaction:a,event:i,phase:"resume"}),(0,I.copyCoords)(a.coords.prev,a.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,ze.default.cancel(this.timeout)}}])&&Vs(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Fr(e){var t=e.interactable,r=e.prepared;return t&&t.options&&r.name&&t.options[r.name].inertia}St.InertiaState=zi;var Ns={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(st.default),e.usePlugin(Ce.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new zi(t)},"interactions:before-action-end":function(e){var t=e.interaction,r=e.event;return(!t._interacting||t.simulation||!t.inertia.start(r))&&null},"interactions:down":function(e){var t=e.interaction,r=e.eventTarget,n=t.inertia;if(n.active)for(var o=r;p.default.element(o);){if(o===t.element){n.resume(e);break}o=B.parentNode(o)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Ce.addEventModifiers,"interactions:action-inertiastart":Ce.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function Hi(e,t,r,n){var o=1-e;return o*o*t+2*o*e*r+e*e*n}function qi(e,t,r,n){return-r*(e/=n)*(e-2)+t}var Ws=Ns;St.default=Ws;var sr={};function Ks(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function cr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fi(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e.immediatePropagationStopped)break;n(e)}}Object.defineProperty(sr,"__esModule",{value:!0}),sr.Eventable=void 0;var Us=function(){function e(n){(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),cr(this,"options",void 0),cr(this,"types",{}),cr(this,"propagationStopped",!1),cr(this,"immediatePropagationStopped",!1),cr(this,"global",void 0),this.options=(0,W.default)({},n||{})}var t,r;return t=e,(r=[{key:"fire",value:function(n){var o,i=this.global;(o=this.types[n.type])&&Fi(n,o),!n.propagationStopped&&i&&(o=i[n.type])&&Fi(n,o)}},{key:"on",value:function(n,o){var i=(0,ce.default)(n,o);for(n in i)this.types[n]=pe.merge(this.types[n]||[],i[n])}},{key:"off",value:function(n,o){var i=(0,ce.default)(n,o);for(n in i){var c=this.types[n];if(c&&c.length)for(var a=0;a<i[n].length;a++){var s=i[n][a],h=c.indexOf(s);h!==-1&&c.splice(h,1)}}}},{key:"getRect",value:function(n){return null}}])&&Ks(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();sr.Eventable=Us;var lr={};Object.defineProperty(lr,"__esModule",{value:!0}),lr.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var r in t.map)if(e.indexOf(r)===0&&e.substr(r.length)in t.phases)return!0;return!1};var io={};Object.defineProperty(io,"__esModule",{value:!0}),io.createInteractStatic=function(e){var t=function r(n,o){var i=e.interactables.get(n,o);return i||((i=e.interactables.new(n,o)).events.global=r.globalEvents),i};return t.getPointerAverage=I.pointerAverage,t.getTouchBBox=I.touchBBox,t.getTouchDistance=I.touchDistance,t.getTouchAngle=I.touchAngle,t.getElementRect=B.getElementRect,t.getElementClientRect=B.getElementClientRect,t.matchesSelector=B.matchesSelector,t.closest=B.closest,t.globalEvents={},t.version="1.10.18",t.scope=e,t.use=function(r,n){return this.scope.usePlugin(r,n),this},t.isSet=function(r,n){return!!this.scope.interactables.get(r,n&&n.context)},t.on=(0,He.warnOnce)(function(r,n,o){if(p.default.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),p.default.array(r)){for(var i=0;i<r.length;i++){var c=r[i];this.on(c,n,o)}return this}if(p.default.object(r)){for(var a in r)this.on(a,r[a],n);return this}return(0,lr.default)(r,this.scope.actions)?this.globalEvents[r]?this.globalEvents[r].push(n):this.globalEvents[r]=[n]:this.scope.events.add(this.scope.document,r,n,{options:o}),this},"The interact.on() method is being deprecated"),t.off=(0,He.warnOnce)(function(r,n,o){if(p.default.string(r)&&r.search(" ")!==-1&&(r=r.trim().split(/ +/)),p.default.array(r)){for(var i=0;i<r.length;i++){var c=r[i];this.off(c,n,o)}return this}if(p.default.object(r)){for(var a in r)this.off(a,r[a],n);return this}var s;return(0,lr.default)(r,this.scope.actions)?r in this.globalEvents&&(s=this.globalEvents[r].indexOf(n))!==-1&&this.globalEvents[r].splice(s,1):this.scope.events.remove(this.scope.document,r,n,o),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return j.default.supportsTouch},t.supportsPointerEvent=function(){return j.default.supportsPointerEvent},t.stop=function(){for(var r=0;r<this.scope.interactions.list.length;r++)this.scope.interactions.list[r].stop();return this},t.pointerMoveTolerance=function(r){return p.default.number(r)?(this.scope.interactions.pointerMoveTolerance=r,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(r,n){this.scope.addDocument(r,n)},t.removeDocument=function(r){this.scope.removeDocument(r)},t};var Vr={};function Xs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function et(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.Interactable=void 0;var Gs=function(){function e(n,o,i,c){(function(a,s){if(!(a instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),et(this,"options",void 0),et(this,"_actions",void 0),et(this,"target",void 0),et(this,"events",new sr.Eventable),et(this,"_context",void 0),et(this,"_win",void 0),et(this,"_doc",void 0),et(this,"_scopeEvents",void 0),et(this,"_rectChecker",void 0),this._actions=o.actions,this.target=n,this._context=o.context||i,this._win=(0,l.getWindow)((0,B.trySelector)(n)?this._context:n),this._doc=this._win.document,this._scopeEvents=c,this.set(o)}var t,r;return t=e,(r=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(n,o){return p.default.func(o.onstart)&&this.on("".concat(n,"start"),o.onstart),p.default.func(o.onmove)&&this.on("".concat(n,"move"),o.onmove),p.default.func(o.onend)&&this.on("".concat(n,"end"),o.onend),p.default.func(o.oninertiastart)&&this.on("".concat(n,"inertiastart"),o.oninertiastart),this}},{key:"updatePerActionListeners",value:function(n,o,i){(p.default.array(o)||p.default.object(o))&&this.off(n,o),(p.default.array(i)||p.default.object(i))&&this.on(n,i)}},{key:"setPerAction",value:function(n,o){var i=this._defaults;for(var c in o){var a=c,s=this.options[n],h=o[a];a==="listeners"&&this.updatePerActionListeners(n,s.listeners,h),p.default.array(h)?s[a]=pe.from(h):p.default.plainObject(h)?(s[a]=(0,W.default)(s[a]||{},(0,wt.default)(h)),p.default.object(i.perAction[a])&&"enabled"in i.perAction[a]&&(s[a].enabled=h.enabled!==!1)):p.default.bool(h)&&p.default.object(i.perAction[a])?s[a].enabled=h:s[a]=h}}},{key:"getRect",value:function(n){return n=n||(p.default.element(this.target)?this.target:null),p.default.string(this.target)&&(n=n||this._context.querySelector(this.target)),(0,B.getElementRect)(n)}},{key:"rectChecker",value:function(n){var o=this;return p.default.func(n)?(this._rectChecker=n,this.getRect=function(i){var c=(0,W.default)({},o._rectChecker(i));return"width"in c||(c.width=c.right-c.left,c.height=c.bottom-c.top),c},this):n===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(n,o){if((0,B.trySelector)(o)||p.default.object(o)){for(var i in this.options[n]=o,this._actions.map)this.options[i][n]=o;return this}return this.options[n]}},{key:"origin",value:function(n){return this._backCompatOption("origin",n)}},{key:"deltaSource",value:function(n){return n==="page"||n==="client"?(this.options.deltaSource=n,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(n){return this._context===n.ownerDocument||(0,B.nodeContains)(this._context,n)}},{key:"testIgnoreAllow",value:function(n,o,i){return!this.testIgnore(n.ignoreFrom,o,i)&&this.testAllow(n.allowFrom,o,i)}},{key:"testAllow",value:function(n,o,i){return!n||!!p.default.element(i)&&(p.default.string(n)?(0,B.matchesUpTo)(i,n,o):!!p.default.element(n)&&(0,B.nodeContains)(n,i))}},{key:"testIgnore",value:function(n,o,i){return!(!n||!p.default.element(i))&&(p.default.string(n)?(0,B.matchesUpTo)(i,n,o):!!p.default.element(n)&&(0,B.nodeContains)(n,i))}},{key:"fire",value:function(n){return this.events.fire(n),this}},{key:"_onOff",value:function(n,o,i,c){p.default.object(o)&&!p.default.array(o)&&(c=i,i=null);var a=n==="on"?"add":"remove",s=(0,ce.default)(o,i);for(var h in s){h==="wheel"&&(h=j.default.wheelEvent);for(var g=0;g<s[h].length;g++){var P=s[h][g];(0,lr.default)(h,this._actions)?this.events[n](h,P):p.default.string(this.target)?this._scopeEvents["".concat(a,"Delegate")](this.target,this._context,h,P,c):this._scopeEvents[a](this.target,h,P,c)}}return this}},{key:"on",value:function(n,o,i){return this._onOff("on",n,o,i)}},{key:"off",value:function(n,o,i){return this._onOff("off",n,o,i)}},{key:"set",value:function(n){var o=this._defaults;for(var i in p.default.object(n)||(n={}),this.options=(0,wt.default)(o.base),this._actions.methodDict){var c=i,a=this._actions.methodDict[c];this.options[c]={},this.setPerAction(c,(0,W.default)((0,W.default)({},o.perAction),o.actions[c])),this[a](n[c])}for(var s in n)p.default.func(this[s])&&this[s](n[s]);return this}},{key:"unset",value:function(){if(p.default.string(this.target))for(var n in this._scopeEvents.delegatedEvents)for(var o=this._scopeEvents.delegatedEvents[n],i=o.length-1;i>=0;i--){var c=o[i],a=c.selector,s=c.context,h=c.listeners;a===this.target&&s===this._context&&o.splice(i,1);for(var g=h.length-1;g>=0;g--)this._scopeEvents.removeDelegate(this.target,this._context,n,h[g][0],h[g][1])}else this._scopeEvents.remove(this.target,"all")}}])&&Xs(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Vr.Interactable=Gs;var Nr={};function Ys(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ao(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.InteractableSet=void 0;var $s=function(){function e(n){var o=this;(function(i,c){if(!(i instanceof c))throw new TypeError("Cannot call a class as a function")})(this,e),ao(this,"list",[]),ao(this,"selectorMap",{}),ao(this,"scope",void 0),this.scope=n,n.addListeners({"interactable:unset":function(i){var c=i.interactable,a=c.target,s=c._context,h=p.default.string(a)?o.selectorMap[a]:a[o.scope.id],g=pe.findIndex(h,function(P){return P.context===s});h[g]&&(h[g].context=null,h[g].interactable=null),h.splice(g,1)}})}var t,r;return t=e,(r=[{key:"new",value:function(n,o){o=(0,W.default)(o||{},{actions:this.scope.actions});var i=new this.scope.Interactable(n,o,this.scope.document,this.scope.events),c={context:i._context,interactable:i};return this.scope.addDocument(i._doc),this.list.push(i),p.default.string(n)?(this.selectorMap[n]||(this.selectorMap[n]=[]),this.selectorMap[n].push(c)):(i.target[this.scope.id]||Object.defineProperty(n,this.scope.id,{value:[],configurable:!0}),n[this.scope.id].push(c)),this.scope.fire("interactable:new",{target:n,options:o,interactable:i,win:this.scope._win}),i}},{key:"get",value:function(n,o){var i=o&&o.context||this.scope.document,c=p.default.string(n),a=c?this.selectorMap[n]:n[this.scope.id];if(!a)return null;var s=pe.find(a,function(h){return h.context===i&&(c||h.interactable.inContext(n))});return s&&s.interactable}},{key:"forEachMatch",value:function(n,o){for(var i=0;i<this.list.length;i++){var c=this.list[i],a=void 0;if((p.default.string(c.target)?p.default.element(n)&&B.matchesSelector(n,c.target):n===c.target)&&c.inContext(n)&&(a=o(c)),a!==void 0)return a}}}])&&Ys(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();Nr.InteractableSet=$s;var Wr={};function Zs(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function so(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function co(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var i,c,a=[],s=!0,h=!1;try{for(o=o.call(r);!(s=(i=o.next()).done)&&(a.push(i.value),!n||a.length!==n);s=!0);}catch(g){h=!0,c=g}finally{try{s||o.return==null||o.return()}finally{if(h)throw c}}return a}}(e,t)||function(r,n){if(r){if(typeof r=="string")return Vi(r,n);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Vi(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Vi(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.default=void 0;var Qs=function(){function e(n){(function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")})(this,e),so(this,"currentTarget",void 0),so(this,"originalEvent",void 0),so(this,"type",void 0),this.originalEvent=n,(0,G.default)(this,n)}var t,r;return t=e,(r=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&Zs(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ur(e){if(!p.default.object(e))return{capture:!!e,passive:!1};var t=(0,W.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var Js={id:"events",install:function(e){var t,r=[],n={},o=[],i={add:c,remove:a,addDelegate:function(g,P,L,F,A){var Y=ur(A);if(!n[L]){n[L]=[];for(var Q=0;Q<o.length;Q++){var $=o[Q];c($,L,s),c($,L,h,!0)}}var J=n[L],ne=pe.find(J,function(ae){return ae.selector===g&&ae.context===P});ne||(ne={selector:g,context:P,listeners:[]},J.push(ne)),ne.listeners.push([F,Y])},removeDelegate:function(g,P,L,F,A){var Y,Q=ur(A),$=n[L],J=!1;if($)for(Y=$.length-1;Y>=0;Y--){var ne=$[Y];if(ne.selector===g&&ne.context===P){for(var ae=ne.listeners,ve=ae.length-1;ve>=0;ve--){var be=co(ae[ve],2),se=be[0],me=be[1],qe=me.capture,rt=me.passive;if(se===F&&qe===Q.capture&&rt===Q.passive){ae.splice(ve,1),ae.length||($.splice(Y,1),a(P,L,s),a(P,L,h,!0)),J=!0;break}}if(J)break}}},delegateListener:s,delegateUseCapture:h,delegatedEvents:n,documents:o,targets:r,supportsOptions:!1,supportsPassive:!1};function c(g,P,L,F){var A=ur(F),Y=pe.find(r,function(Q){return Q.eventTarget===g});Y||(Y={eventTarget:g,events:{}},r.push(Y)),Y.events[P]||(Y.events[P]=[]),g.addEventListener&&!pe.contains(Y.events[P],L)&&(g.addEventListener(P,L,i.supportsOptions?A:A.capture),Y.events[P].push(L))}function a(g,P,L,F){var A=ur(F),Y=pe.findIndex(r,function(ve){return ve.eventTarget===g}),Q=r[Y];if(Q&&Q.events)if(P!=="all"){var $=!1,J=Q.events[P];if(J){if(L==="all"){for(var ne=J.length-1;ne>=0;ne--)a(g,P,J[ne],A);return}for(var ae=0;ae<J.length;ae++)if(J[ae]===L){g.removeEventListener(P,L,i.supportsOptions?A:A.capture),J.splice(ae,1),J.length===0&&(delete Q.events[P],$=!0);break}}$&&!Object.keys(Q.events).length&&r.splice(Y,1)}else for(P in Q.events)Q.events.hasOwnProperty(P)&&a(g,P,"all")}function s(g,P){for(var L=ur(P),F=new Qs(g),A=n[g.type],Y=co(I.getEventTargets(g),1)[0],Q=Y;p.default.element(Q);){for(var $=0;$<A.length;$++){var J=A[$],ne=J.selector,ae=J.context;if(B.matchesSelector(Q,ne)&&B.nodeContains(ae,Y)&&B.nodeContains(ae,Q)){var ve=J.listeners;F.currentTarget=Q;for(var be=0;be<ve.length;be++){var se=co(ve[be],2),me=se[0],qe=se[1],rt=qe.capture,Co=qe.passive;rt===L.capture&&Co===L.passive&&me(F)}}}Q=B.parentNode(Q)}}function h(g){return s(g,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return i.supportsOptions=!0},get passive(){return i.supportsPassive=!0}}),e.events=i,i}};Wr.default=Js;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.default=void 0;var Ur={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<Ur.methodOrder.length;t++){var r;r=Ur.methodOrder[t];var n=Ur[r](e);if(n)return n}return null},simulationResume:function(e){var t=e.pointerType,r=e.eventType,n=e.eventTarget,o=e.scope;if(!/down|start/i.test(r))return null;for(var i=0;i<o.interactions.list.length;i++){var c=o.interactions.list[i],a=n;if(c.simulation&&c.simulation.allowResume&&c.pointerType===t)for(;a;){if(a===c.element)return c;a=B.parentNode(a)}}return null},mouseOrPen:function(e){var t,r=e.pointerId,n=e.pointerType,o=e.eventType,i=e.scope;if(n!=="mouse"&&n!=="pen")return null;for(var c=0;c<i.interactions.list.length;c++){var a=i.interactions.list[c];if(a.pointerType===n){if(a.simulation&&!Ni(a,r))continue;if(a.interacting())return a;t||(t=a)}}if(t)return t;for(var s=0;s<i.interactions.list.length;s++){var h=i.interactions.list[s];if(!(h.pointerType!==n||/down/i.test(o)&&h.simulation))return h}return null},hasPointer:function(e){for(var t=e.pointerId,r=e.scope,n=0;n<r.interactions.list.length;n++){var o=r.interactions.list[n];if(Ni(o,t))return o}return null},idle:function(e){for(var t=e.pointerType,r=e.scope,n=0;n<r.interactions.list.length;n++){var o=r.interactions.list[n];if(o.pointers.length===1){var i=o.interactable;if(i&&(!i.options.gesture||!i.options.gesture.enabled))continue}else if(o.pointers.length>=2)continue;if(!o.interacting()&&t===o.pointerType)return o}return null}};function Ni(e,t){return e.pointers.some(function(r){return r.id===t})}var ec=Ur;Kr.default=ec;var Xr={};function lo(e){return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Wi(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var i,c,a=[],s=!0,h=!1;try{for(o=o.call(r);!(s=(i=o.next()).done)&&(a.push(i.value),!n||a.length!==n);s=!0);}catch(g){h=!0,c=g}finally{try{s||o.return==null||o.return()}finally{if(h)throw c}}return a}}(e,t)||function(r,n){if(r){if(typeof r=="string")return Ki(r,n);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?Ki(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ki(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uo(e,t){return uo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},uo(e,t)}function nc(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function Gr(e){return Gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Gr(e)}Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.default=void 0;var fo=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function Ui(e,t){return function(r){var n=t.interactions.list,o=I.getPointerType(r),i=Wi(I.getEventTargets(r),2),c=i[0],a=i[1],s=[];if(/^touch/.test(r.type)){t.prevTouchTime=t.now();for(var h=0;h<r.changedTouches.length;h++){var g=r.changedTouches[h],P={pointer:g,pointerId:I.getPointerId(g),pointerType:o,eventType:r.type,eventTarget:c,curEventTarget:a,scope:t},L=Xi(P);s.push([P.pointer,P.eventTarget,P.curEventTarget,L])}}else{var F=!1;if(!j.default.supportsPointerEvent&&/mouse/.test(r.type)){for(var A=0;A<n.length&&!F;A++)F=n[A].pointerType!=="mouse"&&n[A].pointerIsDown;F=F||t.now()-t.prevTouchTime<500||r.timeStamp===0}if(!F){var Y={pointer:r,pointerId:I.getPointerId(r),pointerType:o,eventType:r.type,curEventTarget:a,eventTarget:c,scope:t},Q=Xi(Y);s.push([Y.pointer,Y.eventTarget,Y.curEventTarget,Q])}}for(var $=0;$<s.length;$++){var J=Wi(s[$],4),ne=J[0],ae=J[1],ve=J[2];J[3][e](ne,r,ae,ve)}}}function Xi(e){var t=e.pointerType,r=e.scope,n={interaction:Kr.default.search(e),searchDetails:e};return r.fire("interactions:find",n),n.interaction||r.interactions.new({pointerType:t})}function po(e,t){var r=e.doc,n=e.scope,o=e.options,i=n.interactions.docEvents,c=n.events,a=c[t];for(var s in n.browser.isIOS&&!o.events&&(o.events={passive:!1}),c.delegatedEvents)a(r,s,c.delegateListener),a(r,s,c.delegateUseCapture,!0);for(var h=o&&o.events,g=0;g<i.length;g++){var P=i[g];a(r,P.type,P.listener,h)}}var oc={id:"core/interactions",install:function(e){for(var t={},r=0;r<fo.length;r++){var n=fo[r];t[n]=Ui(n,e)}var o,i=j.default.pEventTypes;function c(){for(var a=0;a<e.interactions.list.length;a++){var s=e.interactions.list[a];if(s.pointerIsDown&&s.pointerType==="touch"&&!s._interacting)for(var h=function(){var P=s.pointers[g];e.documents.some(function(L){var F=L.doc;return(0,B.nodeContains)(F,P.downTarget)})||s.removePointer(P.pointer,P.event)},g=0;g<s.pointers.length;g++)h()}}(o=R.default.PointerEvent?[{type:i.down,listener:c},{type:i.down,listener:t.pointerDown},{type:i.move,listener:t.pointerMove},{type:i.up,listener:t.pointerUp},{type:i.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:c},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(a){for(var s=0;s<e.interactions.list.length;s++)e.interactions.list[s].documentBlur(a)}}),e.prevTouchTime=0,e.Interaction=function(a){(function(A,Y){if(typeof Y!="function"&&Y!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(Y&&Y.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),Object.defineProperty(A,"prototype",{writable:!1}),Y&&uo(A,Y)})(F,a);var s,h,g,P,L=(g=F,P=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var A,Y=Gr(g);if(P){var Q=Gr(this).constructor;A=Reflect.construct(Y,arguments,Q)}else A=Y.apply(this,arguments);return nc(this,A)});function F(){return tc(this,F),L.apply(this,arguments)}return s=F,(h=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(A){e.interactions.pointerMoveTolerance=A}},{key:"_now",value:function(){return e.now()}}])&&rc(s.prototype,h),Object.defineProperty(s,"prototype",{writable:!1}),F}(Le.default),e.interactions={list:[],new:function(a){a.scopeFire=function(h,g){return e.fire(h,g)};var s=new e.Interaction(a);return e.interactions.list.push(s),s},listeners:t,docEvents:o,pointerMoveTolerance:1},e.usePlugin(_t.default)},listeners:{"scope:add-document":function(e){return po(e,"add")},"scope:remove-document":function(e){return po(e,"remove")},"interactable:unset":function(e,t){for(var r=e.interactable,n=t.interactions.list.length-1;n>=0;n--){var o=t.interactions.list[n];o.interactable===r&&(o.stop(),t.fire("interactions:destroy",{interaction:o}),o.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(n,1))}}},onDocSignal:po,doOnInteractions:Ui,methodNames:fo},ic=oc;Xr.default=ic;var fr={};function vo(e){return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function dr(){return dr=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=ac(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},dr.apply(this,arguments)}function ac(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ct(e))!==null;);return e}function ho(e,t){return ho=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ho(e,t)}function sc(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(e)}function ct(e){return ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ct(e)}function Gi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yi(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $i(e,t,r){return t&&Yi(e.prototype,t),r&&Yi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ke(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(fr,"__esModule",{value:!0}),fr.Scope=void 0,fr.initScope=Zi;var cc=function(){function e(){var t=this;Gi(this,e),ke(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),ke(this,"isInitialized",!1),ke(this,"listenerMaps",[]),ke(this,"browser",j.default),ke(this,"defaults",(0,wt.default)(nr.defaults)),ke(this,"Eventable",sr.Eventable),ke(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),ke(this,"interactStatic",(0,io.createInteractStatic)(this)),ke(this,"InteractEvent",or.InteractEvent),ke(this,"Interactable",void 0),ke(this,"interactables",new Nr.InteractableSet(this)),ke(this,"_win",void 0),ke(this,"document",void 0),ke(this,"window",void 0),ke(this,"documents",[]),ke(this,"_plugins",{list:[],map:{}}),ke(this,"onWindowUnload",function(n){return t.removeDocument(n.target)});var r=this;this.Interactable=function(n){(function(s,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(h&&h.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),h&&ho(s,h)})(a,n);var o,i,c=(o=a,i=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var s,h=ct(o);if(i){var g=ct(this).constructor;s=Reflect.construct(h,arguments,g)}else s=h.apply(this,arguments);return sc(this,s)});function a(){return Gi(this,a),c.apply(this,arguments)}return $i(a,[{key:"_defaults",get:function(){return r.defaults}},{key:"set",value:function(s){return dr(ct(a.prototype),"set",this).call(this,s),r.fire("interactable:set",{options:s,interactable:this}),this}},{key:"unset",value:function(){dr(ct(a.prototype),"unset",this).call(this);var s=r.interactables.list.indexOf(this);s<0||(dr(ct(a.prototype),"unset",this).call(this),r.interactables.list.splice(s,1),r.fire("interactable:unset",{interactable:this}))}}]),a}(Vr.Interactable)}return $i(e,[{key:"addListeners",value:function(t,r){this.listenerMaps.push({id:r,map:t})}},{key:"fire",value:function(t,r){for(var n=0;n<this.listenerMaps.length;n++){var o=this.listenerMaps[n].map[t];if(o&&o(r,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:Zi(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,r){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,r),t.listeners&&t.before){for(var n=0,o=this.listenerMaps.length,i=t.before.reduce(function(a,s){return a[s]=!0,a[Qi(s)]=!0,a},{});n<o;n++){var c=this.listenerMaps[n].id;if(i[c]||i[Qi(c)])break}this.listenerMaps.splice(n,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,r){if(this.getDocIndex(t)!==-1)return!1;var n=l.getWindow(t);r=r?(0,W.default)({},r):{},this.documents.push({doc:t,options:r}),this.events.documents.push(t),t!==this.document&&this.events.add(n,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:n,scope:this,options:r})}},{key:"removeDocument",value:function(t){var r=this.getDocIndex(t),n=l.getWindow(t),o=this.documents[r].options;this.events.remove(n,"unload",this.onWindowUnload),this.documents.splice(r,1),this.events.documents.splice(r,1),this.fire("scope:remove-document",{doc:t,window:n,scope:this,options:o})}},{key:"getDocIndex",value:function(t){for(var r=0;r<this.documents.length;r++)if(this.documents[r].doc===t)return r;return-1}},{key:"getDocOptions",value:function(t){var r=this.getDocIndex(t);return r===-1?null:this.documents[r].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function Zi(e,t){return e.isInitialized=!0,p.default.window(t)&&l.init(t),R.default.init(t),j.default.init(t),ze.default.init(t),e.window=t,e.document=t.document,e.usePlugin(Xr.default),e.usePlugin(Wr.default),e}function Qi(e){return e&&e.replace(/\/.*$/,"")}fr.Scope=cc;var De={};Object.defineProperty(De,"__esModule",{value:!0}),De.default=void 0;var Ji=new fr.Scope,lc=Ji.interactStatic;De.default=lc;var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Ji.init(uc);var Yr={};Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.default=void 0,Yr.default=function(){};var $r={};Object.defineProperty($r,"__esModule",{value:!0}),$r.default=void 0,$r.default=function(){};var Zr={};function ea(e,t){return function(r){if(Array.isArray(r))return r}(e)||function(r,n){var o=r==null?null:typeof Symbol<"u"&&r[Symbol.iterator]||r["@@iterator"];if(o!=null){var i,c,a=[],s=!0,h=!1;try{for(o=o.call(r);!(s=(i=o.next()).done)&&(a.push(i.value),!n||a.length!==n);s=!0);}catch(g){h=!0,c=g}finally{try{s||o.return==null||o.return()}finally{if(h)throw c}}return a}}(e,t)||function(r,n){if(r){if(typeof r=="string")return ta(r,n);var o=Object.prototype.toString.call(r).slice(8,-1);return o==="Object"&&r.constructor&&(o=r.constructor.name),o==="Map"||o==="Set"?Array.from(r):o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?ta(r,n):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ta(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.default=void 0,Zr.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(n){var o=ea(n,2),i=o[0],c=o[1];return i in e||c in e}),r=function(n,o){for(var i=e.range,c=e.limits,a=c===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:c,s=e.offset,h=s===void 0?{x:0,y:0}:s,g={range:i,grid:e,x:null,y:null},P=0;P<t.length;P++){var L=ea(t[P],2),F=L[0],A=L[1],Y=Math.round((n-h.x)/e[F]),Q=Math.round((o-h.y)/e[A]);g[F]=Math.max(a.left,Math.min(a.right,Y*e[F]+h.x)),g[A]=Math.max(a.top,Math.min(a.bottom,Q*e[A]+h.y))}return g};return r.grid=e,r.coordFields=t,r};var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),Object.defineProperty(pr,"edgeTarget",{enumerable:!0,get:function(){return Yr.default}}),Object.defineProperty(pr,"elements",{enumerable:!0,get:function(){return $r.default}}),Object.defineProperty(pr,"grid",{enumerable:!0,get:function(){return Zr.default}});var Qr={};Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.default=void 0;var fc={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,W.default)(t.snappers||{},pr),t.createSnapGrid=t.snappers.grid}},dc=fc;Qr.default=dc;var Lt={};function ra(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function xo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ra(Object(r),!0).forEach(function(n){pc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ra(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pc(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.default=Lt.aspectRatio=void 0;var na={start:function(e){var t=e.state,r=e.rect,n=e.edges,o=e.pageCoords,i=t.options,c=i.ratio,a=i.enabled,s=t.options,h=s.equalDelta,g=s.modifiers;c==="preserve"&&(c=r.width/r.height),t.startCoords=(0,W.default)({},o),t.startRect=(0,W.default)({},r),t.ratio=c,t.equalDelta=h;var P=t.linkedEdges={top:n.top||n.left&&!n.bottom,left:n.left||n.top&&!n.right,bottom:n.bottom||n.right&&!n.top,right:n.right||n.bottom&&!n.left};if(t.xIsPrimaryAxis=!(!n.left&&!n.right),t.equalDelta){var L=(P.left?1:-1)*(P.top?1:-1);t.edgeSign={x:L,y:L}}else t.edgeSign={x:P.left?-1:1,y:P.top?-1:1};if(a!==!1&&(0,W.default)(n,P),g!=null&&g.length){var F=new Et.default(e.interaction);F.copyFrom(e.interaction.modification),F.prepareStates(g),t.subModification=F,F.startAll(xo({},e))}},set:function(e){var t=e.state,r=e.rect,n=e.coords,o=t.linkedEdges,i=(0,W.default)({},n),c=t.equalDelta?vc:hc;if((0,W.default)(e.edges,o),c(t,t.xIsPrimaryAxis,n,r),!t.subModification)return null;var a=(0,W.default)({},r);(0,ee.addEdges)(o,a,{x:n.x-i.x,y:n.y-i.y});var s=t.subModification.setAll(xo(xo({},e),{},{rect:a,edges:o,pageCoords:n,prevCoords:n,prevRect:a})),h=s.delta;return s.changed&&(c(t,Math.abs(h.x)>Math.abs(h.y),s.coords,s.rect),(0,W.default)(n,s.coords)),s.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function vc(e,t,r){var n=e.startCoords,o=e.edgeSign;t?r.y=n.y+(r.x-n.x)*o.y:r.x=n.x+(r.y-n.y)*o.x}function hc(e,t,r,n){var o=e.startRect,i=e.startCoords,c=e.ratio,a=e.edgeSign;if(t){var s=n.width/c;r.y=i.y+(s-o.height)*a.y}else{var h=n.height*c;r.x=i.x+(h-o.width)*a.x}}Lt.aspectRatio=na;var xc=(0,Ce.makeModifier)(na,"aspectRatio");Lt.default=xc;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.default=void 0;var oa=function(){};oa._defaults={};var gc=oa;Pt.default=gc;var go={};Object.defineProperty(go,"__esModule",{value:!0}),Object.defineProperty(go,"default",{enumerable:!0,get:function(){return Pt.default}});var Re={};function yo(e,t,r){return p.default.func(e)?ee.resolveRectLike(e,t.interactable,t.element,[r.x,r.y,t]):ee.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(Re,"__esModule",{value:!0}),Re.default=void 0,Re.getRestrictionRect=yo,Re.restrict=void 0;var ia={start:function(e){var t=e.rect,r=e.startOffset,n=e.state,o=e.interaction,i=e.pageCoords,c=n.options,a=c.elementRect,s=(0,W.default)({left:0,top:0,right:0,bottom:0},c.offset||{});if(t&&a){var h=yo(c.restriction,o,i);if(h){var g=h.right-h.left-t.width,P=h.bottom-h.top-t.height;g<0&&(s.left+=g,s.right+=g),P<0&&(s.top+=P,s.bottom+=P)}s.left+=r.left-t.width*a.left,s.top+=r.top-t.height*a.top,s.right+=r.right-t.width*(1-a.right),s.bottom+=r.bottom-t.height*(1-a.bottom)}n.offset=s},set:function(e){var t=e.coords,r=e.interaction,n=e.state,o=n.options,i=n.offset,c=yo(o.restriction,r,t);if(c){var a=ee.xywhToTlbr(c);t.x=Math.max(Math.min(a.right-i.right,t.x),a.left+i.left),t.y=Math.max(Math.min(a.bottom-i.bottom,t.y),a.top+i.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};Re.restrict=ia;var yc=(0,Ce.makeModifier)(ia,"restrict");Re.default=yc;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.restrictEdges=Ye.default=void 0;var aa={top:1/0,left:1/0,bottom:-1/0,right:-1/0},sa={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function ca(e,t){for(var r=["top","left","bottom","right"],n=0;n<r.length;n++){var o=r[n];o in e||(e[o]=t[o])}return e}var la={noInner:aa,noOuter:sa,start:function(e){var t,r=e.interaction,n=e.startOffset,o=e.state,i=o.options;if(i){var c=(0,Re.getRestrictionRect)(i.offset,r,r.coords.start.page);t=ee.rectToXY(c)}t=t||{x:0,y:0},o.offset={top:t.y+n.top,left:t.x+n.left,bottom:t.y-n.bottom,right:t.x-n.right}},set:function(e){var t=e.coords,r=e.edges,n=e.interaction,o=e.state,i=o.offset,c=o.options;if(r){var a=(0,W.default)({},t),s=(0,Re.getRestrictionRect)(c.inner,n,a)||{},h=(0,Re.getRestrictionRect)(c.outer,n,a)||{};ca(s,aa),ca(h,sa),r.top?t.y=Math.min(Math.max(h.top+i.top,a.y),s.top+i.top):r.bottom&&(t.y=Math.max(Math.min(h.bottom+i.bottom,a.y),s.bottom+i.bottom)),r.left?t.x=Math.min(Math.max(h.left+i.left,a.x),s.left+i.left):r.right&&(t.x=Math.max(Math.min(h.right+i.right,a.x),s.right+i.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};Ye.restrictEdges=la;var mc=(0,Ce.makeModifier)(la,"restrictEdges");Ye.default=mc;var zt={};Object.defineProperty(zt,"__esModule",{value:!0}),zt.restrictRect=zt.default=void 0;var bc=(0,W.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},Re.restrict.defaults),ua={start:Re.restrict.start,set:Re.restrict.set,defaults:bc};zt.restrictRect=ua;var _c=(0,Ce.makeModifier)(ua,"restrictRect");zt.default=_c;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.restrictSize=Ht.default=void 0;var wc={width:-1/0,height:-1/0},Ec={width:1/0,height:1/0},fa={start:function(e){return Ye.restrictEdges.start(e)},set:function(e){var t=e.interaction,r=e.state,n=e.rect,o=e.edges,i=r.options;if(o){var c=ee.tlbrToXywh((0,Re.getRestrictionRect)(i.min,t,e.coords))||wc,a=ee.tlbrToXywh((0,Re.getRestrictionRect)(i.max,t,e.coords))||Ec;r.options={endOnly:i.endOnly,inner:(0,W.default)({},Ye.restrictEdges.noInner),outer:(0,W.default)({},Ye.restrictEdges.noOuter)},o.top?(r.options.inner.top=n.bottom-c.height,r.options.outer.top=n.bottom-a.height):o.bottom&&(r.options.inner.bottom=n.top+c.height,r.options.outer.bottom=n.top+a.height),o.left?(r.options.inner.left=n.right-c.width,r.options.outer.left=n.right-a.width):o.right&&(r.options.inner.right=n.left+c.width,r.options.outer.right=n.left+a.width),Ye.restrictEdges.set(e),r.options=i}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};Ht.restrictSize=fa;var Sc=(0,Ce.makeModifier)(fa,"restrictSize");Ht.default=Sc;var mo={};Object.defineProperty(mo,"__esModule",{value:!0}),Object.defineProperty(mo,"default",{enumerable:!0,get:function(){return Pt.default}});var lt={};Object.defineProperty(lt,"__esModule",{value:!0}),lt.snap=lt.default=void 0;var da={start:function(e){var t,r=e.interaction,n=e.interactable,o=e.element,i=e.rect,c=e.state,a=e.startOffset,s=c.options,h=s.offsetWithOrigin?function(L){var F=L.interaction.element;return(0,ee.rectToXY)((0,ee.resolveRectLike)(L.state.options.origin,null,null,[F]))||(0,ue.default)(L.interactable,F,L.interaction.prepared.name)}(e):{x:0,y:0};if(s.offset==="startCoords")t={x:r.coords.start.page.x,y:r.coords.start.page.y};else{var g=(0,ee.resolveRectLike)(s.offset,n,o,[r]);(t=(0,ee.rectToXY)(g)||{x:0,y:0}).x+=h.x,t.y+=h.y}var P=s.relativePoints;c.offsets=i&&P&&P.length?P.map(function(L,F){return{index:F,relativePoint:L,x:a.left-i.width*L.x+t.x,y:a.top-i.height*L.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,r=e.coords,n=e.state,o=n.options,i=n.offsets,c=(0,ue.default)(t.interactable,t.element,t.prepared.name),a=(0,W.default)({},r),s=[];o.offsetWithOrigin||(a.x-=c.x,a.y-=c.y);for(var h=0;h<i.length;h++)for(var g=i[h],P=a.x-g.x,L=a.y-g.y,F=0,A=o.targets.length;F<A;F++){var Y,Q=o.targets[F];(Y=p.default.func(Q)?Q(P,L,t._proxy,g,F):Q)&&s.push({x:(p.default.number(Y.x)?Y.x:P)+g.x,y:(p.default.number(Y.y)?Y.y:L)+g.y,range:p.default.number(Y.range)?Y.range:o.range,source:Q,index:F,offset:g})}for(var $={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},J=0;J<s.length;J++){var ne=s[J],ae=ne.range,ve=ne.x-a.x,be=ne.y-a.y,se=(0,U.default)(ve,be),me=se<=ae;ae===1/0&&$.inRange&&$.range!==1/0&&(me=!1),$.target&&!(me?$.inRange&&ae!==1/0?se/ae<$.distance/$.range:ae===1/0&&$.range!==1/0||se<$.distance:!$.inRange&&se<$.distance)||($.target=ne,$.distance=se,$.range=ae,$.inRange=me,$.delta.x=ve,$.delta.y=be)}return $.inRange&&(r.x=$.target.x,r.y=$.target.y),n.closest=$,$},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};lt.snap=da;var Pc=(0,Ce.makeModifier)(da,"snap");lt.default=Pc;var tt={};function pa(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(tt,"__esModule",{value:!0}),tt.snapSize=tt.default=void 0;var va={start:function(e){var t=e.state,r=e.edges,n=t.options;if(!r)return null;e.state={options:{targets:null,relativePoints:[{x:r.left?0:1,y:r.top?0:1}],offset:n.offset||"self",origin:{x:0,y:0},range:n.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],lt.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,r,n=e.interaction,o=e.state,i=e.coords,c=o.options,a=o.offsets,s={x:i.x-a[0].x,y:i.y-a[0].y};o.options=(0,W.default)({},c),o.options.targets=[];for(var h=0;h<(c.targets||[]).length;h++){var g=(c.targets||[])[h],P=void 0;if(P=p.default.func(g)?g(s.x,s.y,n):g){for(var L=0;L<o.targetFields.length;L++){var F=(t=o.targetFields[L],r=2,function($){if(Array.isArray($))return $}(t)||function($,J){var ne=$==null?null:typeof Symbol<"u"&&$[Symbol.iterator]||$["@@iterator"];if(ne!=null){var ae,ve,be=[],se=!0,me=!1;try{for(ne=ne.call($);!(se=(ae=ne.next()).done)&&(be.push(ae.value),!J||be.length!==J);se=!0);}catch(qe){me=!0,ve=qe}finally{try{se||ne.return==null||ne.return()}finally{if(me)throw ve}}return be}}(t,r)||function($,J){if($){if(typeof $=="string")return pa($,J);var ne=Object.prototype.toString.call($).slice(8,-1);return ne==="Object"&&$.constructor&&(ne=$.constructor.name),ne==="Map"||ne==="Set"?Array.from($):ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ne)?pa($,J):void 0}}(t,r)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),A=F[0],Y=F[1];if(A in P||Y in P){P.x=P[A],P.y=P[Y];break}}o.options.targets.push(P)}}var Q=lt.snap.set(e);return o.options=c,Q},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};tt.snapSize=va;var Mc=(0,Ce.makeModifier)(va,"snapSize");tt.default=Mc;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.snapEdges=qt.default=void 0;var ha={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],tt.snapSize.start(e)):null},set:tt.snapSize.set,defaults:(0,W.default)((0,wt.default)(tt.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};qt.snapEdges=ha;var Cc=(0,Ce.makeModifier)(ha,"snapEdges");qt.default=Cc;var bo={};Object.defineProperty(bo,"__esModule",{value:!0}),Object.defineProperty(bo,"default",{enumerable:!0,get:function(){return Pt.default}});var _o={};Object.defineProperty(_o,"__esModule",{value:!0}),Object.defineProperty(_o,"default",{enumerable:!0,get:function(){return Pt.default}});var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.default=void 0;var kc={aspectRatio:Lt.default,restrictEdges:Ye.default,restrict:Re.default,restrictRect:zt.default,restrictSize:Ht.default,snapEdges:qt.default,snap:lt.default,snapSize:tt.default,spring:bo.default,avoid:go.default,transform:_o.default,rubberband:mo.default};Ft.default=kc;var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.default=void 0;var Oc={id:"modifiers",install:function(e){var t=e.interactStatic;for(var r in e.usePlugin(Ce.default),e.usePlugin(Qr.default),t.modifiers=Ft.default,Ft.default){var n=Ft.default[r],o=n._defaults,i=n._methods;o._methods=i,e.defaults.perAction[r]=o}}},Tc=Oc;vr.default=Tc;var Mt={};function wo(e){return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Dc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Eo(e,t){return Eo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Eo(e,t)}function Ac(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return So(e)}function So(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jr(e){return Jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Jr(e)}Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.default=Mt.PointerEvent=void 0;var Bc=function(e){(function(a,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(s&&s.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),s&&Eo(a,s)})(c,e);var t,r,n,o,i=(n=c,o=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var a,s=Jr(n);if(o){var h=Jr(this).constructor;a=Reflect.construct(s,arguments,h)}else a=s.apply(this,arguments);return Ac(this,a)});function c(a,s,h,g,P,L){var F;if(function(Q,$){if(!(Q instanceof $))throw new TypeError("Cannot call a class as a function")}(this,c),F=i.call(this,P),I.pointerExtend(So(F),h),h!==s&&I.pointerExtend(So(F),s),F.timeStamp=L,F.originalEvent=h,F.type=a,F.pointerId=I.getPointerId(s),F.pointerType=I.getPointerType(s),F.target=g,F.currentTarget=null,a==="tap"){var A=P.getPointerIndex(s);F.dt=F.timeStamp-P.pointers[A].downTime;var Y=F.timeStamp-P.tapTime;F.double=!!P.prevTap&&P.prevTap.type!=="doubletap"&&P.prevTap.target===F.target&&Y<500}else a==="doubletap"&&(F.dt=s.timeStamp-P.tapTime,F.double=!0);return F}return t=c,(r=[{key:"_subtractOrigin",value:function(a){var s=a.x,h=a.y;return this.pageX-=s,this.pageY-=h,this.clientX-=s,this.clientY-=h,this}},{key:"_addOrigin",value:function(a){var s=a.x,h=a.y;return this.pageX+=s,this.pageY+=h,this.clientX+=s,this.clientY+=h,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Dc(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),c}(Ke.BaseEvent);Mt.PointerEvent=Mt.default=Bc;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.default=void 0;var en={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=en,e.defaults.actions.pointerEvents=en.defaults,(0,W.default)(e.actions.phaselessTypes,en.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,r=e.pointerInfo;!t&&r.hold||(r.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var r=e.interaction,n=e.pointer,o=e.event,i=e.eventTarget;e.duplicate||r.pointerIsDown&&!r.pointerWasMoved||(r.pointerIsDown&&Po(e),ut({interaction:r,pointer:n,event:o,eventTarget:i,type:"move"},t))},"interactions:down":function(e,t){(function(r,n){for(var o=r.interaction,i=r.pointer,c=r.event,a=r.eventTarget,s=r.pointerIndex,h=o.pointers[s].hold,g=B.getPath(a),P={interaction:o,pointer:i,event:c,eventTarget:a,type:"hold",targets:[],path:g,node:null},L=0;L<g.length;L++){var F=g[L];P.node=F,n.fire("pointerEvents:collect-targets",P)}if(P.targets.length){for(var A=1/0,Y=0;Y<P.targets.length;Y++){var Q=P.targets[Y].eventable.options.holdDuration;Q<A&&(A=Q)}h.duration=A,h.timeout=setTimeout(function(){ut({interaction:o,eventTarget:a,pointer:i,event:c,type:"hold"},n)},A)}})(e,t),ut(e,t)},"interactions:up":function(e,t){Po(e),ut(e,t),function(r,n){var o=r.interaction,i=r.pointer,c=r.event,a=r.eventTarget;o.pointerWasMoved||ut({interaction:o,eventTarget:a,pointer:i,event:c,type:"tap"},n)}(e,t)},"interactions:cancel":function(e,t){Po(e),ut(e,t)}},PointerEvent:Mt.PointerEvent,fire:ut,collectEventTargets:xa,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function ut(e,t){var r=e.interaction,n=e.pointer,o=e.event,i=e.eventTarget,c=e.type,a=e.targets,s=a===void 0?xa(e,t):a,h=new Mt.PointerEvent(c,n,o,i,r,t.now());t.fire("pointerEvents:new",{pointerEvent:h});for(var g={interaction:r,pointer:n,event:o,eventTarget:i,targets:s,type:c,pointerEvent:h},P=0;P<s.length;P++){var L=s[P];for(var F in L.props||{})h[F]=L.props[F];var A=(0,ue.default)(L.eventable,L.node);if(h._subtractOrigin(A),h.eventable=L.eventable,h.currentTarget=L.node,L.eventable.fire(h),h._addOrigin(A),h.immediatePropagationStopped||h.propagationStopped&&P+1<s.length&&s[P+1].node!==h.currentTarget)break}if(t.fire("pointerEvents:fired",g),c==="tap"){var Y=h.double?ut({interaction:r,pointer:n,event:o,eventTarget:i,type:"doubletap"},t):h;r.prevTap=Y,r.tapTime=Y.timeStamp}return h}function xa(e,t){var r=e.interaction,n=e.pointer,o=e.event,i=e.eventTarget,c=e.type,a=r.getPointerIndex(n),s=r.pointers[a];if(c==="tap"&&(r.pointerWasMoved||!s||s.downTarget!==i))return[];for(var h=B.getPath(i),g={interaction:r,pointer:n,event:o,eventTarget:i,type:c,path:h,targets:[],node:null},P=0;P<h.length;P++){var L=h[P];g.node=L,t.fire("pointerEvents:collect-targets",g)}return c==="hold"&&(g.targets=g.targets.filter(function(F){var A;return F.eventable.options.holdDuration===((A=r.pointers[a])==null?void 0:A.hold.duration)})),g.targets}function Po(e){var t=e.interaction,r=e.pointerIndex,n=t.pointers[r].hold;n&&n.timeout&&(clearTimeout(n.timeout),n.timeout=null)}var Rc=en;hr.default=Rc;var tn={};function Ic(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(tn,"__esModule",{value:!0}),tn.default=void 0;var jc={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(hr.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=Ic,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var r=e.interaction,n=e.pointerEvent,o=e.eventTarget,i=e.targets;if(n.type==="hold"&&i.length){var c=i[0].eventable.options.holdRepeatInterval;c<=0||(r.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:r,eventTarget:o,type:"hold",pointer:n,event:n},t)},c))}}})},Lc=jc;tn.default=Lc;var rn={};function zc(e){return(0,W.default)(this.events.options,e),this}Object.defineProperty(rn,"__esModule",{value:!0}),rn.default=void 0;var Hc={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=zc;var r=t.prototype._backCompatOption;t.prototype._backCompatOption=function(n,o){var i=r.call(this,n,o);return i===this&&(this.events.options[n]=o),i}},listeners:{"pointerEvents:collect-targets":function(e,t){var r=e.targets,n=e.node,o=e.type,i=e.eventTarget;t.interactables.forEachMatch(n,function(c){var a=c.events,s=a.options;a.types[o]&&a.types[o].length&&c.testIgnoreAllow(s,n,i)&&r.push({node:n,eventable:a,props:{interactable:c}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(r){return t.getRect(r)}},"interactable:set":function(e,t){var r=e.interactable,n=e.options;(0,W.default)(r.events.options,t.pointerEvents.defaults),(0,W.default)(r.events.options,n.pointerEvents||{})}}},qc=Hc;rn.default=qc;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.default=void 0;var Fc={id:"pointer-events",install:function(e){e.usePlugin(hr),e.usePlugin(tn.default),e.usePlugin(rn.default)}},Vc=Fc;xr.default=Vc;var Vt={};function ga(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(r){return function(n,o,i){for(var c=p.default.string(n.target)?pe.from(n._context.querySelectorAll(n.target)):[n.target],a=i.window.Promise,s=a?[]:null,h=function(){var P=c[g],L=n.getRect(P);if(!L)return"break";var F=pe.find(i.interactions.list,function(J){return J.interacting()&&J.interactable===n&&J.element===P&&J.prepared.name===o.name}),A=void 0;if(F)F.move(),s&&(A=F._reflowPromise||new a(function(J){F._reflowResolve=J}));else{var Y=(0,ee.tlbrToXywh)(L),Q={page:{x:Y.x,y:Y.y},client:{x:Y.x,y:Y.y},timeStamp:i.now()},$=I.coordsToEvent(Q);A=function(J,ne,ae,ve,be){var se=J.interactions.new({pointerType:"reflow"}),me={interaction:se,event:be,pointer:be,eventTarget:ae,phase:"reflow"};se.interactable=ne,se.element=ae,se.prevEvent=be,se.updatePointer(be,be,ae,!0),I.setZeroCoords(se.coords.delta),(0,He.copyAction)(se.prepared,ve),se._doPhase(me);var qe=J.window.Promise,rt=qe?new qe(function(Co){se._reflowResolve=Co}):void 0;return se._reflowPromise=rt,se.start(ve,ne,ae),se._interacting?(se.move(me),se.end(be)):(se.stop(),se._reflowResolve()),se.removePointer(be,be),rt}(i,n,P,o,$)}s&&s.push(A)},g=0;g<c.length&&h()!=="break";g++);return s&&a.all(s).then(function(){return n})}(this,r,e)}}Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.default=void 0,Vt.install=ga;var Nc={id:"reflow",install:ga,listeners:{"interactions:stop":function(e,t){var r=e.interaction;r.pointerType==="reflow"&&(r._reflowResolve&&r._reflowResolve(),pe.remove(t.interactions.list,r))}}},Wc=Nc;Vt.default=Wc;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.default=void 0,De.default.use(_t.default),De.default.use(st.default),De.default.use(xr.default),De.default.use(St.default),De.default.use(vr.default),De.default.use(tr.default),De.default.use(yt.default),De.default.use(we.default),De.default.use(Vt.default);var Kc=De.default;Ct.default=Kc,De.default.default=De.default,yt.default,we.default,tr.default,_t.default,Ir.default,St.default,De.default,vr.default,st.default,xr.default,Vt.default;var kt={exports:{}};function Mo(e){return Mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mo(e)}Object.defineProperty(kt.exports,"__esModule",{value:!0}),kt.exports.default=void 0;var Uc=Ct.default;if(kt.exports.default=Uc,Mo(kt)==="object"&&kt)try{kt.exports=Ct.default}catch{}return Ct.default.default=Ct.default,kt.exports})})(bi);var U0=bi.exports;const Un=ya(U0),X0=(u,d,f,l)=>{Un(u).draggable({inertia:!1,listeners:{move:E=>{f==null||f(E);const M=d,q=M.getBoundingClientRect(),p=q.x+E.dx,O=q.y+E.dy;M.style.left=`${p}px`,M.style.top=`${O}px`},end:E=>{l==null||l(E)}},modifiers:[Un.modifiers.restrict({restriction:"parent",endOnly:!0})],autoScroll:!0})},G0=(u,d,f)=>{Un(u).resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},listeners:{move:l=>{d==null||d(l);const E=l.target,M=E.getBoundingClientRect();E.style.width=`${l.rect.width}px`,E.style.height=`${l.rect.height}px`,M.x+=l.deltaRect.left,M.y+=l.deltaRect.top,E.style.left=`${M.x}px`,E.style.top=`${M.y}px`},end:l=>{f==null||f(l)}}})},Y0=he.defineElements({wrap:{id:"#editor-wrap",elementType:HTMLDivElement},header:{id:"#editor-header",elementType:HTMLDivElement},loading:{id:"#editor-loading",elementType:HTMLDivElement},editor:{id:"#editor-frame",elementType:HTMLIFrameElement},preview:{id:"#preview-frame",elementType:HTMLIFrameElement},copyCodeButton:{id:"#editor-copy-code",elementType:HTMLButtonElement},copyPath:{id:"#editor-copy-path",elementType:SVGPathElement},copyRect:{id:"#editor-copy-rect",elementType:SVGRectElement},copyPolyline:{id:"#editor-copy-polyline",elementType:SVGPolylineElement},copyTextBefore:{id:"#editor-copy-text-before",elementType:HTMLSpanElement},copyTextAfter:{id:"#editor-copy-text-after",elementType:HTMLSpanElement}}),$0=async u=>{const d=await he.loadResourceText("editor-element.css");he.appendStyleTextToHead(u.parentElement,d);const f=he.FetchElementLoader({spec:Y0,path:"editor-element.html"});await f.load();const l={elementLoader:f,contentPeerEditorCrossDispather:u.crossDispathcer};return Z0(l),J0(f.elements),Q0(l),f.elements.editor.src=chrome.runtime.getURL("code-editor-tabs.html"),u.parentElement.appendChild(f.elements.wrap),f.elements};function Z0(u){u.elementLoader.addListeners([{element:"editor",events:{load:async()=>{await u.contentPeerEditorCrossDispather.dispatch({channelKey:"LoadDataRequest",channelData:Yt.HTML}),await u.contentPeerEditorCrossDispather.dispatch({channelKey:"LoadDataRequest",channelData:Yt.JS}),await u.contentPeerEditorCrossDispather.dispatch({channelKey:"LoadDataRequest",channelData:Yt.CSS}),u.elementLoader.elements.loading.remove()}}},{element:"copyCodeButton",events:{click:()=>{u.contentPeerEditorCrossDispather.dispatch({channelKey:"ClipboardSaveRequest",channelData:void 0}),Ei(u.elementLoader.elements,!0),setTimeout(()=>Ei(u.elementLoader.elements,!1),2e3)}}},{element:"header",events:{doubleClick:()=>ts(u.elementLoader.elements)}}])}function Q0(u){u.contentPeerEditorCrossDispather.channel({TabChangedEvent:d=>{es(u.elementLoader.elements,d)}})}function J0(u){X0(u.header,u.wrap,()=>_i(u),()=>wi(u)),G0(u.wrap,()=>_i(u),()=>wi(u))}function es(u,d){if(d.subKey==="preview"){const l=d.message;u.preview.srcdoc=l,u.editor.style.transition="z-index 0.3s ease",u.preview.style.transition="z-index 0.3s ease",u.editor.style.zIndex="0",u.preview.style.zIndex="10",u.preview.style.opacity="1",u.preview.focus()}else u.editor.style.zIndex="10",u.preview.style.zIndex="0",u.preview.style.opacity="0"}function _i(u){u.editor.style.pointerEvents="none",u.preview.style.pointerEvents="none"}function wi(u){u.editor.style.pointerEvents="auto",u.preview.style.pointerEvents="auto"}function Ei(u,d){const f=(E,M)=>E.style.display=M,l=d?["none","none","inline","none","inline"]:["inline","inline","none","inline","none"];[u.copyPath,u.copyRect,u.copyPolyline,u.copyTextBefore,u.copyTextAfter].forEach((E,M)=>{f(E,l[M])})}function ts(u){if(u.editor.style.display==="none"){u.editor.style.display="block",u.preview.style.display="block";return}u.editor.style.display="none",u.preview.style.display="none"}const dt={DatabaseOpen:"DatabaseOpen",DatabaseSave:"DatabaseSave",DatabaseLoad:"DatabaseLoad",DispathTabChangedEvent:"DispatchTabChangedEvent",ClipboardSave:"ClipboardSave",TabUpdate:"TabUpdate"},rs=u=>{const d=chrome.i18n.getMessage(u.messageName);alert&&(alert(d),he.Logger().error(d)),ns(u.error)},ns=u=>{const d=he.Logger();if(u instanceof Error)throw d.error(u.name),d.error(u.stack??""),d.error(u.message),u;const f="unexcepted error type";throw d.error(f,u),new Error(f)},Sr=async(u,d)=>{try{return await u()}catch(f){rs({error:f,messageName:d})}};class os{constructor(d){this.backgroundMessageAgent=d}async saveDataRequest(d){await this.send({key:Kn.SaveDataRequest,subKey:d.subKey,message:d.message,alertMessage:dt.DatabaseSave})}async loadDataRequest(d){return await this.send({key:Kn.LoadDataRequest,subKey:d,message:"",alertMessage:dt.DatabaseLoad})}async send(d){return await Sr(async()=>await this.backgroundMessageAgent.sendMessage({message:{runtimeId:chrome.runtime.id,key:d.key,subKey:d.subKey,message:d.message}}),d.alertMessage)}}class is{constructor(d){this.editorMessageSender=d,this.handleWindowClick=async f=>{const l=L0(f);if(!l)return;const E=z0(l);E&&this.editorMessageSender.postTabUpdateRequest({subKey:E,message:l.textContent??""})}}startListening(){document.addEventListener("click",this.handleWindowClick)}stopListening(){document.removeEventListener("click",this.handleWindowClick)}}class as{constructor(d,f,l){this.editorElementDispathcer=d,this.editorMessageSender=f,this.backgroundMessageSender=l,this.handleClipboardSaveRequest=()=>{this.editorMessageSender.postClipboardSaveRequest()},this.handleLoadDataRequest=async E=>{const M=await this.backgroundMessageSender.loadDataRequest(E);M&&this.editorMessageSender.postLoadedData({subKey:he.assertNotNull(M.subKey),message:M.message})}}startChannel(){this.editorElementDispathcer.channel({ClipboardSaveRequest:this.handleClipboardSaveRequest,LoadDataRequest:this.handleLoadDataRequest})}stopChannel(){this.editorElementDispathcer.clear()}}class ss{constructor(d){this.editorElementDispathcer=d}async dispatchTabChangedEvent(d){Sr(async()=>{await this.editorElementDispathcer.dispatch({channelKey:"TabChangedEvent",channelData:d})},dt.DispathTabChangedEvent)}}const Xn={ClipboardSaveRequest:"ClipboardSaveRequest",TabUpdateRequest:"TabUpdateRequest",ReplyLoadedData:"ReplyLoadedData"},Gn={ClipboardSaveRequest:"ClipboardSaveRequest",SaveDataRequest:"SaveDataRequest",TabChangedEvent:"TabChangedEvent"};class cs{constructor(d,f,l){this.editorMessageAgent=d,this.backgroundMessageSender=f,this.editorElementDispathcerSender=l,this.handleEditorMessage=E=>{switch(E.key){case Gn.ClipboardSaveRequest:return this.handleClipboardSaveRequest(E);case Gn.SaveDataRequest:return this.handleSaveDataRequest(E);case Gn.TabChangedEvent:this.editorElementDispathcerSender.dispatchTabChangedEvent(E);return}}}startListening(){this.editorMessageAgent.addListener(this.handleEditorMessage)}stopListening(){this.editorMessageAgent.removeListener()}handleClipboardSaveRequest(d){const f=d.message;Sr(async()=>{await navigator.clipboard.writeText(f)},dt.ClipboardSave)}handleSaveDataRequest(d){const f=he.assertNotNull(d.subKey),l=d.message;this.backgroundMessageSender.saveDataRequest({subKey:f,message:l})}}class ls{constructor(d,f){this.editorMessageAgent=d,this.editorFrame=f}async postClipboardSaveRequest(){await this.post({key:Xn.ClipboardSaveRequest,subKey:void 0,message:"",alertMessage:dt.ClipboardSave})}async postTabUpdateRequest(d){await this.post({key:Xn.TabUpdateRequest,subKey:d.subKey,message:d.message,alertMessage:dt.TabUpdate})}async postLoadedData(d){await this.post({key:Xn.ReplyLoadedData,subKey:d.subKey,message:d.message,alertMessage:dt.DatabaseLoad})}async post(d){Sr(async()=>{const f=he.assertNotNull(this.editorFrame.contentWindow);await this.editorMessageAgent.postMessage({target:f,targetOrigin:he.EXT_ORIGIN,message:{runtimeId:chrome.runtime.id,key:d.key,subKey:d.subKey,message:d.message}})},d.alertMessage)}}he.reserveLoadedAction(document,async()=>{us()});async function us(){fs();const u=await H0(),d=await mi(),f=he.CrossDispatcher({strictMode:!0}),l=new ss(f),E=new os(d);new cs(u,E,l).startListening();const q=await $0({parentElement:document.documentElement,crossDispathcer:f}),p=new ls(u,q.editor);new as(f,p,E).startChannel(),new is(p).startListening()}async function fs(){const u=await he.loadResourceText("chat-gpt-styles.html");he.htmlTextToHtmlElement(u).querySelectorAll("link, style").forEach(l=>{l instanceof HTMLElement&&he.appendElementToHead(document.documentElement,l)})}})();
