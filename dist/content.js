(function(){"use strict";var F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Vc(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}function qa(a){if(a.__esModule)return a;var r=a.default;if(typeof r=="function"){var o=function s(){return this instanceof s?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(a).forEach(function(s){var l=Object.getOwnPropertyDescriptor(a,s);Object.defineProperty(o,s,l.get?l:{enumerable:!0,get:function(){return a[s]}})}),o}var Ee={},Er={};/*! *****************************************************************************
	Copyright (C) Microsoft. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Wa;(function(a){(function(r){var o=typeof F=="object"?F:typeof self=="object"?self:typeof this=="object"?this:Function("return this;")(),s=l(a);typeof o.Reflect>"u"?o.Reflect=a:s=l(o.Reflect,s),r(s);function l(u,v){return function(f,b){typeof u[f]!="function"&&Object.defineProperty(u,f,{configurable:!0,writable:!0,value:b}),v&&v(f,b)}}})(function(r){var o=Object.prototype.hasOwnProperty,s=typeof Symbol=="function",l=s&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",u=s&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",v=typeof Object.create=="function",f={__proto__:[]}instanceof Array,b=!v&&!f,y={create:v?function(){return $e(Object.create(null))}:f?function(){return $e({__proto__:null})}:function(){return $e({})},has:b?function(H,U){return o.call(H,U)}:function(H,U){return U in H},get:b?function(H,U){return o.call(H,U)?H[U]:void 0}:function(H,U){return H[U]}},x=Object.getPrototypeOf(Function),I=typeof process=="object"&&process.env&&process.env.REFLECT_METADATA_USE_MAP_POLYFILL==="true",_=!I&&typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:Dt(),E=!I&&typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:Qe(),O=!I&&typeof WeakMap=="function"?WeakMap:it(),S=new O;function C(H,U,K,re){if(q(K)){if(!gt(H))throw new TypeError;if(!Ot(U))throw new TypeError;return D(H,U)}else{if(!gt(H))throw new TypeError;if(!A(U))throw new TypeError;if(!A(re)&&!q(re)&&!X(re))throw new TypeError;return X(re)&&(re=void 0),K=Ne(K),$(H,U,K,re)}}r("decorate",C);function k(H,U){function K(re,ce){if(!A(re))throw new TypeError;if(!q(ce)&&!nt(ce))throw new TypeError;Me(H,U,re,ce)}return K}r("metadata",k);function P(H,U,K,re){if(!A(K))throw new TypeError;return q(re)||(re=Ne(re)),Me(H,U,K,re)}r("defineMetadata",P);function j(H,U,K){if(!A(U))throw new TypeError;return q(K)||(K=Ne(K)),Z(H,U,K)}r("hasMetadata",j);function T(H,U,K){if(!A(U))throw new TypeError;return q(K)||(K=Ne(K)),ae(H,U,K)}r("hasOwnMetadata",T);function L(H,U,K){if(!A(U))throw new TypeError;return q(K)||(K=Ne(K)),Y(H,U,K)}r("getMetadata",L);function B(H,U,K){if(!A(U))throw new TypeError;return q(K)||(K=Ne(K)),ie(H,U,K)}r("getOwnMetadata",B);function V(H,U){if(!A(H))throw new TypeError;return q(U)||(U=Ne(U)),we(H,U)}r("getMetadataKeys",V);function R(H,U){if(!A(H))throw new TypeError;return q(U)||(U=Ne(U)),ye(H,U)}r("getOwnMetadataKeys",R);function Q(H,U,K){if(!A(U))throw new TypeError;q(K)||(K=Ne(K));var re=G(U,K,!1);if(q(re)||!re.delete(H))return!1;if(re.size>0)return!0;var ce=S.get(U);return ce.delete(K),ce.size>0||S.delete(U),!0}r("deleteMetadata",Q);function D(H,U){for(var K=H.length-1;K>=0;--K){var re=H[K],ce=re(U);if(!q(ce)&&!X(ce)){if(!Ot(ce))throw new TypeError;U=ce}}return U}function $(H,U,K,re){for(var ce=H.length-1;ce>=0;--ce){var He=H[ce],de=He(U,K,re);if(!q(de)&&!X(de)){if(!A(de))throw new TypeError;re=de}}return re}function G(H,U,K){var re=S.get(H);if(q(re)){if(!K)return;re=new _,S.set(H,re)}var ce=re.get(U);if(q(ce)){if(!K)return;ce=new _,re.set(U,ce)}return ce}function Z(H,U,K){var re=ae(H,U,K);if(re)return!0;var ce=mt(U);return X(ce)?!1:Z(H,ce,K)}function ae(H,U,K){var re=G(U,K,!1);return q(re)?!1:Ve(re.has(H))}function Y(H,U,K){var re=ae(H,U,K);if(re)return ie(H,U,K);var ce=mt(U);if(!X(ce))return Y(H,ce,K)}function ie(H,U,K){var re=G(U,K,!1);if(!q(re))return re.get(H)}function Me(H,U,K,re){var ce=G(K,re,!0);ce.set(H,U)}function we(H,U){var K=ye(H,U),re=mt(H);if(re===null)return K;var ce=we(re,U);if(ce.length<=0)return K;if(K.length<=0)return ce;for(var He=new E,de=[],fe=0,se=K;fe<se.length;fe++){var xe=se[fe],ge=He.has(xe);ge||(He.add(xe),de.push(xe))}for(var dt=0,kt=ce;dt<kt.length;dt++){var xe=kt[dt],ge=He.has(xe);ge||(He.add(xe),de.push(xe))}return de}function ye(H,U){var K=[],re=G(H,U,!1);if(q(re))return K;for(var ce=re.keys(),He=Se(ce),de=0;;){var fe=Rt(He);if(!fe)return K.length=de,K;var se=Pt(fe);try{K[de]=se}catch(xe){try{Ke(He)}finally{throw xe}}de++}}function he(H){if(H===null)return 1;switch(typeof H){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return H===null?1:6;default:return 6}}function q(H){return H===void 0}function X(H){return H===null}function J(H){return typeof H=="symbol"}function A(H){return typeof H=="object"?H!==null:typeof H=="function"}function Ie(H,U){switch(he(H)){case 0:return H;case 1:return H;case 2:return H;case 3:return H;case 4:return H;case 5:return H}var K=U===3?"string":U===5?"number":"default",re=qe(H,l);if(re!==void 0){var ce=re.call(H,K);if(A(ce))throw new TypeError;return ce}return Pe(H,K==="default"?"number":K)}function Pe(H,U){if(U==="string"){var K=H.toString;if(Ze(K)){var re=K.call(H);if(!A(re))return re}var ce=H.valueOf;if(Ze(ce)){var re=ce.call(H);if(!A(re))return re}}else{var ce=H.valueOf;if(Ze(ce)){var re=ce.call(H);if(!A(re))return re}var He=H.toString;if(Ze(He)){var re=He.call(H);if(!A(re))return re}}throw new TypeError}function Ve(H){return!!H}function pe(H){return""+H}function Ne(H){var U=Ie(H,3);return J(U)?U:pe(U)}function gt(H){return Array.isArray?Array.isArray(H):H instanceof Object?H instanceof Array:Object.prototype.toString.call(H)==="[object Array]"}function Ze(H){return typeof H=="function"}function Ot(H){return typeof H=="function"}function nt(H){switch(he(H)){case 3:return!0;case 4:return!0;default:return!1}}function qe(H,U){var K=H[U];if(K!=null){if(!Ze(K))throw new TypeError;return K}}function Se(H){var U=qe(H,u);if(!Ze(U))throw new TypeError;var K=U.call(H);if(!A(K))throw new TypeError;return K}function Pt(H){return H.value}function Rt(H){var U=H.next();return U.done?!1:U}function Ke(H){var U=H.return;U&&U.call(H)}function mt(H){var U=Object.getPrototypeOf(H);if(typeof H!="function"||H===x||U!==x)return U;var K=H.prototype,re=K&&Object.getPrototypeOf(K);if(re==null||re===Object.prototype)return U;var ce=re.constructor;return typeof ce!="function"||ce===H?U:ce}function Dt(){var H={},U=[],K=function(){function de(fe,se,xe){this._index=0,this._keys=fe,this._values=se,this._selector=xe}return de.prototype["@@iterator"]=function(){return this},de.prototype[u]=function(){return this},de.prototype.next=function(){var fe=this._index;if(fe>=0&&fe<this._keys.length){var se=this._selector(this._keys[fe],this._values[fe]);return fe+1>=this._keys.length?(this._index=-1,this._keys=U,this._values=U):this._index++,{value:se,done:!1}}return{value:void 0,done:!0}},de.prototype.throw=function(fe){throw this._index>=0&&(this._index=-1,this._keys=U,this._values=U),fe},de.prototype.return=function(fe){return this._index>=0&&(this._index=-1,this._keys=U,this._values=U),{value:fe,done:!0}},de}();return function(){function de(){this._keys=[],this._values=[],this._cacheKey=H,this._cacheIndex=-2}return Object.defineProperty(de.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),de.prototype.has=function(fe){return this._find(fe,!1)>=0},de.prototype.get=function(fe){var se=this._find(fe,!1);return se>=0?this._values[se]:void 0},de.prototype.set=function(fe,se){var xe=this._find(fe,!0);return this._values[xe]=se,this},de.prototype.delete=function(fe){var se=this._find(fe,!1);if(se>=0){for(var xe=this._keys.length,ge=se+1;ge<xe;ge++)this._keys[ge-1]=this._keys[ge],this._values[ge-1]=this._values[ge];return this._keys.length--,this._values.length--,fe===this._cacheKey&&(this._cacheKey=H,this._cacheIndex=-2),!0}return!1},de.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=H,this._cacheIndex=-2},de.prototype.keys=function(){return new K(this._keys,this._values,re)},de.prototype.values=function(){return new K(this._keys,this._values,ce)},de.prototype.entries=function(){return new K(this._keys,this._values,He)},de.prototype["@@iterator"]=function(){return this.entries()},de.prototype[u]=function(){return this.entries()},de.prototype._find=function(fe,se){return this._cacheKey!==fe&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=fe)),this._cacheIndex<0&&se&&(this._cacheIndex=this._keys.length,this._keys.push(fe),this._values.push(void 0)),this._cacheIndex},de}();function re(de,fe){return de}function ce(de,fe){return fe}function He(de,fe){return[de,fe]}}function Qe(){return function(){function H(){this._map=new _}return Object.defineProperty(H.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),H.prototype.has=function(U){return this._map.has(U)},H.prototype.add=function(U){return this._map.set(U,U),this},H.prototype.delete=function(U){return this._map.delete(U)},H.prototype.clear=function(){this._map.clear()},H.prototype.keys=function(){return this._map.keys()},H.prototype.values=function(){return this._map.values()},H.prototype.entries=function(){return this._map.entries()},H.prototype["@@iterator"]=function(){return this.keys()},H.prototype[u]=function(){return this.keys()},H}()}function it(){var H=16,U=y.create(),K=re();return function(){function se(){this._key=re()}return se.prototype.has=function(xe){var ge=ce(xe,!1);return ge!==void 0?y.has(ge,this._key):!1},se.prototype.get=function(xe){var ge=ce(xe,!1);return ge!==void 0?y.get(ge,this._key):void 0},se.prototype.set=function(xe,ge){var dt=ce(xe,!0);return dt[this._key]=ge,this},se.prototype.delete=function(xe){var ge=ce(xe,!1);return ge!==void 0?delete ge[this._key]:!1},se.prototype.clear=function(){this._key=re()},se}();function re(){var se;do se="@@WeakMap@@"+fe();while(y.has(U,se));return U[se]=!0,se}function ce(se,xe){if(!o.call(se,K)){if(!xe)return;Object.defineProperty(se,K,{value:y.create()})}return se[K]}function He(se,xe){for(var ge=0;ge<xe;++ge)se[ge]=Math.random()*255|0;return se}function de(se){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array(se)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array(se)):He(new Uint8Array(se),se):He(new Array(se),se)}function fe(){var se=de(H);se[6]=se[6]&79|64,se[8]=se[8]&191|128;for(var xe="",ge=0;ge<H;++ge){var dt=se[ge];(ge===4||ge===6||ge===8)&&(xe+="-"),dt<16&&(xe+="0"),xe+=dt.toString(16).toLowerCase()}return xe}}function $e(H){return H.__=void 0,delete H.__,H}})})(Wa||(Wa={}));var Ci;(function(a){a[a.Transient=0]="Transient",a[a.Singleton=1]="Singleton",a[a.ResolutionScoped=2]="ResolutionScoped",a[a.ContainerScoped=3]="ContainerScoped"})(Ci||(Ci={}));const at=Ci;/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */var Ti=function(a,r){return Ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var l in s)s.hasOwnProperty(l)&&(o[l]=s[l])},Ti(a,r)};function fn(a,r){Ti(a,r);function o(){this.constructor=a}a.prototype=r===null?Object.create(r):(o.prototype=r.prototype,new o)}function qc(a,r){var o={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&r.indexOf(s)<0&&(o[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)r.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(o[s[l]]=a[s[l]]);return o}function Wc(a,r,o,s){function l(u){return u instanceof o?u:new o(function(v){v(u)})}return new(o||(o=Promise))(function(u,v){function f(x){try{y(s.next(x))}catch(I){v(I)}}function b(x){try{y(s.throw(x))}catch(I){v(I)}}function y(x){x.done?u(x.value):l(x.value).then(f,b)}y((s=s.apply(a,r||[])).next())})}function Uc(a,r){var o={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},s,l,u,v;return v={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(v[Symbol.iterator]=function(){return this}),v;function f(y){return function(x){return b([y,x])}}function b(y){if(s)throw new TypeError("Generator is already executing.");for(;o;)try{if(s=1,l&&(u=y[0]&2?l.return:y[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,y[1])).done)return u;switch(l=0,u&&(y=[y[0]&2,u.value]),y[0]){case 0:case 1:u=y;break;case 4:return o.label++,{value:y[1],done:!1};case 5:o.label++,l=y[1],y=[0];continue;case 7:y=o.ops.pop(),o.trys.pop();continue;default:if(u=o.trys,!(u=u.length>0&&u[u.length-1])&&(y[0]===6||y[0]===2)){o=0;continue}if(y[0]===3&&(!u||y[1]>u[0]&&y[1]<u[3])){o.label=y[1];break}if(y[0]===6&&o.label<u[1]){o.label=u[1],u=y;break}if(u&&o.label<u[2]){o.label=u[2],o.ops.push(y);break}u[2]&&o.ops.pop(),o.trys.pop();continue}y=r.call(a,o)}catch(x){y=[6,x],l=0}finally{s=u=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function dn(a){var r=typeof Symbol=="function"&&Symbol.iterator,o=r&&a[r],s=0;if(o)return o.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&s>=a.length&&(a=void 0),{value:a&&a[s++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function pn(a,r){var o=typeof Symbol=="function"&&a[Symbol.iterator];if(!o)return a;var s=o.call(a),l,u=[],v;try{for(;(r===void 0||r-- >0)&&!(l=s.next()).done;)u.push(l.value)}catch(f){v={error:f}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(v)throw v.error}}return u}function xt(){for(var a=[],r=0;r<arguments.length;r++)a=a.concat(pn(arguments[r]));return a}var Ii="injectionTokens";function Ua(a){var r=Reflect.getMetadata("design:paramtypes",a)||[],o=Reflect.getOwnMetadata(Ii,a)||{};return Object.keys(o).forEach(function(s){r[+s]=o[s]}),r}function vn(a,r){return function(o,s,l){var u=Reflect.getOwnMetadata(Ii,o)||{};u[l]=r?{token:a,transform:r.transformToken,transformArgs:r.args||[]}:a,Reflect.defineMetadata(Ii,u,o)}}function Ai(a){return!!a.useClass}function hn(a){return!!a.useFactory}var Ri=function(){function a(r){this.wrap=r,this.reflectMethods=["get","getPrototypeOf","setPrototypeOf","getOwnPropertyDescriptor","defineProperty","has","set","deleteProperty","apply","construct","ownKeys"]}return a.prototype.createProxy=function(r){var o=this,s={},l=!1,u,v=function(){return l||(u=r(o.wrap()),l=!0),u};return new Proxy(s,this.createHandler(v))},a.prototype.createHandler=function(r){var o={},s=function(l){o[l]=function(){for(var u=[],v=0;v<arguments.length;v++)u[v]=arguments[v];u[0]=r();var f=Reflect[l];return f.apply(void 0,xt(u))}};return this.reflectMethods.forEach(s),o},a}();function Xc(a){if(typeof a>"u")throw new Error("Attempt to `delay` undefined. Constructor must be wrapped in a callback");return new Ri(a)}function qt(a){return typeof a=="string"||typeof a=="symbol"}function Xa(a){return typeof a=="object"&&"token"in a&&"multiple"in a}function gn(a){return typeof a=="object"&&"token"in a&&"transform"in a}function Gc(a){return typeof a=="function"||a instanceof Ri}function Or(a){return!!a.useToken}function Pr(a){return a.useValue!=null}function Yc(a){return Ai(a)||Pr(a)||Or(a)||hn(a)}var Di=function(){function a(){this._registryMap=new Map}return a.prototype.entries=function(){return this._registryMap.entries()},a.prototype.getAll=function(r){return this.ensure(r),this._registryMap.get(r)},a.prototype.get=function(r){this.ensure(r);var o=this._registryMap.get(r);return o[o.length-1]||null},a.prototype.set=function(r,o){this.ensure(r),this._registryMap.get(r).push(o)},a.prototype.setAll=function(r,o){this._registryMap.set(r,o)},a.prototype.has=function(r){return this.ensure(r),this._registryMap.get(r).length>0},a.prototype.clear=function(){this._registryMap.clear()},a.prototype.ensure=function(r){this._registryMap.has(r)||this._registryMap.set(r,[])},a}(),Zc=function(a){fn(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(Di),Ga=function(){function a(){this.scopedResolutions=new Map}return a}();function Kc(a,r){if(a===null)return"at position #"+r;var o=a.split(",")[r].trim();return'"'+o+'" at position #'+r}function Qc(a,r,o){return o===void 0&&(o="    "),xt([a],r.message.split(`
`).map(function(s){return o+s})).join(`
`)}function Ya(a,r,o){var s=pn(a.toString().match(/constructor\(([\w, ]+)\)/)||[],2),l=s[1],u=l===void 0?null:l,v=Kc(u,r);return Qc("Cannot inject the dependency "+v+' of "'+a.name+'" constructor. Reason:',o)}function Jc(a){if(typeof a.dispose!="function")return!1;var r=a.dispose;return!(r.length>0)}var el=function(a){fn(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(Di),tl=function(a){fn(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(Di),rl=function(){function a(){this.preResolution=new el,this.postResolution=new tl}return a}(),Za=new Map,nl=function(){function a(r){this.parent=r,this._registry=new Zc,this.interceptors=new rl,this.disposed=!1,this.disposables=new Set}return a.prototype.register=function(r,o,s){s===void 0&&(s={lifecycle:at.Transient}),this.ensureNotDisposed();var l;if(Yc(o)?l=o:l={useClass:o},Or(l))for(var u=[r],v=l;v!=null;){var f=v.useToken;if(u.includes(f))throw new Error("Token registration cycle detected! "+xt(u,[f]).join(" -> "));u.push(f);var b=this._registry.get(f);b&&Or(b.provider)?v=b.provider:v=null}if((s.lifecycle===at.Singleton||s.lifecycle==at.ContainerScoped||s.lifecycle==at.ResolutionScoped)&&(Pr(l)||hn(l)))throw new Error('Cannot use lifecycle "'+at[s.lifecycle]+'" with ValueProviders or FactoryProviders');return this._registry.set(r,{provider:l,options:s}),this},a.prototype.registerType=function(r,o){return this.ensureNotDisposed(),qt(o)?this.register(r,{useToken:o}):this.register(r,{useClass:o})},a.prototype.registerInstance=function(r,o){return this.ensureNotDisposed(),this.register(r,{useValue:o})},a.prototype.registerSingleton=function(r,o){if(this.ensureNotDisposed(),qt(r)){if(qt(o))return this.register(r,{useToken:o},{lifecycle:at.Singleton});if(o)return this.register(r,{useClass:o},{lifecycle:at.Singleton});throw new Error('Cannot register a type name as a singleton without a "to" token')}var s=r;return o&&!qt(o)&&(s=o),this.register(r,{useClass:s},{lifecycle:at.Singleton})},a.prototype.resolve=function(r,o){o===void 0&&(o=new Ga),this.ensureNotDisposed();var s=this.getRegistration(r);if(!s&&qt(r))throw new Error('Attempted to resolve unregistered dependency token: "'+r.toString()+'"');if(this.executePreResolutionInterceptor(r,"Single"),s){var l=this.resolveRegistration(s,o);return this.executePostResolutionInterceptor(r,l,"Single"),l}if(Gc(r)){var l=this.construct(r,o);return this.executePostResolutionInterceptor(r,l,"Single"),l}throw new Error("Attempted to construct an undefined constructor. Could mean a circular dependency problem. Try using `delay` function.")},a.prototype.executePreResolutionInterceptor=function(r,o){var s,l;if(this.interceptors.preResolution.has(r)){var u=[];try{for(var v=dn(this.interceptors.preResolution.getAll(r)),f=v.next();!f.done;f=v.next()){var b=f.value;b.options.frequency!="Once"&&u.push(b),b.callback(r,o)}}catch(y){s={error:y}}finally{try{f&&!f.done&&(l=v.return)&&l.call(v)}finally{if(s)throw s.error}}this.interceptors.preResolution.setAll(r,u)}},a.prototype.executePostResolutionInterceptor=function(r,o,s){var l,u;if(this.interceptors.postResolution.has(r)){var v=[];try{for(var f=dn(this.interceptors.postResolution.getAll(r)),b=f.next();!b.done;b=f.next()){var y=b.value;y.options.frequency!="Once"&&v.push(y),y.callback(r,o,s)}}catch(x){l={error:x}}finally{try{b&&!b.done&&(u=f.return)&&u.call(f)}finally{if(l)throw l.error}}this.interceptors.postResolution.setAll(r,v)}},a.prototype.resolveRegistration=function(r,o){if(this.ensureNotDisposed(),r.options.lifecycle===at.ResolutionScoped&&o.scopedResolutions.has(r))return o.scopedResolutions.get(r);var s=r.options.lifecycle===at.Singleton,l=r.options.lifecycle===at.ContainerScoped,u=s||l,v;return Pr(r.provider)?v=r.provider.useValue:Or(r.provider)?v=u?r.instance||(r.instance=this.resolve(r.provider.useToken,o)):this.resolve(r.provider.useToken,o):Ai(r.provider)?v=u?r.instance||(r.instance=this.construct(r.provider.useClass,o)):this.construct(r.provider.useClass,o):hn(r.provider)?v=r.provider.useFactory(this):v=this.construct(r.provider,o),r.options.lifecycle===at.ResolutionScoped&&o.scopedResolutions.set(r,v),v},a.prototype.resolveAll=function(r,o){var s=this;o===void 0&&(o=new Ga),this.ensureNotDisposed();var l=this.getAllRegistrations(r);if(!l&&qt(r))throw new Error('Attempted to resolve unregistered dependency token: "'+r.toString()+'"');if(this.executePreResolutionInterceptor(r,"All"),l){var u=l.map(function(f){return s.resolveRegistration(f,o)});return this.executePostResolutionInterceptor(r,u,"All"),u}var v=[this.construct(r,o)];return this.executePostResolutionInterceptor(r,v,"All"),v},a.prototype.isRegistered=function(r,o){return o===void 0&&(o=!1),this.ensureNotDisposed(),this._registry.has(r)||o&&(this.parent||!1)&&this.parent.isRegistered(r,!0)},a.prototype.reset=function(){this.ensureNotDisposed(),this._registry.clear(),this.interceptors.preResolution.clear(),this.interceptors.postResolution.clear()},a.prototype.clearInstances=function(){var r,o;this.ensureNotDisposed();try{for(var s=dn(this._registry.entries()),l=s.next();!l.done;l=s.next()){var u=pn(l.value,2),v=u[0],f=u[1];this._registry.setAll(v,f.filter(function(b){return!Pr(b.provider)}).map(function(b){return b.instance=void 0,b}))}}catch(b){r={error:b}}finally{try{l&&!l.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}},a.prototype.createChildContainer=function(){var r,o;this.ensureNotDisposed();var s=new a(this);try{for(var l=dn(this._registry.entries()),u=l.next();!u.done;u=l.next()){var v=pn(u.value,2),f=v[0],b=v[1];b.some(function(y){var x=y.options;return x.lifecycle===at.ContainerScoped})&&s._registry.setAll(f,b.map(function(y){return y.options.lifecycle===at.ContainerScoped?{provider:y.provider,options:y.options}:y}))}}catch(y){r={error:y}}finally{try{u&&!u.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}return s},a.prototype.beforeResolution=function(r,o,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.preResolution.set(r,{callback:o,options:s})},a.prototype.afterResolution=function(r,o,s){s===void 0&&(s={frequency:"Always"}),this.interceptors.postResolution.set(r,{callback:o,options:s})},a.prototype.dispose=function(){return Wc(this,void 0,void 0,function(){var r;return Uc(this,function(o){switch(o.label){case 0:return this.disposed=!0,r=[],this.disposables.forEach(function(s){var l=s.dispose();l&&r.push(l)}),[4,Promise.all(r)];case 1:return o.sent(),[2]}})})},a.prototype.getRegistration=function(r){return this.isRegistered(r)?this._registry.get(r):this.parent?this.parent.getRegistration(r):null},a.prototype.getAllRegistrations=function(r){return this.isRegistered(r)?this._registry.getAll(r):this.parent?this.parent.getAllRegistrations(r):null},a.prototype.construct=function(r,o){var s=this;if(r instanceof Ri)return r.createProxy(function(u){return s.resolve(u,o)});var l=function(){var u=Za.get(r);if(!u||u.length===0){if(r.length===0)return new r;throw new Error('TypeInfo not known for "'+r.name+'"')}var v=u.map(s.resolveParams(o,r));return new(r.bind.apply(r,xt([void 0],v)))}();return Jc(l)&&this.disposables.add(l),l},a.prototype.resolveParams=function(r,o){var s=this;return function(l,u){var v,f,b;try{return Xa(l)?gn(l)?l.multiple?(v=s.resolve(l.transform)).transform.apply(v,xt([s.resolveAll(l.token)],l.transformArgs)):(f=s.resolve(l.transform)).transform.apply(f,xt([s.resolve(l.token,r)],l.transformArgs)):l.multiple?s.resolveAll(l.token):s.resolve(l.token,r):gn(l)?(b=s.resolve(l.transform,r)).transform.apply(b,xt([s.resolve(l.token,r)],l.transformArgs)):s.resolve(l,r)}catch(y){throw new Error(Ya(o,u,y))}}},a.prototype.ensureNotDisposed=function(){if(this.disposed)throw new Error("This container has been disposed, you cannot interact with a disposed container")},a}(),Fe=new nl;function il(){return function(a){var r=Ua(a);return function(o){fn(s,o);function s(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];return o.apply(this,xt(l.concat(r.slice(l.length).map(function(v,f){var b,y,x;try{return Xa(v)?gn(v)?v.multiple?(b=Fe.resolve(v.transform)).transform.apply(b,xt([Fe.resolveAll(v.token)],v.transformArgs)):(y=Fe.resolve(v.transform)).transform.apply(y,xt([Fe.resolve(v.token)],v.transformArgs)):v.multiple?Fe.resolveAll(v.token):Fe.resolve(v.token):gn(v)?(x=Fe.resolve(v.transform)).transform.apply(x,xt([Fe.resolve(v.token)],v.transformArgs)):Fe.resolve(v)}catch(_){var I=f+l.length;throw new Error(Ya(a,I,_))}}))))||this}return s}(a)}}function Sr(a){return vn(a)}function jr(){return function(a){Za.set(a,Ua(a))}}function ol(a){return a===void 0&&(a=[]),function(r){return a.forEach(function(o){var s=o.token,l=o.options,u=qc(o,["token","options"]);return Fe.register(s,u,l)}),r}}function al(){return function(a){jr()(a),Fe.registerSingleton(a)}}function sl(a){var r={token:a,multiple:!0};return vn(r)}function cl(a,r){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var l={token:a,multiple:!0,transform:r,transformArgs:o};return vn(l)}function ll(a,r){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];return vn(a,{transformToken:r,args:o})}function ul(a,r){return function(o){jr()(o),Fe.register(r||o,o,{lifecycle:a})}}function fl(a){var r;return function(o){return r==null&&(r=a(o)),r}}function dl(a){var r=new WeakMap;return function(o){var s=r.get(o);return s==null&&(s=a(o),r.set(o,s)),s}}function pl(a,r,o,s){s===void 0&&(s=!0);var l,u;return function(v){var f=a(v);return(!s||u!==f)&&((u=f)?l=v.resolve(r):l=v.resolve(o)),l}}if(typeof Reflect>"u"||!Reflect.getMetadata)throw new Error(`tsyringe requires a reflect polyfill. Please add 'import "reflect-metadata"' to the top of your entry point.`);const lt=qa(Object.freeze(Object.defineProperty({__proto__:null,Lifecycle:at,autoInjectable:il,container:Fe,delay:Xc,inject:Sr,injectAll:sl,injectAllWithTransform:cl,injectWithTransform:ll,injectable:jr,instanceCachingFactory:fl,instancePerContainerCachingFactory:dl,isClassProvider:Ai,isFactoryProvider:hn,isNormalToken:qt,isTokenProvider:Or,isValueProvider:Pr,predicateAwareClassFactory:pl,registry:ol,scoped:ul,singleton:al},Symbol.toStringTag,{value:"Module"})));var vl=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},hl=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},gl=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Er,"__esModule",{value:!0}),Er.ChanneListenerMapImpl=void 0;const Ka=lt;let ki=class{constructor(r){this.logger=r,this.listeners=new Map}channel(r){for(const o in r){this.listeners.has(o)||this.listeners.set(o,[]);const s=r[o],l=this.listeners.get(o);s&&l&&l.push(s)}}remove(r,o){const s=this.listeners.get(r);if(!s)return;const l=s.findIndex(u=>u===o);l>-1&&s.splice(l,1)}removeForChannel(r){this.listeners.set(r,[])}clearListeners(){this.listeners.clear()}getListeners(){return this.listeners}};ki=vl([(0,Ka.injectable)(),gl(0,(0,Ka.inject)("Logger")),hl("design:paramtypes",[Object])],ki),Er.ChanneListenerMapImpl=ki;var Mr={},ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.injectOptional=void 0;const Qa=lt;class yl{getOptionalValue(r){try{return Qa.container.resolve(r)}catch{return}}}class xl{transform(r,o){return r.getOptionalValue(o)}}function ml(a){return(0,Qa.injectWithTransform)(yl,xl,a)}ur.injectOptional=ml;var bl=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},_l=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},Bi=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.CrossDispatcherImpl=void 0;const Hi=lt,wl=ur;let zi=class{constructor(r,o,s){this.channelListenerMap=r,this.logger=o,this.config=s,this.dispatchingChannel=new Set}channel(r){this.channelListenerMap.channel(r)}async dispatch(r,o){const s=this.channelListenerMap.getListeners().get(r);if(!s)return this.handleError(`No listeners registered for channel: ${r.toString()}`),[];const l=[];if(this.dispatchingChannel.has(r))return this.handleError(`recursively called. Stop to prevent stack overflow. for channel: ${r.toString()}`),[];this.dispatchingChannel.add(r);for(const u of s)try{const v=u(o);if(v instanceof Promise){const f=await v;l.push(f)}else l.push(v)}catch(v){this.handleError(`Error handling channel: ${r.toString()}: ${v}`)}return this.dispatchingChannel.delete(r),l}remove(r,o){this.channelListenerMap.remove(r,o)}removeForChannel(r){this.channelListenerMap.removeForChannel(r)}clearListeners(){this.channelListenerMap.clearListeners()}getListeners(){return this.channelListenerMap.getListeners()}handleError(r){var o;if(this.logger.error(r),((o=this.config)==null?void 0:o.strictMode)!==!1)throw new Error(r)}};zi=bl([(0,Hi.injectable)(),Bi(0,(0,Hi.inject)("ChannelListenerMap")),Bi(1,(0,Hi.inject)("Logger")),Bi(2,(0,wl.injectOptional)("CrossDispatcherConfig")),_l("design:paramtypes",[Object,Object,Object])],zi),Mr.CrossDispatcherImpl=zi;var Cr={},Ja={exports:{}};function El(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Li={exports:{}};const Ol=qa(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));var es;function Oe(){return es||(es=1,function(a,r){(function(o,s){a.exports=s()})(F,function(){var o=o||function(s,l){var u;if(typeof window<"u"&&window.crypto&&(u=window.crypto),typeof self<"u"&&self.crypto&&(u=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(u=globalThis.crypto),!u&&typeof window<"u"&&window.msCrypto&&(u=window.msCrypto),!u&&typeof F<"u"&&F.crypto&&(u=F.crypto),!u&&typeof El=="function")try{u=Ol}catch{}var v=function(){if(u){if(typeof u.getRandomValues=="function")try{return u.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof u.randomBytes=="function")try{return u.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},f=Object.create||function(){function P(){}return function(j){var T;return P.prototype=j,T=new P,P.prototype=null,T}}(),b={},y=b.lib={},x=y.Base=function(){return{extend:function(P){var j=f(this);return P&&j.mixIn(P),(!j.hasOwnProperty("init")||this.init===j.init)&&(j.init=function(){j.$super.init.apply(this,arguments)}),j.init.prototype=j,j.$super=this,j},create:function(){var P=this.extend();return P.init.apply(P,arguments),P},init:function(){},mixIn:function(P){for(var j in P)P.hasOwnProperty(j)&&(this[j]=P[j]);P.hasOwnProperty("toString")&&(this.toString=P.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),I=y.WordArray=x.extend({init:function(P,j){P=this.words=P||[],j!=l?this.sigBytes=j:this.sigBytes=P.length*4},toString:function(P){return(P||E).stringify(this)},concat:function(P){var j=this.words,T=P.words,L=this.sigBytes,B=P.sigBytes;if(this.clamp(),L%4)for(var V=0;V<B;V++){var R=T[V>>>2]>>>24-V%4*8&255;j[L+V>>>2]|=R<<24-(L+V)%4*8}else for(var Q=0;Q<B;Q+=4)j[L+Q>>>2]=T[Q>>>2];return this.sigBytes+=B,this},clamp:function(){var P=this.words,j=this.sigBytes;P[j>>>2]&=4294967295<<32-j%4*8,P.length=s.ceil(j/4)},clone:function(){var P=x.clone.call(this);return P.words=this.words.slice(0),P},random:function(P){for(var j=[],T=0;T<P;T+=4)j.push(v());return new I.init(j,P)}}),_=b.enc={},E=_.Hex={stringify:function(P){for(var j=P.words,T=P.sigBytes,L=[],B=0;B<T;B++){var V=j[B>>>2]>>>24-B%4*8&255;L.push((V>>>4).toString(16)),L.push((V&15).toString(16))}return L.join("")},parse:function(P){for(var j=P.length,T=[],L=0;L<j;L+=2)T[L>>>3]|=parseInt(P.substr(L,2),16)<<24-L%8*4;return new I.init(T,j/2)}},O=_.Latin1={stringify:function(P){for(var j=P.words,T=P.sigBytes,L=[],B=0;B<T;B++){var V=j[B>>>2]>>>24-B%4*8&255;L.push(String.fromCharCode(V))}return L.join("")},parse:function(P){for(var j=P.length,T=[],L=0;L<j;L++)T[L>>>2]|=(P.charCodeAt(L)&255)<<24-L%4*8;return new I.init(T,j)}},S=_.Utf8={stringify:function(P){try{return decodeURIComponent(escape(O.stringify(P)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(P){return O.parse(unescape(encodeURIComponent(P)))}},C=y.BufferedBlockAlgorithm=x.extend({reset:function(){this._data=new I.init,this._nDataBytes=0},_append:function(P){typeof P=="string"&&(P=S.parse(P)),this._data.concat(P),this._nDataBytes+=P.sigBytes},_process:function(P){var j,T=this._data,L=T.words,B=T.sigBytes,V=this.blockSize,R=V*4,Q=B/R;P?Q=s.ceil(Q):Q=s.max((Q|0)-this._minBufferSize,0);var D=Q*V,$=s.min(D*4,B);if(D){for(var G=0;G<D;G+=V)this._doProcessBlock(L,G);j=L.splice(0,D),T.sigBytes-=$}return new I.init(j,$)},clone:function(){var P=x.clone.call(this);return P._data=this._data.clone(),P},_minBufferSize:0});y.Hasher=C.extend({cfg:x.extend(),init:function(P){this.cfg=this.cfg.extend(P),this.reset()},reset:function(){C.reset.call(this),this._doReset()},update:function(P){return this._append(P),this._process(),this},finalize:function(P){P&&this._append(P);var j=this._doFinalize();return j},blockSize:16,_createHelper:function(P){return function(j,T){return new P.init(T).finalize(j)}},_createHmacHelper:function(P){return function(j,T){return new k.HMAC.init(P,T).finalize(j)}}});var k=b.algo={};return b}(Math);return o})}(Li)),Li.exports}var Ni={exports:{}},ts;function yn(){return ts||(ts=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(s){var l=o,u=l.lib,v=u.Base,f=u.WordArray,b=l.x64={};b.Word=v.extend({init:function(y,x){this.high=y,this.low=x}}),b.WordArray=v.extend({init:function(y,x){y=this.words=y||[],x!=s?this.sigBytes=x:this.sigBytes=y.length*8},toX32:function(){for(var y=this.words,x=y.length,I=[],_=0;_<x;_++){var E=y[_];I.push(E.high),I.push(E.low)}return f.create(I,this.sigBytes)},clone:function(){for(var y=v.clone.call(this),x=y.words=this.words.slice(0),I=x.length,_=0;_<I;_++)x[_]=x[_].clone();return y}})}(),o})}(Ni)),Ni.exports}var $i={exports:{}},rs;function Pl(){return rs||(rs=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(){if(typeof ArrayBuffer=="function"){var s=o,l=s.lib,u=l.WordArray,v=u.init,f=u.init=function(b){if(b instanceof ArrayBuffer&&(b=new Uint8Array(b)),(b instanceof Int8Array||typeof Uint8ClampedArray<"u"&&b instanceof Uint8ClampedArray||b instanceof Int16Array||b instanceof Uint16Array||b instanceof Int32Array||b instanceof Uint32Array||b instanceof Float32Array||b instanceof Float64Array)&&(b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength)),b instanceof Uint8Array){for(var y=b.byteLength,x=[],I=0;I<y;I++)x[I>>>2]|=b[I]<<24-I%4*8;v.call(this,x,y)}else v.apply(this,arguments)};f.prototype=u}}(),o.lib.WordArray})}($i)),$i.exports}var Fi={exports:{}},ns;function Sl(){return ns||(ns=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(){var s=o,l=s.lib,u=l.WordArray,v=s.enc;v.Utf16=v.Utf16BE={stringify:function(b){for(var y=b.words,x=b.sigBytes,I=[],_=0;_<x;_+=2){var E=y[_>>>2]>>>16-_%4*8&65535;I.push(String.fromCharCode(E))}return I.join("")},parse:function(b){for(var y=b.length,x=[],I=0;I<y;I++)x[I>>>1]|=b.charCodeAt(I)<<16-I%2*16;return u.create(x,y*2)}},v.Utf16LE={stringify:function(b){for(var y=b.words,x=b.sigBytes,I=[],_=0;_<x;_+=2){var E=f(y[_>>>2]>>>16-_%4*8&65535);I.push(String.fromCharCode(E))}return I.join("")},parse:function(b){for(var y=b.length,x=[],I=0;I<y;I++)x[I>>>1]|=f(b.charCodeAt(I)<<16-I%2*16);return u.create(x,y*2)}};function f(b){return b<<8&4278255360|b>>>8&16711935}}(),o.enc.Utf16})}(Fi)),Fi.exports}var Vi={exports:{}},is;function fr(){return is||(is=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(){var s=o,l=s.lib,u=l.WordArray,v=s.enc;v.Base64={stringify:function(b){var y=b.words,x=b.sigBytes,I=this._map;b.clamp();for(var _=[],E=0;E<x;E+=3)for(var O=y[E>>>2]>>>24-E%4*8&255,S=y[E+1>>>2]>>>24-(E+1)%4*8&255,C=y[E+2>>>2]>>>24-(E+2)%4*8&255,k=O<<16|S<<8|C,P=0;P<4&&E+P*.75<x;P++)_.push(I.charAt(k>>>6*(3-P)&63));var j=I.charAt(64);if(j)for(;_.length%4;)_.push(j);return _.join("")},parse:function(b){var y=b.length,x=this._map,I=this._reverseMap;if(!I){I=this._reverseMap=[];for(var _=0;_<x.length;_++)I[x.charCodeAt(_)]=_}var E=x.charAt(64);if(E){var O=b.indexOf(E);O!==-1&&(y=O)}return f(b,y,I)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function f(b,y,x){for(var I=[],_=0,E=0;E<y;E++)if(E%4){var O=x[b.charCodeAt(E-1)]<<E%4*2,S=x[b.charCodeAt(E)]>>>6-E%4*2,C=O|S;I[_>>>2]|=C<<24-_%4*8,_++}return u.create(I,_)}}(),o.enc.Base64})}(Vi)),Vi.exports}var qi={exports:{}},os;function jl(){return os||(os=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(){var s=o,l=s.lib,u=l.WordArray,v=s.enc;v.Base64url={stringify:function(b,y=!0){var x=b.words,I=b.sigBytes,_=y?this._safe_map:this._map;b.clamp();for(var E=[],O=0;O<I;O+=3)for(var S=x[O>>>2]>>>24-O%4*8&255,C=x[O+1>>>2]>>>24-(O+1)%4*8&255,k=x[O+2>>>2]>>>24-(O+2)%4*8&255,P=S<<16|C<<8|k,j=0;j<4&&O+j*.75<I;j++)E.push(_.charAt(P>>>6*(3-j)&63));var T=_.charAt(64);if(T)for(;E.length%4;)E.push(T);return E.join("")},parse:function(b,y=!0){var x=b.length,I=y?this._safe_map:this._map,_=this._reverseMap;if(!_){_=this._reverseMap=[];for(var E=0;E<I.length;E++)_[I.charCodeAt(E)]=E}var O=I.charAt(64);if(O){var S=b.indexOf(O);S!==-1&&(x=S)}return f(b,x,_)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function f(b,y,x){for(var I=[],_=0,E=0;E<y;E++)if(E%4){var O=x[b.charCodeAt(E-1)]<<E%4*2,S=x[b.charCodeAt(E)]>>>6-E%4*2,C=O|S;I[_>>>2]|=C<<24-_%4*8,_++}return u.create(I,_)}}(),o.enc.Base64url})}(qi)),qi.exports}var Wi={exports:{}},as;function dr(){return as||(as=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(s){var l=o,u=l.lib,v=u.WordArray,f=u.Hasher,b=l.algo,y=[];(function(){for(var S=0;S<64;S++)y[S]=s.abs(s.sin(S+1))*4294967296|0})();var x=b.MD5=f.extend({_doReset:function(){this._hash=new v.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(S,C){for(var k=0;k<16;k++){var P=C+k,j=S[P];S[P]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var T=this._hash.words,L=S[C+0],B=S[C+1],V=S[C+2],R=S[C+3],Q=S[C+4],D=S[C+5],$=S[C+6],G=S[C+7],Z=S[C+8],ae=S[C+9],Y=S[C+10],ie=S[C+11],Me=S[C+12],we=S[C+13],ye=S[C+14],he=S[C+15],q=T[0],X=T[1],J=T[2],A=T[3];q=I(q,X,J,A,L,7,y[0]),A=I(A,q,X,J,B,12,y[1]),J=I(J,A,q,X,V,17,y[2]),X=I(X,J,A,q,R,22,y[3]),q=I(q,X,J,A,Q,7,y[4]),A=I(A,q,X,J,D,12,y[5]),J=I(J,A,q,X,$,17,y[6]),X=I(X,J,A,q,G,22,y[7]),q=I(q,X,J,A,Z,7,y[8]),A=I(A,q,X,J,ae,12,y[9]),J=I(J,A,q,X,Y,17,y[10]),X=I(X,J,A,q,ie,22,y[11]),q=I(q,X,J,A,Me,7,y[12]),A=I(A,q,X,J,we,12,y[13]),J=I(J,A,q,X,ye,17,y[14]),X=I(X,J,A,q,he,22,y[15]),q=_(q,X,J,A,B,5,y[16]),A=_(A,q,X,J,$,9,y[17]),J=_(J,A,q,X,ie,14,y[18]),X=_(X,J,A,q,L,20,y[19]),q=_(q,X,J,A,D,5,y[20]),A=_(A,q,X,J,Y,9,y[21]),J=_(J,A,q,X,he,14,y[22]),X=_(X,J,A,q,Q,20,y[23]),q=_(q,X,J,A,ae,5,y[24]),A=_(A,q,X,J,ye,9,y[25]),J=_(J,A,q,X,R,14,y[26]),X=_(X,J,A,q,Z,20,y[27]),q=_(q,X,J,A,we,5,y[28]),A=_(A,q,X,J,V,9,y[29]),J=_(J,A,q,X,G,14,y[30]),X=_(X,J,A,q,Me,20,y[31]),q=E(q,X,J,A,D,4,y[32]),A=E(A,q,X,J,Z,11,y[33]),J=E(J,A,q,X,ie,16,y[34]),X=E(X,J,A,q,ye,23,y[35]),q=E(q,X,J,A,B,4,y[36]),A=E(A,q,X,J,Q,11,y[37]),J=E(J,A,q,X,G,16,y[38]),X=E(X,J,A,q,Y,23,y[39]),q=E(q,X,J,A,we,4,y[40]),A=E(A,q,X,J,L,11,y[41]),J=E(J,A,q,X,R,16,y[42]),X=E(X,J,A,q,$,23,y[43]),q=E(q,X,J,A,ae,4,y[44]),A=E(A,q,X,J,Me,11,y[45]),J=E(J,A,q,X,he,16,y[46]),X=E(X,J,A,q,V,23,y[47]),q=O(q,X,J,A,L,6,y[48]),A=O(A,q,X,J,G,10,y[49]),J=O(J,A,q,X,ye,15,y[50]),X=O(X,J,A,q,D,21,y[51]),q=O(q,X,J,A,Me,6,y[52]),A=O(A,q,X,J,R,10,y[53]),J=O(J,A,q,X,Y,15,y[54]),X=O(X,J,A,q,B,21,y[55]),q=O(q,X,J,A,Z,6,y[56]),A=O(A,q,X,J,he,10,y[57]),J=O(J,A,q,X,$,15,y[58]),X=O(X,J,A,q,we,21,y[59]),q=O(q,X,J,A,Q,6,y[60]),A=O(A,q,X,J,ie,10,y[61]),J=O(J,A,q,X,V,15,y[62]),X=O(X,J,A,q,ae,21,y[63]),T[0]=T[0]+q|0,T[1]=T[1]+X|0,T[2]=T[2]+J|0,T[3]=T[3]+A|0},_doFinalize:function(){var S=this._data,C=S.words,k=this._nDataBytes*8,P=S.sigBytes*8;C[P>>>5]|=128<<24-P%32;var j=s.floor(k/4294967296),T=k;C[(P+64>>>9<<4)+15]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,C[(P+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,S.sigBytes=(C.length+1)*4,this._process();for(var L=this._hash,B=L.words,V=0;V<4;V++){var R=B[V];B[V]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360}return L},clone:function(){var S=f.clone.call(this);return S._hash=this._hash.clone(),S}});function I(S,C,k,P,j,T,L){var B=S+(C&k|~C&P)+j+L;return(B<<T|B>>>32-T)+C}function _(S,C,k,P,j,T,L){var B=S+(C&P|k&~P)+j+L;return(B<<T|B>>>32-T)+C}function E(S,C,k,P,j,T,L){var B=S+(C^k^P)+j+L;return(B<<T|B>>>32-T)+C}function O(S,C,k,P,j,T,L){var B=S+(k^(C|~P))+j+L;return(B<<T|B>>>32-T)+C}l.MD5=f._createHelper(x),l.HmacMD5=f._createHmacHelper(x)}(Math),o.MD5})}(Wi)),Wi.exports}var Ui={exports:{}},ss;function Xi(){return ss||(ss=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(){var s=o,l=s.lib,u=l.WordArray,v=l.Hasher,f=s.algo,b=[],y=f.SHA1=v.extend({_doReset:function(){this._hash=new u.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(x,I){for(var _=this._hash.words,E=_[0],O=_[1],S=_[2],C=_[3],k=_[4],P=0;P<80;P++){if(P<16)b[P]=x[I+P]|0;else{var j=b[P-3]^b[P-8]^b[P-14]^b[P-16];b[P]=j<<1|j>>>31}var T=(E<<5|E>>>27)+k+b[P];P<20?T+=(O&S|~O&C)+1518500249:P<40?T+=(O^S^C)+1859775393:P<60?T+=(O&S|O&C|S&C)-1894007588:T+=(O^S^C)-899497514,k=C,C=S,S=O<<30|O>>>2,O=E,E=T}_[0]=_[0]+E|0,_[1]=_[1]+O|0,_[2]=_[2]+S|0,_[3]=_[3]+C|0,_[4]=_[4]+k|0},_doFinalize:function(){var x=this._data,I=x.words,_=this._nDataBytes*8,E=x.sigBytes*8;return I[E>>>5]|=128<<24-E%32,I[(E+64>>>9<<4)+14]=Math.floor(_/4294967296),I[(E+64>>>9<<4)+15]=_,x.sigBytes=I.length*4,this._process(),this._hash},clone:function(){var x=v.clone.call(this);return x._hash=this._hash.clone(),x}});s.SHA1=v._createHelper(y),s.HmacSHA1=v._createHmacHelper(y)}(),o.SHA1})}(Ui)),Ui.exports}var Gi={exports:{}},cs;function ls(){return cs||(cs=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){return function(s){var l=o,u=l.lib,v=u.WordArray,f=u.Hasher,b=l.algo,y=[],x=[];(function(){function E(k){for(var P=s.sqrt(k),j=2;j<=P;j++)if(!(k%j))return!1;return!0}function O(k){return(k-(k|0))*4294967296|0}for(var S=2,C=0;C<64;)E(S)&&(C<8&&(y[C]=O(s.pow(S,1/2))),x[C]=O(s.pow(S,1/3)),C++),S++})();var I=[],_=b.SHA256=f.extend({_doReset:function(){this._hash=new v.init(y.slice(0))},_doProcessBlock:function(E,O){for(var S=this._hash.words,C=S[0],k=S[1],P=S[2],j=S[3],T=S[4],L=S[5],B=S[6],V=S[7],R=0;R<64;R++){if(R<16)I[R]=E[O+R]|0;else{var Q=I[R-15],D=(Q<<25|Q>>>7)^(Q<<14|Q>>>18)^Q>>>3,$=I[R-2],G=($<<15|$>>>17)^($<<13|$>>>19)^$>>>10;I[R]=D+I[R-7]+G+I[R-16]}var Z=T&L^~T&B,ae=C&k^C&P^k&P,Y=(C<<30|C>>>2)^(C<<19|C>>>13)^(C<<10|C>>>22),ie=(T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25),Me=V+ie+Z+x[R]+I[R],we=Y+ae;V=B,B=L,L=T,T=j+Me|0,j=P,P=k,k=C,C=Me+we|0}S[0]=S[0]+C|0,S[1]=S[1]+k|0,S[2]=S[2]+P|0,S[3]=S[3]+j|0,S[4]=S[4]+T|0,S[5]=S[5]+L|0,S[6]=S[6]+B|0,S[7]=S[7]+V|0},_doFinalize:function(){var E=this._data,O=E.words,S=this._nDataBytes*8,C=E.sigBytes*8;return O[C>>>5]|=128<<24-C%32,O[(C+64>>>9<<4)+14]=s.floor(S/4294967296),O[(C+64>>>9<<4)+15]=S,E.sigBytes=O.length*4,this._process(),this._hash},clone:function(){var E=f.clone.call(this);return E._hash=this._hash.clone(),E}});l.SHA256=f._createHelper(_),l.HmacSHA256=f._createHmacHelper(_)}(Math),o.SHA256})}(Gi)),Gi.exports}var Yi={exports:{}},us;function Ml(){return us||(us=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),ls())})(F,function(o){return function(){var s=o,l=s.lib,u=l.WordArray,v=s.algo,f=v.SHA256,b=v.SHA224=f.extend({_doReset:function(){this._hash=new u.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var y=f._doFinalize.call(this);return y.sigBytes-=4,y}});s.SHA224=f._createHelper(b),s.HmacSHA224=f._createHmacHelper(b)}(),o.SHA224})}(Yi)),Yi.exports}var Zi={exports:{}},fs;function ds(){return fs||(fs=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),yn())})(F,function(o){return function(){var s=o,l=s.lib,u=l.Hasher,v=s.x64,f=v.Word,b=v.WordArray,y=s.algo;function x(){return f.create.apply(f,arguments)}var I=[x(1116352408,3609767458),x(1899447441,602891725),x(3049323471,3964484399),x(3921009573,2173295548),x(961987163,4081628472),x(1508970993,3053834265),x(2453635748,2937671579),x(2870763221,3664609560),x(3624381080,2734883394),x(310598401,1164996542),x(607225278,1323610764),x(1426881987,3590304994),x(1925078388,4068182383),x(2162078206,991336113),x(2614888103,633803317),x(3248222580,3479774868),x(3835390401,2666613458),x(4022224774,944711139),x(264347078,2341262773),x(604807628,2007800933),x(770255983,1495990901),x(1249150122,1856431235),x(1555081692,3175218132),x(1996064986,2198950837),x(2554220882,3999719339),x(2821834349,766784016),x(2952996808,2566594879),x(3210313671,3203337956),x(3336571891,1034457026),x(3584528711,2466948901),x(113926993,3758326383),x(338241895,168717936),x(666307205,1188179964),x(773529912,1546045734),x(1294757372,1522805485),x(1396182291,2643833823),x(1695183700,2343527390),x(1986661051,1014477480),x(2177026350,1206759142),x(2456956037,344077627),x(2730485921,1290863460),x(2820302411,3158454273),x(3259730800,3505952657),x(3345764771,106217008),x(3516065817,3606008344),x(3600352804,1432725776),x(4094571909,1467031594),x(275423344,851169720),x(430227734,3100823752),x(506948616,1363258195),x(659060556,3750685593),x(883997877,3785050280),x(958139571,3318307427),x(1322822218,3812723403),x(1537002063,2003034995),x(1747873779,3602036899),x(1955562222,1575990012),x(2024104815,1125592928),x(2227730452,2716904306),x(2361852424,442776044),x(2428436474,593698344),x(2756734187,3733110249),x(3204031479,2999351573),x(3329325298,3815920427),x(3391569614,3928383900),x(3515267271,566280711),x(3940187606,3454069534),x(4118630271,4000239992),x(116418474,1914138554),x(174292421,2731055270),x(289380356,3203993006),x(460393269,320620315),x(685471733,587496836),x(852142971,1086792851),x(1017036298,365543100),x(1126000580,2618297676),x(1288033470,3409855158),x(1501505948,4234509866),x(1607167915,987167468),x(1816402316,1246189591)],_=[];(function(){for(var O=0;O<80;O++)_[O]=x()})();var E=y.SHA512=u.extend({_doReset:function(){this._hash=new b.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(O,S){for(var C=this._hash.words,k=C[0],P=C[1],j=C[2],T=C[3],L=C[4],B=C[5],V=C[6],R=C[7],Q=k.high,D=k.low,$=P.high,G=P.low,Z=j.high,ae=j.low,Y=T.high,ie=T.low,Me=L.high,we=L.low,ye=B.high,he=B.low,q=V.high,X=V.low,J=R.high,A=R.low,Ie=Q,Pe=D,Ve=$,pe=G,Ne=Z,gt=ae,Ze=Y,Ot=ie,nt=Me,qe=we,Se=ye,Pt=he,Rt=q,Ke=X,mt=J,Dt=A,Qe=0;Qe<80;Qe++){var it,$e,H=_[Qe];if(Qe<16)$e=H.high=O[S+Qe*2]|0,it=H.low=O[S+Qe*2+1]|0;else{var U=_[Qe-15],K=U.high,re=U.low,ce=(K>>>1|re<<31)^(K>>>8|re<<24)^K>>>7,He=(re>>>1|K<<31)^(re>>>8|K<<24)^(re>>>7|K<<25),de=_[Qe-2],fe=de.high,se=de.low,xe=(fe>>>19|se<<13)^(fe<<3|se>>>29)^fe>>>6,ge=(se>>>19|fe<<13)^(se<<3|fe>>>29)^(se>>>6|fe<<26),dt=_[Qe-7],kt=dt.high,qr=dt.low,hr=_[Qe-16],da=hr.high,Qt=hr.low;it=He+qr,$e=ce+kt+(it>>>0<He>>>0?1:0),it=it+ge,$e=$e+xe+(it>>>0<ge>>>0?1:0),it=it+Qt,$e=$e+da+(it>>>0<Qt>>>0?1:0),H.high=$e,H.low=it}var pa=nt&Se^~nt&Rt,Wr=qe&Pt^~qe&Ke,bt=Ie&Ve^Ie&Ne^Ve&Ne,va=Pe&pe^Pe&gt^pe&gt,Jt=(Ie>>>28|Pe<<4)^(Ie<<30|Pe>>>2)^(Ie<<25|Pe>>>7),ei=(Pe>>>28|Ie<<4)^(Pe<<30|Ie>>>2)^(Pe<<25|Ie>>>7),pt=(nt>>>14|qe<<18)^(nt>>>18|qe<<14)^(nt<<23|qe>>>9),_t=(qe>>>14|nt<<18)^(qe>>>18|nt<<14)^(qe<<23|nt>>>9),St=I[Qe],ti=St.high,ri=St.low,ze=Dt+_t,le=mt+pt+(ze>>>0<Dt>>>0?1:0),ze=ze+Wr,le=le+pa+(ze>>>0<Wr>>>0?1:0),ze=ze+ri,le=le+ti+(ze>>>0<ri>>>0?1:0),ze=ze+it,le=le+$e+(ze>>>0<it>>>0?1:0),er=ei+va,tr=Jt+bt+(er>>>0<ei>>>0?1:0);mt=Rt,Dt=Ke,Rt=Se,Ke=Pt,Se=nt,Pt=qe,qe=Ot+ze|0,nt=Ze+le+(qe>>>0<Ot>>>0?1:0)|0,Ze=Ne,Ot=gt,Ne=Ve,gt=pe,Ve=Ie,pe=Pe,Pe=ze+er|0,Ie=le+tr+(Pe>>>0<ze>>>0?1:0)|0}D=k.low=D+Pe,k.high=Q+Ie+(D>>>0<Pe>>>0?1:0),G=P.low=G+pe,P.high=$+Ve+(G>>>0<pe>>>0?1:0),ae=j.low=ae+gt,j.high=Z+Ne+(ae>>>0<gt>>>0?1:0),ie=T.low=ie+Ot,T.high=Y+Ze+(ie>>>0<Ot>>>0?1:0),we=L.low=we+qe,L.high=Me+nt+(we>>>0<qe>>>0?1:0),he=B.low=he+Pt,B.high=ye+Se+(he>>>0<Pt>>>0?1:0),X=V.low=X+Ke,V.high=q+Rt+(X>>>0<Ke>>>0?1:0),A=R.low=A+Dt,R.high=J+mt+(A>>>0<Dt>>>0?1:0)},_doFinalize:function(){var O=this._data,S=O.words,C=this._nDataBytes*8,k=O.sigBytes*8;S[k>>>5]|=128<<24-k%32,S[(k+128>>>10<<5)+30]=Math.floor(C/4294967296),S[(k+128>>>10<<5)+31]=C,O.sigBytes=S.length*4,this._process();var P=this._hash.toX32();return P},clone:function(){var O=u.clone.call(this);return O._hash=this._hash.clone(),O},blockSize:1024/32});s.SHA512=u._createHelper(E),s.HmacSHA512=u._createHmacHelper(E)}(),o.SHA512})}(Zi)),Zi.exports}var Ki={exports:{}},ps;function Cl(){return ps||(ps=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),yn(),ds())})(F,function(o){return function(){var s=o,l=s.x64,u=l.Word,v=l.WordArray,f=s.algo,b=f.SHA512,y=f.SHA384=b.extend({_doReset:function(){this._hash=new v.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var x=b._doFinalize.call(this);return x.sigBytes-=16,x}});s.SHA384=b._createHelper(y),s.HmacSHA384=b._createHmacHelper(y)}(),o.SHA384})}(Ki)),Ki.exports}var Qi={exports:{}},vs;function Tl(){return vs||(vs=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),yn())})(F,function(o){return function(s){var l=o,u=l.lib,v=u.WordArray,f=u.Hasher,b=l.x64,y=b.Word,x=l.algo,I=[],_=[],E=[];(function(){for(var C=1,k=0,P=0;P<24;P++){I[C+5*k]=(P+1)*(P+2)/2%64;var j=k%5,T=(2*C+3*k)%5;C=j,k=T}for(var C=0;C<5;C++)for(var k=0;k<5;k++)_[C+5*k]=k+(2*C+3*k)%5*5;for(var L=1,B=0;B<24;B++){for(var V=0,R=0,Q=0;Q<7;Q++){if(L&1){var D=(1<<Q)-1;D<32?R^=1<<D:V^=1<<D-32}L&128?L=L<<1^113:L<<=1}E[B]=y.create(V,R)}})();var O=[];(function(){for(var C=0;C<25;C++)O[C]=y.create()})();var S=x.SHA3=f.extend({cfg:f.cfg.extend({outputLength:512}),_doReset:function(){for(var C=this._state=[],k=0;k<25;k++)C[k]=new y.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(C,k){for(var P=this._state,j=this.blockSize/2,T=0;T<j;T++){var L=C[k+2*T],B=C[k+2*T+1];L=(L<<8|L>>>24)&16711935|(L<<24|L>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360;var V=P[T];V.high^=B,V.low^=L}for(var R=0;R<24;R++){for(var Q=0;Q<5;Q++){for(var D=0,$=0,G=0;G<5;G++){var V=P[Q+5*G];D^=V.high,$^=V.low}var Z=O[Q];Z.high=D,Z.low=$}for(var Q=0;Q<5;Q++)for(var ae=O[(Q+4)%5],Y=O[(Q+1)%5],ie=Y.high,Me=Y.low,D=ae.high^(ie<<1|Me>>>31),$=ae.low^(Me<<1|ie>>>31),G=0;G<5;G++){var V=P[Q+5*G];V.high^=D,V.low^=$}for(var we=1;we<25;we++){var D,$,V=P[we],ye=V.high,he=V.low,q=I[we];q<32?(D=ye<<q|he>>>32-q,$=he<<q|ye>>>32-q):(D=he<<q-32|ye>>>64-q,$=ye<<q-32|he>>>64-q);var X=O[_[we]];X.high=D,X.low=$}var J=O[0],A=P[0];J.high=A.high,J.low=A.low;for(var Q=0;Q<5;Q++)for(var G=0;G<5;G++){var we=Q+5*G,V=P[we],Ie=O[we],Pe=O[(Q+1)%5+5*G],Ve=O[(Q+2)%5+5*G];V.high=Ie.high^~Pe.high&Ve.high,V.low=Ie.low^~Pe.low&Ve.low}var V=P[0],pe=E[R];V.high^=pe.high,V.low^=pe.low}},_doFinalize:function(){var C=this._data,k=C.words;this._nDataBytes*8;var P=C.sigBytes*8,j=this.blockSize*32;k[P>>>5]|=1<<24-P%32,k[(s.ceil((P+1)/j)*j>>>5)-1]|=128,C.sigBytes=k.length*4,this._process();for(var T=this._state,L=this.cfg.outputLength/8,B=L/8,V=[],R=0;R<B;R++){var Q=T[R],D=Q.high,$=Q.low;D=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360,$=($<<8|$>>>24)&16711935|($<<24|$>>>8)&4278255360,V.push($),V.push(D)}return new v.init(V,L)},clone:function(){for(var C=f.clone.call(this),k=C._state=this._state.slice(0),P=0;P<25;P++)k[P]=k[P].clone();return C}});l.SHA3=f._createHelper(S),l.HmacSHA3=f._createHmacHelper(S)}(Math),o.SHA3})}(Qi)),Qi.exports}var Ji={exports:{}},hs;function Il(){return hs||(hs=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){/** @preserve
				(c) 2012 by Cdric Mesnil. All rights reserved.

				Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

				    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
				    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

				THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
				*/return function(s){var l=o,u=l.lib,v=u.WordArray,f=u.Hasher,b=l.algo,y=v.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),x=v.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),I=v.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),_=v.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),E=v.create([0,1518500249,1859775393,2400959708,2840853838]),O=v.create([1352829926,1548603684,1836072691,2053994217,0]),S=b.RIPEMD160=f.extend({_doReset:function(){this._hash=v.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(B,V){for(var R=0;R<16;R++){var Q=V+R,D=B[Q];B[Q]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}var $=this._hash.words,G=E.words,Z=O.words,ae=y.words,Y=x.words,ie=I.words,Me=_.words,we,ye,he,q,X,J,A,Ie,Pe,Ve;J=we=$[0],A=ye=$[1],Ie=he=$[2],Pe=q=$[3],Ve=X=$[4];for(var pe,R=0;R<80;R+=1)pe=we+B[V+ae[R]]|0,R<16?pe+=C(ye,he,q)+G[0]:R<32?pe+=k(ye,he,q)+G[1]:R<48?pe+=P(ye,he,q)+G[2]:R<64?pe+=j(ye,he,q)+G[3]:pe+=T(ye,he,q)+G[4],pe=pe|0,pe=L(pe,ie[R]),pe=pe+X|0,we=X,X=q,q=L(he,10),he=ye,ye=pe,pe=J+B[V+Y[R]]|0,R<16?pe+=T(A,Ie,Pe)+Z[0]:R<32?pe+=j(A,Ie,Pe)+Z[1]:R<48?pe+=P(A,Ie,Pe)+Z[2]:R<64?pe+=k(A,Ie,Pe)+Z[3]:pe+=C(A,Ie,Pe)+Z[4],pe=pe|0,pe=L(pe,Me[R]),pe=pe+Ve|0,J=Ve,Ve=Pe,Pe=L(Ie,10),Ie=A,A=pe;pe=$[1]+he+Pe|0,$[1]=$[2]+q+Ve|0,$[2]=$[3]+X+J|0,$[3]=$[4]+we+A|0,$[4]=$[0]+ye+Ie|0,$[0]=pe},_doFinalize:function(){var B=this._data,V=B.words,R=this._nDataBytes*8,Q=B.sigBytes*8;V[Q>>>5]|=128<<24-Q%32,V[(Q+64>>>9<<4)+14]=(R<<8|R>>>24)&16711935|(R<<24|R>>>8)&4278255360,B.sigBytes=(V.length+1)*4,this._process();for(var D=this._hash,$=D.words,G=0;G<5;G++){var Z=$[G];$[G]=(Z<<8|Z>>>24)&16711935|(Z<<24|Z>>>8)&4278255360}return D},clone:function(){var B=f.clone.call(this);return B._hash=this._hash.clone(),B}});function C(B,V,R){return B^V^R}function k(B,V,R){return B&V|~B&R}function P(B,V,R){return(B|~V)^R}function j(B,V,R){return B&R|V&~R}function T(B,V,R){return B^(V|~R)}function L(B,V){return B<<V|B>>>32-V}l.RIPEMD160=f._createHelper(S),l.HmacRIPEMD160=f._createHmacHelper(S)}(),o.RIPEMD160})}(Ji)),Ji.exports}var eo={exports:{}},gs;function to(){return gs||(gs=1,function(a,r){(function(o,s){a.exports=s(Oe())})(F,function(o){(function(){var s=o,l=s.lib,u=l.Base,v=s.enc,f=v.Utf8,b=s.algo;b.HMAC=u.extend({init:function(y,x){y=this._hasher=new y.init,typeof x=="string"&&(x=f.parse(x));var I=y.blockSize,_=I*4;x.sigBytes>_&&(x=y.finalize(x)),x.clamp();for(var E=this._oKey=x.clone(),O=this._iKey=x.clone(),S=E.words,C=O.words,k=0;k<I;k++)S[k]^=1549556828,C[k]^=909522486;E.sigBytes=O.sigBytes=_,this.reset()},reset:function(){var y=this._hasher;y.reset(),y.update(this._iKey)},update:function(y){return this._hasher.update(y),this},finalize:function(y){var x=this._hasher,I=x.finalize(y);x.reset();var _=x.finalize(this._oKey.clone().concat(I));return _}})})()})}(eo)),eo.exports}var ro={exports:{}},ys;function Al(){return ys||(ys=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Xi(),to())})(F,function(o){return function(){var s=o,l=s.lib,u=l.Base,v=l.WordArray,f=s.algo,b=f.SHA1,y=f.HMAC,x=f.PBKDF2=u.extend({cfg:u.extend({keySize:128/32,hasher:b,iterations:1}),init:function(I){this.cfg=this.cfg.extend(I)},compute:function(I,_){for(var E=this.cfg,O=y.create(E.hasher,I),S=v.create(),C=v.create([1]),k=S.words,P=C.words,j=E.keySize,T=E.iterations;k.length<j;){var L=O.update(_).finalize(C);O.reset();for(var B=L.words,V=B.length,R=L,Q=1;Q<T;Q++){R=O.finalize(R),O.reset();for(var D=R.words,$=0;$<V;$++)B[$]^=D[$]}S.concat(L),P[0]++}return S.sigBytes=j*4,S}});s.PBKDF2=function(I,_,E){return x.create(E).compute(I,_)}}(),o.PBKDF2})}(ro)),ro.exports}var no={exports:{}},xs;function Wt(){return xs||(xs=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Xi(),to())})(F,function(o){return function(){var s=o,l=s.lib,u=l.Base,v=l.WordArray,f=s.algo,b=f.MD5,y=f.EvpKDF=u.extend({cfg:u.extend({keySize:128/32,hasher:b,iterations:1}),init:function(x){this.cfg=this.cfg.extend(x)},compute:function(x,I){for(var _,E=this.cfg,O=E.hasher.create(),S=v.create(),C=S.words,k=E.keySize,P=E.iterations;C.length<k;){_&&O.update(_),_=O.update(x).finalize(I),O.reset();for(var j=1;j<P;j++)_=O.finalize(_),O.reset();S.concat(_)}return S.sigBytes=k*4,S}});s.EvpKDF=function(x,I,_){return y.create(_).compute(x,I)}}(),o.EvpKDF})}(no)),no.exports}var io={exports:{}},ms;function Ue(){return ms||(ms=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Wt())})(F,function(o){o.lib.Cipher||function(s){var l=o,u=l.lib,v=u.Base,f=u.WordArray,b=u.BufferedBlockAlgorithm,y=l.enc;y.Utf8;var x=y.Base64,I=l.algo,_=I.EvpKDF,E=u.Cipher=b.extend({cfg:v.extend(),createEncryptor:function(D,$){return this.create(this._ENC_XFORM_MODE,D,$)},createDecryptor:function(D,$){return this.create(this._DEC_XFORM_MODE,D,$)},init:function(D,$,G){this.cfg=this.cfg.extend(G),this._xformMode=D,this._key=$,this.reset()},reset:function(){b.reset.call(this),this._doReset()},process:function(D){return this._append(D),this._process()},finalize:function(D){D&&this._append(D);var $=this._doFinalize();return $},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function D($){return typeof $=="string"?Q:B}return function($){return{encrypt:function(G,Z,ae){return D(Z).encrypt($,G,Z,ae)},decrypt:function(G,Z,ae){return D(Z).decrypt($,G,Z,ae)}}}}()});u.StreamCipher=E.extend({_doFinalize:function(){var D=this._process(!0);return D},blockSize:1});var O=l.mode={},S=u.BlockCipherMode=v.extend({createEncryptor:function(D,$){return this.Encryptor.create(D,$)},createDecryptor:function(D,$){return this.Decryptor.create(D,$)},init:function(D,$){this._cipher=D,this._iv=$}}),C=O.CBC=function(){var D=S.extend();D.Encryptor=D.extend({processBlock:function(G,Z){var ae=this._cipher,Y=ae.blockSize;$.call(this,G,Z,Y),ae.encryptBlock(G,Z),this._prevBlock=G.slice(Z,Z+Y)}}),D.Decryptor=D.extend({processBlock:function(G,Z){var ae=this._cipher,Y=ae.blockSize,ie=G.slice(Z,Z+Y);ae.decryptBlock(G,Z),$.call(this,G,Z,Y),this._prevBlock=ie}});function $(G,Z,ae){var Y,ie=this._iv;ie?(Y=ie,this._iv=s):Y=this._prevBlock;for(var Me=0;Me<ae;Me++)G[Z+Me]^=Y[Me]}return D}(),k=l.pad={},P=k.Pkcs7={pad:function(D,$){for(var G=$*4,Z=G-D.sigBytes%G,ae=Z<<24|Z<<16|Z<<8|Z,Y=[],ie=0;ie<Z;ie+=4)Y.push(ae);var Me=f.create(Y,Z);D.concat(Me)},unpad:function(D){var $=D.words[D.sigBytes-1>>>2]&255;D.sigBytes-=$}};u.BlockCipher=E.extend({cfg:E.cfg.extend({mode:C,padding:P}),reset:function(){var D;E.reset.call(this);var $=this.cfg,G=$.iv,Z=$.mode;this._xformMode==this._ENC_XFORM_MODE?D=Z.createEncryptor:(D=Z.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==D?this._mode.init(this,G&&G.words):(this._mode=D.call(Z,this,G&&G.words),this._mode.__creator=D)},_doProcessBlock:function(D,$){this._mode.processBlock(D,$)},_doFinalize:function(){var D,$=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?($.pad(this._data,this.blockSize),D=this._process(!0)):(D=this._process(!0),$.unpad(D)),D},blockSize:128/32});var j=u.CipherParams=v.extend({init:function(D){this.mixIn(D)},toString:function(D){return(D||this.formatter).stringify(this)}}),T=l.format={},L=T.OpenSSL={stringify:function(D){var $,G=D.ciphertext,Z=D.salt;return Z?$=f.create([1398893684,1701076831]).concat(Z).concat(G):$=G,$.toString(x)},parse:function(D){var $,G=x.parse(D),Z=G.words;return Z[0]==1398893684&&Z[1]==1701076831&&($=f.create(Z.slice(2,4)),Z.splice(0,4),G.sigBytes-=16),j.create({ciphertext:G,salt:$})}},B=u.SerializableCipher=v.extend({cfg:v.extend({format:L}),encrypt:function(D,$,G,Z){Z=this.cfg.extend(Z);var ae=D.createEncryptor(G,Z),Y=ae.finalize($),ie=ae.cfg;return j.create({ciphertext:Y,key:G,iv:ie.iv,algorithm:D,mode:ie.mode,padding:ie.padding,blockSize:D.blockSize,formatter:Z.format})},decrypt:function(D,$,G,Z){Z=this.cfg.extend(Z),$=this._parse($,Z.format);var ae=D.createDecryptor(G,Z).finalize($.ciphertext);return ae},_parse:function(D,$){return typeof D=="string"?$.parse(D,this):D}}),V=l.kdf={},R=V.OpenSSL={execute:function(D,$,G,Z){Z||(Z=f.random(64/8));var ae=_.create({keySize:$+G}).compute(D,Z),Y=f.create(ae.words.slice($),G*4);return ae.sigBytes=$*4,j.create({key:ae,iv:Y,salt:Z})}},Q=u.PasswordBasedCipher=B.extend({cfg:B.cfg.extend({kdf:R}),encrypt:function(D,$,G,Z){Z=this.cfg.extend(Z);var ae=Z.kdf.execute(G,D.keySize,D.ivSize);Z.iv=ae.iv;var Y=B.encrypt.call(this,D,$,ae.key,Z);return Y.mixIn(ae),Y},decrypt:function(D,$,G,Z){Z=this.cfg.extend(Z),$=this._parse($,Z.format);var ae=Z.kdf.execute(G,D.keySize,D.ivSize,$.salt);Z.iv=ae.iv;var Y=B.decrypt.call(this,D,$,ae.key,Z);return Y}})}()})}(io)),io.exports}var oo={exports:{}},bs;function Rl(){return bs||(bs=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.mode.CFB=function(){var s=o.lib.BlockCipherMode.extend();s.Encryptor=s.extend({processBlock:function(u,v){var f=this._cipher,b=f.blockSize;l.call(this,u,v,b,f),this._prevBlock=u.slice(v,v+b)}}),s.Decryptor=s.extend({processBlock:function(u,v){var f=this._cipher,b=f.blockSize,y=u.slice(v,v+b);l.call(this,u,v,b,f),this._prevBlock=y}});function l(u,v,f,b){var y,x=this._iv;x?(y=x.slice(0),this._iv=void 0):y=this._prevBlock,b.encryptBlock(y,0);for(var I=0;I<f;I++)u[v+I]^=y[I]}return s}(),o.mode.CFB})}(oo)),oo.exports}var ao={exports:{}},_s;function Dl(){return _s||(_s=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.mode.CTR=function(){var s=o.lib.BlockCipherMode.extend(),l=s.Encryptor=s.extend({processBlock:function(u,v){var f=this._cipher,b=f.blockSize,y=this._iv,x=this._counter;y&&(x=this._counter=y.slice(0),this._iv=void 0);var I=x.slice(0);f.encryptBlock(I,0),x[b-1]=x[b-1]+1|0;for(var _=0;_<b;_++)u[v+_]^=I[_]}});return s.Decryptor=l,s}(),o.mode.CTR})}(ao)),ao.exports}var so={exports:{}},ws;function kl(){return ws||(ws=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return o.mode.CTRGladman=function(){var s=o.lib.BlockCipherMode.extend();function l(f){if((f>>24&255)===255){var b=f>>16&255,y=f>>8&255,x=f&255;b===255?(b=0,y===255?(y=0,x===255?x=0:++x):++y):++b,f=0,f+=b<<16,f+=y<<8,f+=x}else f+=1<<24;return f}function u(f){return(f[0]=l(f[0]))===0&&(f[1]=l(f[1])),f}var v=s.Encryptor=s.extend({processBlock:function(f,b){var y=this._cipher,x=y.blockSize,I=this._iv,_=this._counter;I&&(_=this._counter=I.slice(0),this._iv=void 0),u(_);var E=_.slice(0);y.encryptBlock(E,0);for(var O=0;O<x;O++)f[b+O]^=E[O]}});return s.Decryptor=v,s}(),o.mode.CTRGladman})}(so)),so.exports}var co={exports:{}},Es;function Bl(){return Es||(Es=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.mode.OFB=function(){var s=o.lib.BlockCipherMode.extend(),l=s.Encryptor=s.extend({processBlock:function(u,v){var f=this._cipher,b=f.blockSize,y=this._iv,x=this._keystream;y&&(x=this._keystream=y.slice(0),this._iv=void 0),f.encryptBlock(x,0);for(var I=0;I<b;I++)u[v+I]^=x[I]}});return s.Decryptor=l,s}(),o.mode.OFB})}(co)),co.exports}var lo={exports:{}},Os;function Hl(){return Os||(Os=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.mode.ECB=function(){var s=o.lib.BlockCipherMode.extend();return s.Encryptor=s.extend({processBlock:function(l,u){this._cipher.encryptBlock(l,u)}}),s.Decryptor=s.extend({processBlock:function(l,u){this._cipher.decryptBlock(l,u)}}),s}(),o.mode.ECB})}(lo)),lo.exports}var uo={exports:{}},Ps;function zl(){return Ps||(Ps=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.pad.AnsiX923={pad:function(s,l){var u=s.sigBytes,v=l*4,f=v-u%v,b=u+f-1;s.clamp(),s.words[b>>>2]|=f<<24-b%4*8,s.sigBytes+=f},unpad:function(s){var l=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=l}},o.pad.Ansix923})}(uo)),uo.exports}var fo={exports:{}},Ss;function Ll(){return Ss||(Ss=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.pad.Iso10126={pad:function(s,l){var u=l*4,v=u-s.sigBytes%u;s.concat(o.lib.WordArray.random(v-1)).concat(o.lib.WordArray.create([v<<24],1))},unpad:function(s){var l=s.words[s.sigBytes-1>>>2]&255;s.sigBytes-=l}},o.pad.Iso10126})}(fo)),fo.exports}var po={exports:{}},js;function Nl(){return js||(js=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.pad.Iso97971={pad:function(s,l){s.concat(o.lib.WordArray.create([2147483648],1)),o.pad.ZeroPadding.pad(s,l)},unpad:function(s){o.pad.ZeroPadding.unpad(s),s.sigBytes--}},o.pad.Iso97971})}(po)),po.exports}var vo={exports:{}},Ms;function $l(){return Ms||(Ms=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.pad.ZeroPadding={pad:function(s,l){var u=l*4;s.clamp(),s.sigBytes+=u-(s.sigBytes%u||u)},unpad:function(s){for(var l=s.words,u=s.sigBytes-1,u=s.sigBytes-1;u>=0;u--)if(l[u>>>2]>>>24-u%4*8&255){s.sigBytes=u+1;break}}},o.pad.ZeroPadding})}(vo)),vo.exports}var ho={exports:{}},Cs;function Fl(){return Cs||(Cs=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return o.pad.NoPadding={pad:function(){},unpad:function(){}},o.pad.NoPadding})}(ho)),ho.exports}var go={exports:{}},Ts;function Vl(){return Ts||(Ts=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),Ue())})(F,function(o){return function(s){var l=o,u=l.lib,v=u.CipherParams,f=l.enc,b=f.Hex,y=l.format;y.Hex={stringify:function(x){return x.ciphertext.toString(b)},parse:function(x){var I=b.parse(x);return v.create({ciphertext:I})}}}(),o.format.Hex})}(go)),go.exports}var yo={exports:{}},Is;function ql(){return Is||(Is=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),fr(),dr(),Wt(),Ue())})(F,function(o){return function(){var s=o,l=s.lib,u=l.BlockCipher,v=s.algo,f=[],b=[],y=[],x=[],I=[],_=[],E=[],O=[],S=[],C=[];(function(){for(var j=[],T=0;T<256;T++)T<128?j[T]=T<<1:j[T]=T<<1^283;for(var L=0,B=0,T=0;T<256;T++){var V=B^B<<1^B<<2^B<<3^B<<4;V=V>>>8^V&255^99,f[L]=V,b[V]=L;var R=j[L],Q=j[R],D=j[Q],$=j[V]*257^V*16843008;y[L]=$<<24|$>>>8,x[L]=$<<16|$>>>16,I[L]=$<<8|$>>>24,_[L]=$;var $=D*16843009^Q*65537^R*257^L*16843008;E[V]=$<<24|$>>>8,O[V]=$<<16|$>>>16,S[V]=$<<8|$>>>24,C[V]=$,L?(L=R^j[j[j[D^R]]],B^=j[j[B]]):L=B=1}})();var k=[0,1,2,4,8,16,32,64,128,27,54],P=v.AES=u.extend({_doReset:function(){var j;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var T=this._keyPriorReset=this._key,L=T.words,B=T.sigBytes/4,V=this._nRounds=B+6,R=(V+1)*4,Q=this._keySchedule=[],D=0;D<R;D++)D<B?Q[D]=L[D]:(j=Q[D-1],D%B?B>6&&D%B==4&&(j=f[j>>>24]<<24|f[j>>>16&255]<<16|f[j>>>8&255]<<8|f[j&255]):(j=j<<8|j>>>24,j=f[j>>>24]<<24|f[j>>>16&255]<<16|f[j>>>8&255]<<8|f[j&255],j^=k[D/B|0]<<24),Q[D]=Q[D-B]^j);for(var $=this._invKeySchedule=[],G=0;G<R;G++){var D=R-G;if(G%4)var j=Q[D];else var j=Q[D-4];G<4||D<=4?$[G]=j:$[G]=E[f[j>>>24]]^O[f[j>>>16&255]]^S[f[j>>>8&255]]^C[f[j&255]]}}},encryptBlock:function(j,T){this._doCryptBlock(j,T,this._keySchedule,y,x,I,_,f)},decryptBlock:function(j,T){var L=j[T+1];j[T+1]=j[T+3],j[T+3]=L,this._doCryptBlock(j,T,this._invKeySchedule,E,O,S,C,b);var L=j[T+1];j[T+1]=j[T+3],j[T+3]=L},_doCryptBlock:function(j,T,L,B,V,R,Q,D){for(var $=this._nRounds,G=j[T]^L[0],Z=j[T+1]^L[1],ae=j[T+2]^L[2],Y=j[T+3]^L[3],ie=4,Me=1;Me<$;Me++){var we=B[G>>>24]^V[Z>>>16&255]^R[ae>>>8&255]^Q[Y&255]^L[ie++],ye=B[Z>>>24]^V[ae>>>16&255]^R[Y>>>8&255]^Q[G&255]^L[ie++],he=B[ae>>>24]^V[Y>>>16&255]^R[G>>>8&255]^Q[Z&255]^L[ie++],q=B[Y>>>24]^V[G>>>16&255]^R[Z>>>8&255]^Q[ae&255]^L[ie++];G=we,Z=ye,ae=he,Y=q}var we=(D[G>>>24]<<24|D[Z>>>16&255]<<16|D[ae>>>8&255]<<8|D[Y&255])^L[ie++],ye=(D[Z>>>24]<<24|D[ae>>>16&255]<<16|D[Y>>>8&255]<<8|D[G&255])^L[ie++],he=(D[ae>>>24]<<24|D[Y>>>16&255]<<16|D[G>>>8&255]<<8|D[Z&255])^L[ie++],q=(D[Y>>>24]<<24|D[G>>>16&255]<<16|D[Z>>>8&255]<<8|D[ae&255])^L[ie++];j[T]=we,j[T+1]=ye,j[T+2]=he,j[T+3]=q},keySize:256/32});s.AES=u._createHelper(P)}(),o.AES})}(yo)),yo.exports}var xo={exports:{}},As;function Wl(){return As||(As=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),fr(),dr(),Wt(),Ue())})(F,function(o){return function(){var s=o,l=s.lib,u=l.WordArray,v=l.BlockCipher,f=s.algo,b=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],y=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],x=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],I=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],_=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],E=f.DES=v.extend({_doReset:function(){for(var k=this._key,P=k.words,j=[],T=0;T<56;T++){var L=b[T]-1;j[T]=P[L>>>5]>>>31-L%32&1}for(var B=this._subKeys=[],V=0;V<16;V++){for(var R=B[V]=[],Q=x[V],T=0;T<24;T++)R[T/6|0]|=j[(y[T]-1+Q)%28]<<31-T%6,R[4+(T/6|0)]|=j[28+(y[T+24]-1+Q)%28]<<31-T%6;R[0]=R[0]<<1|R[0]>>>31;for(var T=1;T<7;T++)R[T]=R[T]>>>(T-1)*4+3;R[7]=R[7]<<5|R[7]>>>27}for(var D=this._invSubKeys=[],T=0;T<16;T++)D[T]=B[15-T]},encryptBlock:function(k,P){this._doCryptBlock(k,P,this._subKeys)},decryptBlock:function(k,P){this._doCryptBlock(k,P,this._invSubKeys)},_doCryptBlock:function(k,P,j){this._lBlock=k[P],this._rBlock=k[P+1],O.call(this,4,252645135),O.call(this,16,65535),S.call(this,2,858993459),S.call(this,8,16711935),O.call(this,1,1431655765);for(var T=0;T<16;T++){for(var L=j[T],B=this._lBlock,V=this._rBlock,R=0,Q=0;Q<8;Q++)R|=I[Q][((V^L[Q])&_[Q])>>>0];this._lBlock=V,this._rBlock=B^R}var D=this._lBlock;this._lBlock=this._rBlock,this._rBlock=D,O.call(this,1,1431655765),S.call(this,8,16711935),S.call(this,2,858993459),O.call(this,16,65535),O.call(this,4,252645135),k[P]=this._lBlock,k[P+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function O(k,P){var j=(this._lBlock>>>k^this._rBlock)&P;this._rBlock^=j,this._lBlock^=j<<k}function S(k,P){var j=(this._rBlock>>>k^this._lBlock)&P;this._lBlock^=j,this._rBlock^=j<<k}s.DES=v._createHelper(E);var C=f.TripleDES=v.extend({_doReset:function(){var k=this._key,P=k.words;if(P.length!==2&&P.length!==4&&P.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var j=P.slice(0,2),T=P.length<4?P.slice(0,2):P.slice(2,4),L=P.length<6?P.slice(0,2):P.slice(4,6);this._des1=E.createEncryptor(u.create(j)),this._des2=E.createEncryptor(u.create(T)),this._des3=E.createEncryptor(u.create(L))},encryptBlock:function(k,P){this._des1.encryptBlock(k,P),this._des2.decryptBlock(k,P),this._des3.encryptBlock(k,P)},decryptBlock:function(k,P){this._des3.decryptBlock(k,P),this._des2.encryptBlock(k,P),this._des1.decryptBlock(k,P)},keySize:192/32,ivSize:64/32,blockSize:64/32});s.TripleDES=v._createHelper(C)}(),o.TripleDES})}(xo)),xo.exports}var mo={exports:{}},Rs;function Ul(){return Rs||(Rs=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),fr(),dr(),Wt(),Ue())})(F,function(o){return function(){var s=o,l=s.lib,u=l.StreamCipher,v=s.algo,f=v.RC4=u.extend({_doReset:function(){for(var x=this._key,I=x.words,_=x.sigBytes,E=this._S=[],O=0;O<256;O++)E[O]=O;for(var O=0,S=0;O<256;O++){var C=O%_,k=I[C>>>2]>>>24-C%4*8&255;S=(S+E[O]+k)%256;var P=E[O];E[O]=E[S],E[S]=P}this._i=this._j=0},_doProcessBlock:function(x,I){x[I]^=b.call(this)},keySize:256/32,ivSize:0});function b(){for(var x=this._S,I=this._i,_=this._j,E=0,O=0;O<4;O++){I=(I+1)%256,_=(_+x[I])%256;var S=x[I];x[I]=x[_],x[_]=S,E|=x[(x[I]+x[_])%256]<<24-O*8}return this._i=I,this._j=_,E}s.RC4=u._createHelper(f);var y=v.RC4Drop=f.extend({cfg:f.cfg.extend({drop:192}),_doReset:function(){f._doReset.call(this);for(var x=this.cfg.drop;x>0;x--)b.call(this)}});s.RC4Drop=u._createHelper(y)}(),o.RC4})}(mo)),mo.exports}var bo={exports:{}},Ds;function Xl(){return Ds||(Ds=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),fr(),dr(),Wt(),Ue())})(F,function(o){return function(){var s=o,l=s.lib,u=l.StreamCipher,v=s.algo,f=[],b=[],y=[],x=v.Rabbit=u.extend({_doReset:function(){for(var _=this._key.words,E=this.cfg.iv,O=0;O<4;O++)_[O]=(_[O]<<8|_[O]>>>24)&16711935|(_[O]<<24|_[O]>>>8)&4278255360;var S=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],C=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var O=0;O<4;O++)I.call(this);for(var O=0;O<8;O++)C[O]^=S[O+4&7];if(E){var k=E.words,P=k[0],j=k[1],T=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,L=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,B=T>>>16|L&4294901760,V=L<<16|T&65535;C[0]^=T,C[1]^=B,C[2]^=L,C[3]^=V,C[4]^=T,C[5]^=B,C[6]^=L,C[7]^=V;for(var O=0;O<4;O++)I.call(this)}},_doProcessBlock:function(_,E){var O=this._X;I.call(this),f[0]=O[0]^O[5]>>>16^O[3]<<16,f[1]=O[2]^O[7]>>>16^O[5]<<16,f[2]=O[4]^O[1]>>>16^O[7]<<16,f[3]=O[6]^O[3]>>>16^O[1]<<16;for(var S=0;S<4;S++)f[S]=(f[S]<<8|f[S]>>>24)&16711935|(f[S]<<24|f[S]>>>8)&4278255360,_[E+S]^=f[S]},blockSize:128/32,ivSize:64/32});function I(){for(var _=this._X,E=this._C,O=0;O<8;O++)b[O]=E[O];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<b[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<b[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<b[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<b[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<b[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<b[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<b[6]>>>0?1:0)|0,this._b=E[7]>>>0<b[7]>>>0?1:0;for(var O=0;O<8;O++){var S=_[O]+E[O],C=S&65535,k=S>>>16,P=((C*C>>>17)+C*k>>>15)+k*k,j=((S&4294901760)*S|0)+((S&65535)*S|0);y[O]=P^j}_[0]=y[0]+(y[7]<<16|y[7]>>>16)+(y[6]<<16|y[6]>>>16)|0,_[1]=y[1]+(y[0]<<8|y[0]>>>24)+y[7]|0,_[2]=y[2]+(y[1]<<16|y[1]>>>16)+(y[0]<<16|y[0]>>>16)|0,_[3]=y[3]+(y[2]<<8|y[2]>>>24)+y[1]|0,_[4]=y[4]+(y[3]<<16|y[3]>>>16)+(y[2]<<16|y[2]>>>16)|0,_[5]=y[5]+(y[4]<<8|y[4]>>>24)+y[3]|0,_[6]=y[6]+(y[5]<<16|y[5]>>>16)+(y[4]<<16|y[4]>>>16)|0,_[7]=y[7]+(y[6]<<8|y[6]>>>24)+y[5]|0}s.Rabbit=u._createHelper(x)}(),o.Rabbit})}(bo)),bo.exports}var _o={exports:{}},ks;function Gl(){return ks||(ks=1,function(a,r){(function(o,s,l){a.exports=s(Oe(),fr(),dr(),Wt(),Ue())})(F,function(o){return function(){var s=o,l=s.lib,u=l.StreamCipher,v=s.algo,f=[],b=[],y=[],x=v.RabbitLegacy=u.extend({_doReset:function(){var _=this._key.words,E=this.cfg.iv,O=this._X=[_[0],_[3]<<16|_[2]>>>16,_[1],_[0]<<16|_[3]>>>16,_[2],_[1]<<16|_[0]>>>16,_[3],_[2]<<16|_[1]>>>16],S=this._C=[_[2]<<16|_[2]>>>16,_[0]&4294901760|_[1]&65535,_[3]<<16|_[3]>>>16,_[1]&4294901760|_[2]&65535,_[0]<<16|_[0]>>>16,_[2]&4294901760|_[3]&65535,_[1]<<16|_[1]>>>16,_[3]&4294901760|_[0]&65535];this._b=0;for(var C=0;C<4;C++)I.call(this);for(var C=0;C<8;C++)S[C]^=O[C+4&7];if(E){var k=E.words,P=k[0],j=k[1],T=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360,L=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,B=T>>>16|L&4294901760,V=L<<16|T&65535;S[0]^=T,S[1]^=B,S[2]^=L,S[3]^=V,S[4]^=T,S[5]^=B,S[6]^=L,S[7]^=V;for(var C=0;C<4;C++)I.call(this)}},_doProcessBlock:function(_,E){var O=this._X;I.call(this),f[0]=O[0]^O[5]>>>16^O[3]<<16,f[1]=O[2]^O[7]>>>16^O[5]<<16,f[2]=O[4]^O[1]>>>16^O[7]<<16,f[3]=O[6]^O[3]>>>16^O[1]<<16;for(var S=0;S<4;S++)f[S]=(f[S]<<8|f[S]>>>24)&16711935|(f[S]<<24|f[S]>>>8)&4278255360,_[E+S]^=f[S]},blockSize:128/32,ivSize:64/32});function I(){for(var _=this._X,E=this._C,O=0;O<8;O++)b[O]=E[O];E[0]=E[0]+1295307597+this._b|0,E[1]=E[1]+3545052371+(E[0]>>>0<b[0]>>>0?1:0)|0,E[2]=E[2]+886263092+(E[1]>>>0<b[1]>>>0?1:0)|0,E[3]=E[3]+1295307597+(E[2]>>>0<b[2]>>>0?1:0)|0,E[4]=E[4]+3545052371+(E[3]>>>0<b[3]>>>0?1:0)|0,E[5]=E[5]+886263092+(E[4]>>>0<b[4]>>>0?1:0)|0,E[6]=E[6]+1295307597+(E[5]>>>0<b[5]>>>0?1:0)|0,E[7]=E[7]+3545052371+(E[6]>>>0<b[6]>>>0?1:0)|0,this._b=E[7]>>>0<b[7]>>>0?1:0;for(var O=0;O<8;O++){var S=_[O]+E[O],C=S&65535,k=S>>>16,P=((C*C>>>17)+C*k>>>15)+k*k,j=((S&4294901760)*S|0)+((S&65535)*S|0);y[O]=P^j}_[0]=y[0]+(y[7]<<16|y[7]>>>16)+(y[6]<<16|y[6]>>>16)|0,_[1]=y[1]+(y[0]<<8|y[0]>>>24)+y[7]|0,_[2]=y[2]+(y[1]<<16|y[1]>>>16)+(y[0]<<16|y[0]>>>16)|0,_[3]=y[3]+(y[2]<<8|y[2]>>>24)+y[1]|0,_[4]=y[4]+(y[3]<<16|y[3]>>>16)+(y[2]<<16|y[2]>>>16)|0,_[5]=y[5]+(y[4]<<8|y[4]>>>24)+y[3]|0,_[6]=y[6]+(y[5]<<16|y[5]>>>16)+(y[4]<<16|y[4]>>>16)|0,_[7]=y[7]+(y[6]<<8|y[6]>>>24)+y[5]|0}s.RabbitLegacy=u._createHelper(x)}(),o.RabbitLegacy})}(_o)),_o.exports}(function(a,r){(function(o,s,l){a.exports=s(Oe(),yn(),Pl(),Sl(),fr(),jl(),dr(),Xi(),ls(),Ml(),ds(),Cl(),Tl(),Il(),to(),Al(),Wt(),Ue(),Rl(),Dl(),kl(),Bl(),Hl(),zl(),Ll(),Nl(),$l(),Fl(),Vl(),ql(),Wl(),Ul(),Xl(),Gl())})(F,function(o){return o})})(Ja);var Bs=Ja.exports,Mt={},Hs={},wo={},Ut={},xn={},Eo={exports:{}},zs={},mn={ROOT:0,GROUP:1,POSITION:2,SET:3,RANGE:4,REPETITION:5,REFERENCE:6,CHAR:7},Ct={};const Te=mn,Oo=()=>[{type:Te.RANGE,from:48,to:57}],Ls=()=>[{type:Te.CHAR,value:95},{type:Te.RANGE,from:97,to:122},{type:Te.RANGE,from:65,to:90}].concat(Oo()),Ns=()=>[{type:Te.CHAR,value:9},{type:Te.CHAR,value:10},{type:Te.CHAR,value:11},{type:Te.CHAR,value:12},{type:Te.CHAR,value:13},{type:Te.CHAR,value:32},{type:Te.CHAR,value:160},{type:Te.CHAR,value:5760},{type:Te.RANGE,from:8192,to:8202},{type:Te.CHAR,value:8232},{type:Te.CHAR,value:8233},{type:Te.CHAR,value:8239},{type:Te.CHAR,value:8287},{type:Te.CHAR,value:12288},{type:Te.CHAR,value:65279}],Yl=()=>[{type:Te.CHAR,value:10},{type:Te.CHAR,value:13},{type:Te.CHAR,value:8232},{type:Te.CHAR,value:8233}];Ct.words=()=>({type:Te.SET,set:Ls(),not:!1}),Ct.notWords=()=>({type:Te.SET,set:Ls(),not:!0}),Ct.ints=()=>({type:Te.SET,set:Oo(),not:!1}),Ct.notInts=()=>({type:Te.SET,set:Oo(),not:!0}),Ct.whitespace=()=>({type:Te.SET,set:Ns(),not:!1}),Ct.notWhitespace=()=>({type:Te.SET,set:Ns(),not:!0}),Ct.anyChar=()=>({type:Te.SET,set:Yl(),not:!0}),function(a){const r=mn,o=Ct,s="@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^ ?",l={0:0,t:9,n:10,v:11,f:12,r:13};a.strToChars=function(u){var v=/(\[\\b\])|(\\)?\\(?:u([A-F0-9]{4})|x([A-F0-9]{2})|(0?[0-7]{2})|c([@A-Z[\\\]^?])|([0tnvfr]))/g;return u=u.replace(v,function(f,b,y,x,I,_,E,O){if(y)return f;var S=b?8:x?parseInt(x,16):I?parseInt(I,16):_?parseInt(_,8):E?s.indexOf(E):l[O],C=String.fromCharCode(S);return/[[\]{}^$.|?*+()]/.test(C)&&(C="\\"+C),C}),u},a.tokenizeClass=(u,v)=>{for(var f=[],b=/\\(?:(w)|(d)|(s)|(W)|(D)|(S))|((?:(?:\\)(.)|([^\]\\]))-(?:\\)?([^\]]))|(\])|(?:\\)?([^])/g,y,x;(y=b.exec(u))!=null;)if(y[1])f.push(o.words());else if(y[2])f.push(o.ints());else if(y[3])f.push(o.whitespace());else if(y[4])f.push(o.notWords());else if(y[5])f.push(o.notInts());else if(y[6])f.push(o.notWhitespace());else if(y[7])f.push({type:r.RANGE,from:(y[8]||y[9]).charCodeAt(0),to:y[10].charCodeAt(0)});else if(x=y[12])f.push({type:r.CHAR,value:x.charCodeAt(0)});else return[f,b.lastIndex];a.error(v,"Unterminated character class")},a.error=(u,v)=>{throw new SyntaxError("Invalid regular expression: /"+u+"/: "+v)}}(zs);var Tr={};const bn=mn;Tr.wordBoundary=()=>({type:bn.POSITION,value:"b"}),Tr.nonWordBoundary=()=>({type:bn.POSITION,value:"B"}),Tr.begin=()=>({type:bn.POSITION,value:"^"}),Tr.end=()=>({type:bn.POSITION,value:"$"});const pr=zs,ht=mn,Xt=Ct,_n=Tr;Eo.exports=a=>{var r=0,o,s,l={type:ht.ROOT,stack:[]},u=l,v=l.stack,f=[],b=k=>{pr.error(a,`Nothing to repeat at column ${k-1}`)},y=pr.strToChars(a);for(o=y.length;r<o;)switch(s=y[r++],s){case"\\":switch(s=y[r++],s){case"b":v.push(_n.wordBoundary());break;case"B":v.push(_n.nonWordBoundary());break;case"w":v.push(Xt.words());break;case"W":v.push(Xt.notWords());break;case"d":v.push(Xt.ints());break;case"D":v.push(Xt.notInts());break;case"s":v.push(Xt.whitespace());break;case"S":v.push(Xt.notWhitespace());break;default:/\d/.test(s)?v.push({type:ht.REFERENCE,value:parseInt(s,10)}):v.push({type:ht.CHAR,value:s.charCodeAt(0)})}break;case"^":v.push(_n.begin());break;case"$":v.push(_n.end());break;case"[":var x;y[r]==="^"?(x=!0,r++):x=!1;var I=pr.tokenizeClass(y.slice(r),a);r+=I[1],v.push({type:ht.SET,set:I[0],not:x});break;case".":v.push(Xt.anyChar());break;case"(":var _={type:ht.GROUP,stack:[],remember:!0};s=y[r],s==="?"&&(s=y[r+1],r+=2,s==="="?_.followedBy=!0:s==="!"?_.notFollowedBy=!0:s!==":"&&pr.error(a,`Invalid group, character '${s}' after '?' at column ${r-1}`),_.remember=!1),v.push(_),f.push(u),u=_,v=_.stack;break;case")":f.length===0&&pr.error(a,`Unmatched ) at column ${r-1}`),u=f.pop(),v=u.options?u.options[u.options.length-1]:u.stack;break;case"|":u.options||(u.options=[u.stack],delete u.stack);var E=[];u.options.push(E),v=E;break;case"{":var O=/^(\d+)(,(\d+)?)?\}/.exec(y.slice(r)),S,C;O!==null?(v.length===0&&b(r),S=parseInt(O[1],10),C=O[2]?O[3]?parseInt(O[3],10):1/0:S,r+=O[0].length,v.push({type:ht.REPETITION,min:S,max:C,value:v.pop()})):v.push({type:ht.CHAR,value:123});break;case"?":v.length===0&&b(r),v.push({type:ht.REPETITION,min:0,max:1,value:v.pop()});break;case"+":v.length===0&&b(r),v.push({type:ht.REPETITION,min:1,max:1/0,value:v.pop()});break;case"*":v.length===0&&b(r),v.push({type:ht.REPETITION,min:0,max:1/0,value:v.pop()});break;default:v.push({type:ht.CHAR,value:s.charCodeAt(0)})}return f.length!==0&&pr.error(a,"Unterminated group"),l},Eo.exports.types=ht;var Zl=Eo.exports;class wt{constructor(r,o){this.low=r,this.high=o,this.length=1+o-r}overlaps(r){return!(this.high<r.low||this.low>r.high)}touches(r){return!(this.high+1<r.low||this.low-1>r.high)}add(r){return new wt(Math.min(this.low,r.low),Math.max(this.high,r.high))}subtract(r){return r.low<=this.low&&r.high>=this.high?[]:r.low>this.low&&r.high<this.high?[new wt(this.low,r.low-1),new wt(r.high+1,this.high)]:r.low<=this.low?[new wt(r.high+1,this.high)]:[new wt(this.low,r.low-1)]}toString(){return this.low==this.high?this.low.toString():this.low+"-"+this.high}}var Kl=class ln{constructor(r,o){this.ranges=[],this.length=0,r!=null&&this.add(r,o)}_update_length(){this.length=this.ranges.reduce((r,o)=>r+o.length,0)}add(r,o){var s=l=>{for(var u=0;u<this.ranges.length&&!l.touches(this.ranges[u]);)u++;for(var v=this.ranges.slice(0,u);u<this.ranges.length&&l.touches(this.ranges[u]);)l=l.add(this.ranges[u]),u++;v.push(l),this.ranges=v.concat(this.ranges.slice(u)),this._update_length()};return r instanceof ln?r.ranges.forEach(s):(o==null&&(o=r),s(new wt(r,o))),this}subtract(r,o){var s=l=>{for(var u=0;u<this.ranges.length&&!l.overlaps(this.ranges[u]);)u++;for(var v=this.ranges.slice(0,u);u<this.ranges.length&&l.overlaps(this.ranges[u]);)v=v.concat(this.ranges[u].subtract(l)),u++;this.ranges=v.concat(this.ranges.slice(u)),this._update_length()};return r instanceof ln?r.ranges.forEach(s):(o==null&&(o=r),s(new wt(r,o))),this}intersect(r,o){var s=[],l=u=>{for(var v=0;v<this.ranges.length&&!u.overlaps(this.ranges[v]);)v++;for(;v<this.ranges.length&&u.overlaps(this.ranges[v]);){var f=Math.max(this.ranges[v].low,u.low),b=Math.min(this.ranges[v].high,u.high);s.push(new wt(f,b)),v++}};return r instanceof ln?r.ranges.forEach(l):(o==null&&(o=r),l(new wt(r,o))),this.ranges=s,this._update_length(),this}index(r){for(var o=0;o<this.ranges.length&&this.ranges[o].length<=r;)r-=this.ranges[o].length,o++;return this.ranges[o].low+r}toString(){return"[ "+this.ranges.join(", ")+" ]"}clone(){return new ln(this)}numbers(){return this.ranges.reduce((r,o)=>{for(var s=o.low;s<=o.high;)r.push(s),s++;return r},[])}subranges(){return this.ranges.map(r=>({low:r.low,high:r.high,length:1+r.high-r.low}))}};const wn=Zl,Ir=Kl,Gt=wn.types;var Ql=class un{constructor(r,o){if(this._setDefaults(r),r instanceof RegExp)this.ignoreCase=r.ignoreCase,this.multiline=r.multiline,r=r.source;else if(typeof r=="string")this.ignoreCase=o&&o.indexOf("i")!==-1,this.multiline=o&&o.indexOf("m")!==-1;else throw new Error("Expected a regexp or string");this.tokens=wn(r)}_setDefaults(r){this.max=r.max!=null?r.max:un.prototype.max!=null?un.prototype.max:100,this.defaultRange=r.defaultRange?r.defaultRange:this.defaultRange.clone(),r.randInt&&(this.randInt=r.randInt)}gen(){return this._gen(this.tokens,[])}_gen(r,o){var s,l,u,v,f;switch(r.type){case Gt.ROOT:case Gt.GROUP:if(r.followedBy||r.notFollowedBy)return"";for(r.remember&&r.groupNumber===void 0&&(r.groupNumber=o.push(null)-1),s=r.options?this._randSelect(r.options):r.stack,l="",v=0,f=s.length;v<f;v++)l+=this._gen(s[v],o);return r.remember&&(o[r.groupNumber]=l),l;case Gt.POSITION:return"";case Gt.SET:var b=this._expand(r);return b.length?String.fromCharCode(this._randSelect(b)):"";case Gt.REPETITION:for(u=this.randInt(r.min,r.max===1/0?r.min+this.max:r.max),l="",v=0;v<u;v++)l+=this._gen(r.value,o);return l;case Gt.REFERENCE:return o[r.value-1]||"";case Gt.CHAR:var y=this.ignoreCase&&this._randBool()?this._toOtherCase(r.value):r.value;return String.fromCharCode(y)}}_toOtherCase(r){return r+(97<=r&&r<=122?-32:65<=r&&r<=90?32:0)}_randBool(){return!this.randInt(0,1)}_randSelect(r){return r instanceof Ir?r.index(this.randInt(0,r.length-1)):r[this.randInt(0,r.length-1)]}_expand(r){if(r.type===wn.types.CHAR)return new Ir(r.value);if(r.type===wn.types.RANGE)return new Ir(r.from,r.to);{let o=new Ir;for(let s=0;s<r.set.length;s++){let l=this._expand(r.set[s]);if(o.add(l),this.ignoreCase)for(let u=0;u<l.length;u++){let v=l.index(u),f=this._toOtherCase(v);v!==f&&o.add(f)}}return r.not?this.defaultRange.clone().subtract(o):this.defaultRange.clone().intersect(o)}}randInt(r,o){return r+Math.floor(Math.random()*(1+o-r))}get defaultRange(){return this._range=this._range||new Ir(32,126)}set defaultRange(r){this._range=r}static randexp(r,o){var s;return typeof r=="string"&&(r=new RegExp(r,o)),r._randexp===void 0?(s=new un(r,o),r._randexp=s):(s=r._randexp,s._setDefaults(r)),s.gen()}static sugar(){RegExp.prototype.gen=function(){return un.randexp(this)}}},Jl=F&&F.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(xn,"__esModule",{value:!0}),xn.RandomGenerator=void 0;var eu=Jl(Ql),$s;(function(a){var r="abcdefghijklmnopqrstuvwxyz";a.boolean=function(){return Math.random()<.5},a.integer=function(o,s){return o??(o=0),s??(s=100),Math.floor(Math.random()*(s-o+1))+o},a.bigint=function(o,s){return o??(o=BigInt(0)),s??(s=BigInt(100)),BigInt(a.integer(Number(o),Number(s)))},a.number=function(o,s){return o??(o=0),s??(s=100),Math.random()*(s-o)+o},a.string=function(o){return new Array(o??a.integer(5,10)).fill(0).map(function(){return r[a.integer(0,r.length-1)]}).join("")},a.array=function(o,s){return new Array(s??a.length()).fill(0).map(function(l,u){return o(u)})},a.pick=function(o){return o[a.integer(0,o.length-1)]},a.length=function(){return a.integer(0,3)},a.uuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){var s=Math.random()*16|0,l=o==="x"?s:s&3|8;return l.toString(16)})},a.email=function(){return"".concat(a.string(10),"@").concat(a.string(10),".").concat(a.string(3))},a.url=function(){return"https://".concat(a.string(10),".").concat(a.string(3))},a.ipv4=function(){return a.array(function(){return a.integer(0,255)},4).join(".")},a.ipv6=function(){return a.array(function(){return a.integer(0,65535).toString(16)},8).join(":")},a.pattern=function(o){return new eu.default(o).gen()},a.date=function(o,s){return o??(o=0),s??(s=Date.now()*2),new Date(a.number(o,s)).toISOString().substring(0,10)},a.datetime=function(o,s){return o??(o=Date.now()-30*Fs),s??(s=Date.now()+7*Fs),new Date(a.number(o,s)).toISOString()}})($s||(xn.RandomGenerator=$s={}));var Fs=1e3*60*60*24,Yt={},tu=F&&F.__extends||function(){var a=function(r,o){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,l){s.__proto__=l}||function(s,l){for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&(s[u]=l[u])},a(r,o)};return function(r,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");a(r,o);function s(){this.constructor=r}r.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)}}();Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.TypeGuardError=void 0;var ru=function(a){tu(r,a);function r(o){var s=this.constructor,l=a.call(this,o.message||"Error on ".concat(o.method,"(): invalid type").concat(o.path?" on ".concat(o.path):"",", expect to be ").concat(o.expected))||this,u=s.prototype;return Object.setPrototypeOf?Object.setPrototypeOf(l,u):l.__proto__=u,l.method=o.method,l.path=o.path,l.expected=o.expected,l.value=o.value,l}return r}(Error);Yt.TypeGuardError=ru;var En={};Object.defineProperty(En,"__esModule",{value:!0}),En.$ProtobufReader=void 0;var nu=function(){function a(r){this.buf=r,this.ptr=0,this.view=new DataView(r.buffer)}return a.prototype.index=function(){return this.ptr},a.prototype.size=function(){return this.buf.length},a.prototype.uint32=function(){return this.varint32()},a.prototype.int32=function(){return this.varint32()},a.prototype.sint32=function(){var r=this.varint32();return r>>>1^-(r&1)},a.prototype.uint64=function(){return this.varint64()},a.prototype.int64=function(){return this.varint64()},a.prototype.sint64=function(){var r=this.varint64();return r>>Po^-(r&Po)},a.prototype.bool=function(){return this.varint32()!==0},a.prototype.float=function(){var r=this.view.getFloat32(this.ptr,!0);return this.ptr+=4,r},a.prototype.double=function(){var r=this.view.getFloat64(this.ptr,!0);return this.ptr+=8,r},a.prototype.bytes=function(){var r=this.uint32(),o=this.ptr;return this.ptr+=r,this.buf.subarray(o,o+r)},a.prototype.string=function(){return iu.decode(this.bytes())},a.prototype.skip=function(r){if(r===0)for(;this.u8()&128;);else{if(this.index()+r>this.size())throw new Error("Error on typia.protobuf.decode(): buffer overflow.");this.ptr+=r}},a.prototype.skipType=function(r){switch(r){case 0:this.skip(0);break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(r=this.uint32()&7)!==4;)this.skipType(r);break;case 5:this.skip(4);break;default:throw new Error("Invalid wire type ".concat(r," at offset ").concat(this.ptr,"."))}},a.prototype.varint32=function(){var r,o;return o=(r=this.u8())&127,r<128||(o|=((r=this.u8())&127)<<7,r<128)||(o|=((r=this.u8())&127)<<14,r<128)||(o|=((r=this.u8())&127)<<21,r<128)||(o|=((r=this.u8())&15)<<28,r<128)||this.u8()<128||this.u8()<128||this.u8()<128||this.u8()<128||this.u8()<128,o},a.prototype.varint64=function(){var r,o;return o=(r=this.u8n())&Tt,r<It||(o|=((r=this.u8n())&Tt)<<BigInt(7),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(14),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(21),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(28),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(35),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(42),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(49),r<It)||(o|=((r=this.u8n())&Tt)<<BigInt(56),r<It)?o:(o|=(this.u8n()&Po)<<BigInt(63),BigInt.asIntN(64,o))},a.prototype.u8=function(){return this.view.getUint8(this.ptr++)},a.prototype.u8n=function(){return BigInt(this.u8())},a}();En.$ProtobufReader=nu;var iu=new TextDecoder,Po=BigInt(1),Tt=BigInt(127),It=BigInt(128),On={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.$strlen=void 0;var ou=function(a){var r,o,s;for(r=o=0;s=a.charCodeAt(o++);r+=s>>11?3:s>>7?2:1);return r};Ar.$strlen=ou,Object.defineProperty(On,"__esModule",{value:!0}),On.$ProtobufSizer=void 0;var au=Ar,su=function(){function a(r){r===void 0&&(r=0),this.len=r,this.pos=[],this.varlen=[],this.varlenidx=[]}return a.prototype.bool=function(){this.len+=1},a.prototype.int32=function(r){r<0?this.len+=10:this.varint32(r)},a.prototype.sint32=function(r){this.varint32(r<<1^r>>31)},a.prototype.uint32=function(r){this.varint32(r)},a.prototype.int64=function(r){this.varint64(typeof r=="number"?BigInt(r):r)},a.prototype.sint64=function(r){typeof r=="number"&&(r=BigInt(r)),this.varint64(r<<BigInt(1)^r>>BigInt(63))},a.prototype.uint64=function(r){this.varint64(typeof r=="number"?BigInt(r):r)},a.prototype.float=function(r){this.len+=4},a.prototype.double=function(r){this.len+=8},a.prototype.bytes=function(r){this.uint32(r.byteLength),this.len+=r.byteLength},a.prototype.string=function(r){var o=(0,au.$strlen)(r);this.varlen.push(o),this.uint32(o),this.len+=o},a.prototype.fork=function(){this.pos.push(this.len),this.varlenidx.push(this.varlen.length),this.varlen.push(0)},a.prototype.ldelim=function(){if(!(this.pos.length&&this.varlenidx.length))throw new Error("Error on typia.protobuf.encode(): missing fork() before ldelim() call.");var r=this.len,o=this.pos.pop(),s=this.varlenidx.pop(),l=r-o;this.varlen[s]=l,this.uint32(l)},a.prototype.reset=function(){this.len=0,this.pos.length=0,this.varlen.length=0,this.varlenidx.length=0},a.prototype.varint32=function(r){this.len+=r<0?10:r<128?1:r<16384?2:r<2097152?3:r<268435456?4:5},a.prototype.varint64=function(r){for(r=BigInt.asUintN(64,r);r>lu;)++this.len,r=r>>cu;++this.len},a}();On.$ProtobufSizer=su;var cu=BigInt(7),lu=BigInt(127),Pn={};Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.$ProtobufWriter=void 0;var uu=function(){function a(r){this.sizer=r,this.buf=new Uint8Array(r.len),this.view=new DataView(this.buf.buffer),this.ptr=0,this.varlenidx=0}return a.prototype.buffer=function(){return this.buf},a.prototype.bool=function(r){this.byte(r?1:0)},a.prototype.byte=function(r){this.buf[this.ptr++]=r&255},a.prototype.int32=function(r){r<0?this.int64(r):this.variant32(r>>>0)},a.prototype.sint32=function(r){this.variant32(r<<1^r>>31)},a.prototype.uint32=function(r){this.variant32(r)},a.prototype.sint64=function(r){r=BigInt(r),this.variant64(r<<du^r>>vu)},a.prototype.int64=function(r){this.variant64(BigInt(r))},a.prototype.uint64=function(r){this.variant64(BigInt(r))},a.prototype.float=function(r){this.view.setFloat32(this.ptr,r,!0),this.ptr+=4},a.prototype.double=function(r){this.view.setFloat64(this.ptr,r,!0),this.ptr+=8},a.prototype.bytes=function(r){this.uint32(r.byteLength);for(var o=0;o<r.byteLength;o++)this.buf[this.ptr++]=r[o]},a.prototype.string=function(r){var o=this.varlen();this.uint32(o);for(var s=fu.encode(r),l=0;l<s.byteLength;l++)this.buf[this.ptr++]=s[l]},a.prototype.fork=function(){this.uint32(this.varlen())},a.prototype.ldelim=function(){},a.prototype.finish=function(){return this.buf},a.prototype.reset=function(){this.buf=new Uint8Array(this.sizer.len),this.view=new DataView(this.buf.buffer),this.ptr=0,this.varlenidx=0},a.prototype.variant32=function(r){for(;r>127;)this.buf[this.ptr++]=r&127|128,r=r>>>7;this.buf[this.ptr++]=r},a.prototype.variant64=function(r){for(r=BigInt.asUintN(64,r);r>Vs;)this.buf[this.ptr++]=Number(r&Vs|hu),r=r>>pu;this.buf[this.ptr++]=Number(r)},a.prototype.varlen=function(){return this.varlenidx>=this.sizer.varlen.length?0:this.sizer.varlen[this.varlenidx++]},a}();Pn.$ProtobufWriter=uu;var fu=new TextEncoder,du=BigInt(1),pu=BigInt(7),vu=BigInt(63),Vs=BigInt(127),hu=BigInt(128),Sn={},jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.$clone=void 0;var gu=function(a){return JSON.parse(JSON.stringify(a))};jn.$clone=gu,Object.defineProperty(Sn,"__esModule",{value:!0}),Sn.$any=void 0;var yu=jn,xu=function(a){return a!==void 0?(0,yu.$clone)(a):void 0};Sn.$any=xu;var Mn={};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.$every=void 0;var mu=function(a,r){for(var o=null,s=0;s<a.length;++s)if((o=r(a[s],s))!==null)return o;return null};Mn.$every=mu;var Cn={};Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.$guard=void 0;var bu=Yt,_u=function(a){return function(r,o){if(r===!0)throw new bu.TypeGuardError({method:a,path:o.path,expected:o.expected,value:o.value});return!1}};Cn.$guard=_u;var Tn={};Object.defineProperty(Tn,"__esModule",{value:!0}),Tn.$is_between=void 0;var wu=function(a,r,o){return r<=a&&a<=o};Tn.$is_between=wu;var In={};Object.defineProperty(In,"__esModule",{value:!0}),In.$join=void 0;var Eu=function(a){return Ou(a)?".".concat(a):"[".concat(JSON.stringify(a),"]")};In.$join=Eu;var Ou=function(a){return Pu(a)===!1&&/^[a-zA-Z_$][a-zA-Z_$0-9]*$/g.test(a)},Pu=function(a){return Su.has(a)},Su=new Set(["break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","false","finally","for","function","if","import","in","instanceof","new","null","return","super","switch","this","throw","true","try","typeof","var","void","while","with"]),An={};Object.defineProperty(An,"__esModule",{value:!0}),An.$number=void 0;var ju=Yt,Mu=function(a){if(isFinite(a)===!1)throw new ju.TypeGuardError({method:"typia.json.stringify",expected:"number",value:a,message:"Error on typia.json.stringify(): infinite or not a number."});return a};An.$number=Mu;var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.$report=void 0;var Cu=function(a){var r=function(o){if(a.length===0)return!0;var s=a[a.length-1].path;return o.length>s.length||s.substring(0,o.length)!==o};return function(o,s){return o&&r(s.path)&&a.push(s),!1}};Rn.$report=Cu;var Dn={};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.$rest=void 0;var Tu=function(a){return a.length===2?"":","+a.substring(1,a.length-1)};Dn.$rest=Tu;var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.$string=void 0;var Iu=function(a){if(Au.test(a)===!1)return'"'.concat(a,'"');var r=a.length;if(r>41)return JSON.stringify(a);for(var o="",s=-1,l=255,u=0;u<r;++u){if(l=a.charCodeAt(u),l<32||l>=55296&&l<=57343)return JSON.stringify(a);(l===34||l===92)&&(s===-1&&(s=0),o+=a.slice(s,u)+"\\",s=u)}return s===-1&&'"'+a+'"'||'"'+o+a.slice(s)+'"'};kn.$string=Iu;var Au=/[\u0000-\u001f\u0022\u005c\ud800-\udfff]|[\ud800-\udbff](?![\udc00-\udfff])|(?:[^\ud800-\udbff]|^)[\udc00-\udfff]/,Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.$tail=void 0;var Ru=function(a){return a[a.length-1]===","?a.substring(0,a.length-1):a};Bn.$tail=Ru;var tt=F&&F.__assign||function(){return tt=Object.assign||function(a){for(var r,o=1,s=arguments.length;o<s;o++){r=arguments[o];for(var l in r)Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l])}return a},tt.apply(this,arguments)};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.Namespace=void 0;var qs=xn,Ws=Yt,Du=En,ku=On,Bu=Pn,Hu=Sn,zu=Mn,Lu=Cn,Nu=Tn,Us=In,$u=An,Fu=Rn,Vu=Dn,qu=kn,Wu=Ar,Uu=Bn,Xs;(function(a){a.is=function(){return{is_between:Nu.$is_between}},a.assert=function(o){return tt(tt({},a.is()),{join:Us.$join,every:zu.$every,guard:(0,Lu.$guard)("typia.".concat(o)),predicate:function(s,l,u){if(s===!1&&l===!0)throw new Ws.TypeGuardError(tt(tt({},u()),{method:"typia.".concat(o)}));return s}})},a.validate=function(){return tt(tt({},a.is()),{join:Us.$join,report:Fu.$report,predicate:function(o){return function(s,l,u){return s===!1&&l===!0&&function(){o.success&&(o.success=!1);var v=o.errors,f=u();if(v.length){var b=v[v.length-1].path;if(b.length>=f.path.length&&b.substring(0,f.path.length)===f.path)return}v.push(f)}(),s}}})},function(o){o.stringify=function(s){return tt(tt({},a.is()),{number:$u.$number,string:qu.$string,tail:Uu.$tail,rest:Vu.$rest,throws:r("json.".concat(s))})}}(a.json||(a.json={})),function(o){o.decode=function(s){return{Reader:Du.$ProtobufReader,throws:r("protobuf.".concat(s))}},o.encode=function(s){return{Sizer:ku.$ProtobufSizer,Writer:Bu.$ProtobufWriter,strlen:Wu.$strlen,throws:r(s)}}}(a.protobuf||(a.protobuf={})),function(o){o.clone=function(s){return tt(tt({},a.is()),{throws:r("misc.".concat(s)),any:Hu.$any})},o.prune=function(s){return tt(tt({},a.is()),{throws:r("misc.".concat(s))})}}(a.misc||(a.misc={})),a.random=function(){return{generator:qs.RandomGenerator,pick:qs.RandomGenerator.pick}};var r=function(o){return function(s){throw new Ws.TypeGuardError(tt(tt({},s),{method:"typia.".concat(o)}))}}})(Xs||(Ut.Namespace=Xs={}));var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.createValidateStringify=je.createIsStringify=je.createAssertStringify=je.createStringify=je.createValidateParse=je.createAssertParse=je.createIsParse=je.validateStringify=je.isStringify=je.assertStringify=je.stringify=je.validateParse=je.isParse=je.assertParse=je.application=void 0;var Et=Ut;function Xu(){st("application")}je.application=Xu;function So(){st("assertParse")}je.assertParse=So,Object.assign(So,Et.Namespace.assert("assertParse"));function jo(){st("isParse")}je.isParse=jo,Object.assign(jo,Et.Namespace.is());function Mo(){st("validateParse")}je.validateParse=Mo,Object.assign(Mo,Et.Namespace.validate());function Co(){st("stringify")}je.stringify=Co,Object.assign(Co,Et.Namespace.json.stringify("stringify"));function Hn(){st("assertStringify")}je.assertStringify=Hn,Object.assign(Hn,Et.Namespace.assert("assertStringify")),Object.assign(Hn,Et.Namespace.json.stringify("assertStringify"));function zn(){st("isStringify")}je.isStringify=zn,Object.assign(zn,Et.Namespace.is()),Object.assign(zn,Et.Namespace.json.stringify("isStringify"));function Ln(){st("validateStringify")}je.validateStringify=Ln,Object.assign(Ln,Et.Namespace.validate()),Object.assign(Ln,Et.Namespace.json.stringify("validateStringify"));function Gs(){st("createIsParse")}je.createIsParse=Gs,Object.assign(Gs,jo);function Ys(){st("createAssertParse")}je.createAssertParse=Ys,Object.assign(Ys,So);function Zs(){st("createValidateParse")}je.createValidateParse=Zs,Object.assign(Zs,Mo);function Ks(){st("createStringify")}je.createStringify=Ks,Object.assign(Ks,Co);function Qs(){st("createAssertStringify")}je.createAssertStringify=Qs,Object.assign(Qs,Hn);function Js(){st("createIsStringify")}je.createIsStringify=Js,Object.assign(Js,zn);function e0(){st("createValidateStringify")}je.createValidateStringify=e0,Object.assign(e0,Ln);function st(a){throw new Error("Error on typia.json.".concat(a,"(): no transform has been configured. Read and follow https://typia.json.io/docs/setup please."))}var me={};Object.defineProperty(me,"__esModule",{value:!0}),me.createValidatePrune=me.createIsPrune=me.createAssertPrune=me.createPrune=me.createValidateClone=me.createIsClone=me.createAssertClone=me.createClone=me.validatePrune=me.isPrune=me.assertPrune=me.prune=me.validateClone=me.isClone=me.assertClone=me.clone=me.literals=void 0;var ut=Ut;function Gu(){Xe("literals")}me.literals=Gu;function To(){Xe("clone")}me.clone=To,Object.assign(To,ut.Namespace.misc.clone("clone"));function Nn(){Xe("assertClone")}me.assertClone=Nn,Object.assign(Nn,ut.Namespace.assert("assertClone")),Object.assign(Nn,ut.Namespace.misc.clone("assertClone"));function $n(){Xe("isClone")}me.isClone=$n,Object.assign($n,ut.Namespace.is()),Object.assign($n,ut.Namespace.misc.clone("isClone"));function Fn(){Xe("validateClone")}me.validateClone=Fn,Object.assign(Fn,ut.Namespace.validate()),Object.assign(Fn,ut.Namespace.misc.clone("validateClone"));function Io(){Xe("prune")}me.prune=Io,Object.assign(Io,ut.Namespace.misc.prune("prune"));function Vn(){Xe("assertPrune")}me.assertPrune=Vn,Object.assign(Vn,ut.Namespace.assert("assertPrune")),Object.assign(Vn,ut.Namespace.misc.prune("assertPrune"));function qn(){Xe("isPrune")}me.isPrune=qn,Object.assign(qn,ut.Namespace.is()),Object.assign(qn,ut.Namespace.misc.prune("isPrune"));function Wn(){Xe("validatePrune")}me.validatePrune=Wn,Object.assign(Wn,ut.Namespace.misc.prune("validatePrune")),Object.assign(Wn,ut.Namespace.validate());function t0(){Xe("createClone")}me.createClone=t0,Object.assign(t0,To);function r0(){Xe("createAssertClone")}me.createAssertClone=r0,Object.assign(r0,Nn);function n0(){Xe("createIsClone")}me.createIsClone=n0,Object.assign(n0,$n);function i0(){Xe("createValidateClone")}me.createValidateClone=i0,Object.assign(i0,Fn);function o0(){Xe("createPrune")}me.createPrune=o0,Object.assign(o0,Io);function a0(){Xe("createAssertPrune")}me.createAssertPrune=a0,Object.assign(a0,Vn);function s0(){Xe("createIsPrune")}me.createIsPrune=s0,Object.assign(s0,qn);function c0(){Xe("createValidatePrune")}me.createValidatePrune=c0,Object.assign(c0,Wn);function Xe(a){throw new Error("Error on typia.misc.".concat(a,"(): no transform has been configured. Read and follow https://typia.misc.io/docs/setup please."))}var be={};Object.defineProperty(be,"__esModule",{value:!0}),be.createValidateEncode=be.createAssertEncode=be.createIsEncode=be.createEncode=be.createValidateDecode=be.createAssertDecode=be.createIsDecode=be.createDecode=be.validateEncode=be.isEncode=be.assertEncode=be.encode=be.validateDecode=be.isDecode=be.assertDecode=be.decode=be.message=void 0;var Ae=Ut;function Yu(){Ge("message")}be.message=Yu;function l0(){Ge("decode")}be.decode=l0,Object.assign(l0,Ae.Namespace.protobuf.decode("decode"));function Ao(){Ge("assertDecode")}be.assertDecode=Ao,Object.assign(Ao,Ae.Namespace.assert("assertDecode")),Object.assign(Ao,Ae.Namespace.protobuf.decode("assertDecode"));function Ro(){Ge("isDecode")}be.isDecode=Ro,Object.assign(Ro,Ae.Namespace.is()),Object.assign(Ro,Ae.Namespace.protobuf.decode("isDecode"));function Do(){Ge("validateDecode")}be.validateDecode=Do,Object.assign(Do,Ae.Namespace.validate()),Object.assign(Do,Ae.Namespace.protobuf.decode("validateDecode"));function u0(){Ge("encode")}be.encode=u0,Object.assign(u0,Ae.Namespace.protobuf.encode("encode"));function ko(){Ge("assertEncode")}be.assertEncode=ko,Object.assign(ko,Ae.Namespace.assert("assertEncode")),Object.assign(ko,Ae.Namespace.protobuf.encode("assertEncode"));function Bo(){Ge("isEncode")}be.isEncode=Bo,Object.assign(Bo,Ae.Namespace.is()),Object.assign(Bo,Ae.Namespace.protobuf.encode("isEncode"));function Ho(){Ge("validateEncode")}be.validateEncode=Ho,Object.assign(Ho,Ae.Namespace.validate()),Object.assign(Ho,Ae.Namespace.protobuf.encode("validateEncode"));function f0(){Ge("createDecode")}be.createDecode=f0,Object.assign(f0,Ae.Namespace.protobuf.decode("createDecode"));function zo(){Ge("createIsDecode")}be.createIsDecode=zo,Object.assign(zo,Ae.Namespace.is()),Object.assign(zo,Ae.Namespace.protobuf.decode("createIsDecode"));function Lo(){Ge("createAssertDecode")}be.createAssertDecode=Lo,Object.assign(Lo,Ae.Namespace.assert("createAssertDecode")),Object.assign(Lo,Ae.Namespace.protobuf.decode("createAssertDecode"));function No(){Ge("createValidateDecode")}be.createValidateDecode=No,Object.assign(No,Ae.Namespace.validate()),Object.assign(No,Ae.Namespace.protobuf.decode("createValidateDecode"));function d0(){Ge("createEncode")}be.createEncode=d0,Object.assign(d0,Ae.Namespace.protobuf.encode("createEncode"));function $o(){Ge("createIsEncode")}be.createIsEncode=$o,Object.assign($o,Ae.Namespace.is()),Object.assign($o,Ae.Namespace.protobuf.encode("createIsEncode"));function Fo(){Ge("createAssertEncode")}be.createAssertEncode=Fo,Object.assign(Fo,Ae.Namespace.assert("createAssertEncode")),Object.assign(Fo,Ae.Namespace.protobuf.encode("createAssertEncode"));function Vo(){Ge("createValidateEncode")}be.createValidateEncode=Vo,Object.assign(Vo,Ae.Namespace.validate()),Object.assign(Vo,Ae.Namespace.protobuf.encode("createValidateEncode"));function Ge(a){throw new Error("Error on typia.protobuf.".concat(a,"(): no transform has been configured. Read and follow https://typia.io/docs/setup please."))}var p0={},v0={};Object.defineProperty(v0,"__esModule",{value:!0});var h0={};Object.defineProperty(h0,"__esModule",{value:!0});var g0={};Object.defineProperty(g0,"__esModule",{value:!0});var y0={};Object.defineProperty(y0,"__esModule",{value:!0});var x0={};Object.defineProperty(x0,"__esModule",{value:!0});var m0={};Object.defineProperty(m0,"__esModule",{value:!0});var b0={};Object.defineProperty(b0,"__esModule",{value:!0});var _0={};Object.defineProperty(_0,"__esModule",{value:!0});var w0={};Object.defineProperty(w0,"__esModule",{value:!0});var E0={};Object.defineProperty(E0,"__esModule",{value:!0});var O0={};Object.defineProperty(O0,"__esModule",{value:!0});var P0={};Object.defineProperty(P0,"__esModule",{value:!0});var S0={};Object.defineProperty(S0,"__esModule",{value:!0}),function(a){var r=F&&F.__createBinding||(Object.create?function(s,l,u,v){v===void 0&&(v=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,v,f)}:function(s,l,u,v){v===void 0&&(v=u),s[v]=l[u]}),o=F&&F.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&r(l,s,u)};Object.defineProperty(a,"__esModule",{value:!0}),o(v0,a),o(h0,a),o(g0,a),o(y0,a),o(x0,a),o(m0,a),o(b0,a),o(_0,a),o(w0,a),o(E0,a),o(O0,a),o(P0,a),o(S0,a)}(p0);var j0={};Object.defineProperty(j0,"__esModule",{value:!0});var M0={};Object.defineProperty(M0,"__esModule",{value:!0});var C0={};Object.defineProperty(C0,"__esModule",{value:!0});var T0={};Object.defineProperty(T0,"__esModule",{value:!0});var I0={};Object.defineProperty(I0,"__esModule",{value:!0});var A0={};Object.defineProperty(A0,"__esModule",{value:!0});var R0={};Object.defineProperty(R0,"__esModule",{value:!0}),function(a){var r=F&&F.__createBinding||(Object.create?function(B,V,R,Q){Q===void 0&&(Q=R);var D=Object.getOwnPropertyDescriptor(V,R);(!D||("get"in D?!V.__esModule:D.writable||D.configurable))&&(D={enumerable:!0,get:function(){return V[R]}}),Object.defineProperty(B,Q,D)}:function(B,V,R,Q){Q===void 0&&(Q=R),B[Q]=V[R]}),o=F&&F.__setModuleDefault||(Object.create?function(B,V){Object.defineProperty(B,"default",{enumerable:!0,value:V})}:function(B,V){B.default=V}),s=F&&F.__importStar||function(B){if(B&&B.__esModule)return B;var V={};if(B!=null)for(var R in B)R!=="default"&&Object.prototype.hasOwnProperty.call(B,R)&&r(V,B,R);return o(V,B),V},l=F&&F.__exportStar||function(B,V){for(var R in B)R!=="default"&&!Object.prototype.hasOwnProperty.call(V,R)&&r(V,B,R)};Object.defineProperty(a,"__esModule",{value:!0}),a.createRandom=a.createValidateEquals=a.createEquals=a.createAssertEquals=a.createValidate=a.createIs=a.createAssert=a.metadata=a.random=a.validateEquals=a.equals=a.assertEquals=a.validate=a.is=a.assert=a.tags=a.protobuf=a.misc=a.json=void 0;var u=Ut;a.json=s(je),a.misc=s(me),a.protobuf=s(be),a.tags=s(p0),l(j0,a),l(M0,a),l(C0,a),l(T0,a),l(I0,a),l(A0,a),l(R0,a),l(Yt,a);function v(){L("assert")}a.assert=v,Object.assign(v,u.Namespace.assert("assert"));function f(){L("is")}a.is=f,Object.assign(f,u.Namespace.assert("is"));function b(){L("validate")}a.validate=b,Object.assign(b,u.Namespace.validate());function y(){L("assertEquals")}a.assertEquals=y,Object.assign(y,u.Namespace.assert("assertEquals"));function x(){L("equals")}a.equals=x,Object.assign(x,u.Namespace.is());function I(){L("validateEquals")}a.validateEquals=I,Object.assign(I,u.Namespace.validate());function _(){L("random")}a.random=_,Object.assign(_,u.Namespace.random());function E(){L("metadata")}a.metadata=E;function O(){L("createAssert")}a.createAssert=O,Object.assign(O,v);function S(){L("createIs")}a.createIs=S,Object.assign(S,f);function C(){L("createValidate")}a.createValidate=C,Object.assign(C,b);function k(){L("createAssertEquals")}a.createAssertEquals=k,Object.assign(k,y);function P(){L("createEquals")}a.createEquals=P,Object.assign(P,x);function j(){L("createValidateEquals")}a.createValidateEquals=j,Object.assign(j,I);function T(){L("createRandom")}a.createRandom=T,Object.assign(T,_);function L(B){throw new Error("Error on typia.".concat(B,"(): no transform has been configured. Read and follow https://typia.io/docs/setup please."))}}(wo),function(a){var r=F&&F.__createBinding||(Object.create?function(v,f,b,y){y===void 0&&(y=b);var x=Object.getOwnPropertyDescriptor(f,b);(!x||("get"in x?!f.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return f[b]}}),Object.defineProperty(v,y,x)}:function(v,f,b,y){y===void 0&&(y=b),v[y]=f[b]}),o=F&&F.__setModuleDefault||(Object.create?function(v,f){Object.defineProperty(v,"default",{enumerable:!0,value:f})}:function(v,f){v.default=f}),s=F&&F.__importStar||function(v){if(v&&v.__esModule)return v;var f={};if(v!=null)for(var b in v)b!=="default"&&Object.prototype.hasOwnProperty.call(v,b)&&r(f,v,b);return o(f,v),f},l=F&&F.__exportStar||function(v,f){for(var b in v)b!=="default"&&!Object.prototype.hasOwnProperty.call(f,b)&&r(f,v,b)};Object.defineProperty(a,"__esModule",{value:!0});var u=s(wo);a.default=u,l(wo,a)}(Hs);var Zu=F&&F.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.isMessageDataStringfy=Mt.isMessageDataParse=Mt.equalsTypedRealMessage=void 0;const Ku=Zu(Hs),Qu=(a,r=!0)=>typeof a=="object"&&a!==null&&((s,l=!0)=>typeof s.token=="string"&&typeof s.channel=="string"&&typeof s.messageData=="string"&&(Object.keys(s).length===3||Object.keys(s).every(u=>!!(["token","channel","messageData"].some(f=>u===f)||s[u]===void 0))))(a,!0);Mt.equalsTypedRealMessage=Qu;const Ju=a=>{const r=o=>typeof o=="object"&&o!==null&&(l=>typeof l.runtimeId=="string"&&(l.key===void 0||typeof l.key=="string")&&typeof l.message=="string")(o);return a=JSON.parse(a),r(a)?a:null};Mt.isMessageDataParse=Ju;const ef=a=>{const r=s=>typeof s=="object"&&s!==null&&(u=>typeof u.runtimeId=="string"&&(u.key===void 0||typeof u.key=="string")&&typeof u.message=="string")(s),o=s=>{const l=Ku.default.json.createIsStringify.string;return(v=>`{${v.key===void 0?"":`"key":${v.key!==void 0?l(v.key):void 0},`}"runtimeId":${l(v.runtimeId)},"message":${l(v.message)}}`)(s)};return r(a)?o(a):null};Mt.isMessageDataStringfy=ef;var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.uniqueSet=At.assertNotNull=void 0;const tf=function(a){if(a==null)throw new ReferenceError;return a};At.assertNotNull=tf;const rf=(a,r,o)=>{if(a.has(r))throw new Error(`Duplicate set for key: ${r}`);a.set(r,o)};At.uniqueSet=rf;var nf=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},of=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},D0=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}},af=F&&F.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.AESCryptoAgent=void 0;const qo=af(Bs),sf=lt,k0=Mt,B0=ur,Wo=At;let Uo=class{constructor(r,o){this.logger=r,this.keyProvider=o}getProvider(){return(0,Wo.assertNotNull)(this.keyProvider)}encrypt(r){const o=(0,k0.isMessageDataStringfy)(r);if(!o)throw new TypeError("uncorected json object");const s=(0,Wo.assertNotNull)(this.keyProvider).getValue();return qo.default.AES.encrypt(o,s).toString()}decrypt(r){const o=(0,Wo.assertNotNull)(this.keyProvider).getValue(),l=qo.default.AES.decrypt(r,o).toString(qo.default.enc.Utf8);return(0,k0.isMessageDataParse)(l)}};Uo=nf([(0,sf.injectable)(),D0(0,(0,B0.injectOptional)("Logger")),D0(1,(0,B0.injectOptional)("SessionStaticKey")),of("design:paramtypes",[Object,Object])],Uo),Cr.AESCryptoAgent=Uo;var Rr={},cf=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},lf=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},H0=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.IndexdDBDatabaseAgent=void 0;const Xo=lt;let Go=class{constructor(r,o){this.config=r,this.logger=o,this.db=null}async open(){return new Promise((r,o)=>{const s=indexedDB.open(this.config.databaseName);s.onerror=()=>{o(new Error)},s.onsuccess=()=>{this.db=s.result,r()},s.onupgradeneeded=l=>{const u=l.target.result;u.objectStoreNames.contains(this.config.storeName)||u.createObjectStore(this.config.storeName)}})}async save(r,o){return new Promise((s,l)=>{const f=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName).put(o,r);f.onerror=()=>{l(new Error)},f.onsuccess=()=>{s()}})}async get(r){return new Promise((o,s)=>{const v=this.db.transaction([this.config.storeName],"readonly").objectStore(this.config.storeName).get(r);v.onerror=()=>{s(new Error)},v.onsuccess=()=>{o(v.result)}})}async delete(r){return new Promise((o,s)=>{const v=this.db.transaction([this.config.storeName],"readwrite").objectStore(this.config.storeName).delete(r);v.onerror=()=>{s(new Error)},v.onsuccess=()=>{o()}})}close(){var r;(r=this.db)==null||r.close()}};Go=cf([(0,Xo.injectable)(),H0(0,(0,Xo.inject)("DatabaseAgentConfig")),H0(1,(0,Xo.inject)("Logger")),lf("design:paramtypes",[Object,Object])],Go),Rr.IndexdDBDatabaseAgent=Go;var Dr={},kr={};Object.defineProperty(kr,"__esModule",{value:!0}),kr.AlertNamedError=void 0;class uf extends Error{constructor(r,o){super(r),this.originalError=o,this.name=r,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}kr.AlertNamedError=uf;var vr={},ff=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u};Object.defineProperty(vr,"__esModule",{value:!0}),vr.ErrorListener=void 0;const df=lt;let Yo=class{constructor(){this.handleError=r=>{var o;(o=this.errorHandler)==null||o.call(this,r)}}listen(r){this.errorHandler=r,self.addEventListener("error",this.handleError),self.addEventListener("unhandledrejection",this.handleError)}unlisten(){this.errorHandler&&(self.removeEventListener("error",this.handleError),self.removeEventListener("unhandledrejection",this.handleError),this.errorHandler=void 0)}};Yo=ff([(0,df.injectable)()],Yo),vr.ErrorListener=Yo;var pf=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},vf=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},z0=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.DisplayAlertErrorObserver=void 0;const Zo=lt,hf=kr,gf=vr;let Ko=class{constructor(r,o){this.logger=r,this.errorListener=o}observe(){this.errorListener.listen(this.errorHandler.bind(this))}unobserve(){this.errorListener.unlisten()}errorHandler(r){try{let o,s;const l=r instanceof ErrorEvent?r.error:r.reason;if(l instanceof hf.AlertNamedError){if(o=`AlertNamedError: ${l.name}`,alert){const u=chrome.i18n.getMessage(l.name);alert(u)}s=l.stack}else l instanceof Error?(o=l.message,s=l.stack):o=`Unknown error event: ${r}`;this.logger.error(o,s)}catch(o){this.logger.error("Error occurred while handling error:",o)}}};Ko=pf([(0,Zo.injectable)(),z0(0,(0,Zo.inject)("Logger")),z0(1,(0,Zo.inject)("ErrorListener")),vf("design:paramtypes",[Object,gf.ErrorListener])],Ko),Dr.DisplayAlertErrorObserver=Ko;var Br={},yf=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u};Object.defineProperty(Br,"__esModule",{value:!0}),Br.ConsoleInjectableLogger=void 0;const xf=lt;let Qo=class{debug(r,...o){console.debug(r,...o)}info(r,...o){console.info(r,...o)}warn(r,...o){console.warn(r,...o)}error(r,...o){console.error(r,...o)}};Qo=yf([(0,xf.injectable)()],Qo),Br.ConsoleInjectableLogger=Qo;var Hr={},zr={},Un={};(function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.getLocation=a.getDocument=a.totalHeight=a.maxZIndex=a.isInView=a.htmlTextToHtmlElement=a.findParentPreElement=a.findMatchParent=a.documentHeight=a.appendStyleTextToHead=a.appendScriptText=a.appendElementToHead=void 0;const r=(E,O)=>{let S=E.querySelector("head");S||(S=document.createElement("head"),E.insertBefore(S,E.firstChild)),S.appendChild(O)};a.appendElementToHead=r;const o=(E,O)=>{const S=document.createElement("script");S.textContent=O,E.appendChild(S)};a.appendScriptText=o;const s=(E,O)=>{const S=document.createElement("style");S.textContent=O,(0,a.appendElementToHead)(E,S)};a.appendStyleTextToHead=s;const l=E=>Math.max.apply(null,[E.body.clientHeight,E.body.scrollHeight,E.documentElement.scrollHeight,E.documentElement.clientHeight]);a.documentHeight=l;const u=(E,O)=>{let S=E.parentElement;for(;S;){if(S.matches(O))return S;S=S.parentElement}return null};a.findMatchParent=u;const v=E=>E instanceof HTMLPreElement?E:(0,a.findMatchParent)(E,"pre");a.findParentPreElement=v;const f=E=>new DOMParser().parseFromString(E,"text/html").documentElement;a.htmlTextToHtmlElement=f;const b=(E,O)=>{const S=O.getBoundingClientRect(),C=S.top<E.innerHeight,k=0<S.bottom,P=S.left<E.innerWidth,j=0<S.right;return C&&k&&P&&j};a.isInView=b;const y=E=>{const O=Array.from(E.children).map(C=>{var T;const k=(T=C==null?void 0:C.style)==null?void 0:T.zIndex,P=parseInt(k);return isNaN(P)?0:P});return Math.max(...O)};a.maxZIndex=y;const x=E=>Array.from(E.children).reduce((S,C)=>{const k=C.offsetHeight;return S+k},0);a.totalHeight=x;const I=()=>document;a.getDocument=I;const _=()=>location;a.getLocation=_})(Un),function(a){Object.defineProperty(a,"__esModule",{value:!0}),a.waitForAction=a.reserveLoadedAction=a.loadResourceText=a.isBackground=a.generateSessionStaticValue=a.EXT_ORIGIN=void 0;const r=Un;a.EXT_ORIGIN="chrome-extension://"+chrome.runtime.id;const o=async(f,b,y)=>{if((0,a.isBackground)()&&await chrome.storage.session.setAccessLevel({accessLevel:"TRUSTED_AND_UNTRUSTED_CONTEXTS"}),!y){const I=(await chrome.storage.session.get([f]))[f];if(I)return I}return await chrome.storage.session.set({[f]:b}),b};a.generateSessionStaticValue=o;const s=()=>{if((0,r.getLocation)().origin===a.EXT_ORIGIN)try{return typeof(0,r.getDocument)()>"u"}catch{return!0}return!1};a.isBackground=s;const l=async f=>{const b=chrome.runtime.getURL(f);return await(await fetch(b)).text()};a.loadResourceText=l;const u=(f,b)=>{if(f.readyState==="interactive"||f.readyState==="complete"){b();return}document.addEventListener("DOMContentLoaded",()=>{b()})};a.reserveLoadedAction=u;const v=async(f,b,y=30,x=6e3)=>{let I=0;for(;I<x&&b()!==!0;)await new Promise(_=>setTimeout(_,y)),I++;f()};a.waitForAction=v}(zr);var mf=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},bf=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},L0=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.MessageValidatorManagerImpl=void 0;const Xn=lt,N0=zr;let Jo=class{constructor(r,o){this.config=r,this.logger=o,this.managedValidators=[],(0,N0.isBackground)()?(chrome.alarms.create("refreshSession",{periodInMinutes:this.config.validatorRefreshInterval}),chrome.alarms.onAlarm.addListener(()=>{this.refreshValidators()})):setInterval(async()=>{this.refreshValidators()},this.config.validatorRefreshInterval*60*1e3)}async processValidation(r){const o=this.managedValidatorsValidation(r);if(o)return o;const s=await this.createNewValidator();return this.pushValidator(s),s.isValid(r)}async refreshValidators(){const r=await this.createNewValidator();if((0,N0.isBackground)()){const o=r.getProvider(),s=r.getCryptoAgent().getProvider();await o.generateValue(!0),await(s==null?void 0:s.generateValue(!0))}this.pushValidator(r)}async getLatestValidator(){if(this.managedValidators.length===0){const r=await this.createNewValidator();this.pushValidator(r)}return this.managedValidators.slice(-1)[0]}managedValidatorsValidation(r){for(const o of[...this.managedValidators].reverse()){const s=o.isValid(r);if(s)return s}}pushValidator(r){this.managedValidators.push(r),this.managedValidators.length>this.config.maxMessageValidators&&this.managedValidators.shift()}async createNewValidator(){const r=Xn.container.resolve("MessageValidator"),o=r.getProvider(),s=r.getCryptoAgent().getProvider();return await o.generateValue(!1),await(s==null?void 0:s.generateValue(!1)),r}};Jo=mf([(0,Xn.injectable)(),L0(0,(0,Xn.inject)("MessageValidatorManagerConfig")),L0(1,(0,Xn.inject)("Logger")),bf("design:paramtypes",[Object,Object])],Jo),Hr.MessageValidatorManagerImpl=Jo;var Lr={},_f=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},wf=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},Gn=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.MessageValidatorImpl=void 0;const Nr=lt,Ef=Mt,Of=At;let ea=class{constructor(r,o,s,l){this.config=r,this.tokenProvider=o,this.logger=s,this.cryptoAgent=l}getConfig(){return this.config}getProvider(){return(0,Of.assertNotNull)(this.tokenProvider)}getCryptoAgent(){return this.cryptoAgent}isValid(r){if(!this.config.allowedOrigins.includes(r.origin)||!(0,Ef.equalsTypedRealMessage)(r.message))return;const o=this.tokenProvider.getValue();if(r.message.token!==o||r.channel!==r.message.channel)return;const s=this.cryptoAgent.decrypt(r.message.messageData);if(s.runtimeId===this.config.runtimeId)return s}};ea=_f([(0,Nr.injectable)(),Gn(0,(0,Nr.inject)("MessageValidatorConfig")),Gn(1,(0,Nr.inject)("SessionStaticToken")),Gn(2,(0,Nr.inject)("Logger")),Gn(3,(0,Nr.inject)("CryptoAgent")),wf("design:paramtypes",[Object,Object,Object,Object])],ea),Lr.MessageValidatorImpl=ea;var $r={},Pf=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},Sf=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},$0=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty($r,"__esModule",{value:!0}),$r.RuntimeMessageAgentImpl=void 0;const ta=lt,jf=At;let ra=class{constructor(r,o){this.validatorManager=r,this.logger=o,this.runtimeListeners=new Map}async sendMessage(r,o,s){const l=await this.validatorManager.getLatestValidator(),v=l.getCryptoAgent().encrypt(o),f=l.getProvider().getValue();if(!s){const b=l.getConfig().runtimeId;return chrome.runtime.sendMessage(b,{token:f,channel:r,messageData:v})}return chrome.tabs.sendMessage(s,{token:f,channel:r,messageData:v})}addListener(r,o){const s=(l,u,v)=>((async()=>{const f=(0,jf.assertNotNull)(u.origin),b=await this.validatorManager.processValidation({origin:f,channel:r,message:l});if(!b)return;const y=await o(b);v(y)})(),!0);this.runtimeListeners.set(o,s),chrome.runtime.onMessage.addListener(s)}removeListener(r){const o=this.runtimeListeners.get(r);o&&(chrome.runtime.onMessage.removeListener(o),this.runtimeListeners.delete(r))}clearListeners(){this.runtimeListeners.forEach(r=>{chrome.runtime.onMessage.removeListener(r)}),this.runtimeListeners.clear()}};ra=Pf([(0,ta.injectable)(),$0(0,(0,ta.inject)("MessageValidatorManager")),$0(1,(0,ta.inject)("Logger")),Sf("design:paramtypes",[Object,Object])],ra),$r.RuntimeMessageAgentImpl=ra;var Zt={},Mf=F&&F.__createBinding||(Object.create?function(a,r,o,s){s===void 0&&(s=o);var l=Object.getOwnPropertyDescriptor(r,o);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[o]}}),Object.defineProperty(a,s,l)}:function(a,r,o,s){s===void 0&&(s=o),a[s]=r[o]}),Cf=F&&F.__setModuleDefault||(Object.create?function(a,r){Object.defineProperty(a,"default",{enumerable:!0,value:r})}:function(a,r){a.default=r}),F0=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},Tf=F&&F.__importStar||function(a){if(a&&a.__esModule)return a;var r={};if(a!=null)for(var o in a)o!=="default"&&Object.prototype.hasOwnProperty.call(a,o)&&Mf(r,a,o);return Cf(r,a),r},If=F&&F.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.SessionStaticToken=Zt.SessionStaticKey=void 0;const V0=If(Bs),q0=lt,na=Tf(zr);let ia=class{constructor(){this.key="",this.aesInitial=""}getValue(){return this.key}async generateValue(r){const o=Date.now().toString(),s=await na.generateSessionStaticValue("startTime",o,r);return this.aesInitial||(this.aesInitial=await na.loadResourceText("cryptokey")),this.key=V0.default.SHA256(this.aesInitial+s).toString(V0.default.enc.Base64),this.key}};ia=F0([(0,q0.injectable)()],ia),Zt.SessionStaticKey=ia;let oa=class{constructor(){this.token=""}getValue(){return this.token}async generateValue(r){const o=crypto.randomUUID();return this.token=await na.generateSessionStaticValue("token",o,r),this.token}};oa=F0([(0,q0.injectable)()],oa),Zt.SessionStaticToken=oa;var Yn={},Fr={},Af=F&&F.__decorate||function(a,r,o,s){var l=arguments.length,u=l<3?r:s===null?s=Object.getOwnPropertyDescriptor(r,o):s,v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(a,r,o,s);else for(var f=a.length-1;f>=0;f--)(v=a[f])&&(u=(l<3?v(u):l>3?v(r,o,u):v(r,o))||u);return l>3&&u&&Object.defineProperty(r,o,u),u},Rf=F&&F.__metadata||function(a,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(a,r)},aa=F&&F.__param||function(a,r){return function(o,s){r(o,s,a)}};Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.WindowMessageAgentImpl=void 0;const Zn=lt;let sa=class{constructor(r,o,s){this.validatorManager=r,this.validatorConfig=o,this.logger=s,this.windowListeners=new Map}async postMessage(r,o,s,l){if(!this.validatorConfig.allowedOrigins.includes(o))throw new Error(`Invalid targetOrigin: ${o}`);const u=await this.validatorManager.getLatestValidator(),f=u.getCryptoAgent().encrypt(l),b=u.getProvider().getValue();r.postMessage({token:b,channel:s,messageData:f},o)}addListener(r,o){const s=async l=>{const u=await this.validatorManager.processValidation({origin:l.origin,channel:r,message:l.data});u&&o(u)};this.windowListeners.set(o,s),window.addEventListener("message",s)}removeListener(r){const o=this.windowListeners.get(r);o&&(window.removeEventListener("message",o),this.windowListeners.delete(r))}clearListeners(){this.windowListeners.forEach(r=>{window.removeEventListener("message",r)}),this.windowListeners.clear()}};sa=Af([(0,Zn.injectable)(),aa(0,(0,Zn.inject)("MessageValidatorManager")),aa(1,(0,Zn.inject)("MessageValidatorConfig")),aa(2,(0,Zn.inject)("Logger")),Rf("design:paramtypes",[Object,Object,Object])],sa),Fr.WindowMessageAgentImpl=sa,Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.initializeDIContainer=void 0;const Ye=lt,Df=Er,kf=Mr,Bf=Cr,Hf=Rr,zf=Dr,Lf=Br,Nf=Hr,$f=Lr,Ff=$r,W0=Zt,Vf=Fr,qf=vr,Wf=a=>{Ye.container.clearInstances(),Ye.container.register("ChannelListenerMap",{useClass:Df.ChanneListenerMapImpl}),Ye.container.registerSingleton("CrossDispatcher",kf.CrossDispatcherImpl),Ye.container.register("CryptoAgent",{useClass:Bf.AESCryptoAgent}),a.databaseName&&a.storeName&&(Ye.container.register("DatabaseAgentConfig",{useValue:{databaseName:a.databaseName,storeName:a.storeName}}),Ye.container.register("DatabaseAgent",{useClass:Hf.IndexdDBDatabaseAgent})),Ye.container.register("ErrorListener",{useClass:qf.ErrorListener}),Ye.container.register("ErrorObserver",{useClass:zf.DisplayAlertErrorObserver}),Ye.container.register("Logger",{useClass:Lf.ConsoleInjectableLogger}),Ye.container.register("MessageValidatorManagerConfig",{useValue:{maxMessageValidators:3,validatorRefreshInterval:1}}),Ye.container.registerSingleton("MessageValidatorManager",Nf.MessageValidatorManagerImpl),Ye.container.register("MessageValidatorConfig",{useValue:{runtimeId:chrome.runtime.id,allowedOrigins:a.allowedOrigins}}),Ye.container.register("MessageValidator",{useClass:$f.MessageValidatorImpl}),Ye.container.register("RuntimeMessageAgent",{useClass:Ff.RuntimeMessageAgentImpl}),Ye.container.register("SessionStaticToken",{useClass:W0.SessionStaticToken}),Ye.container.register("SessionStaticKey",{useClass:W0.SessionStaticKey}),Ye.container.register("WindowMessageAgent",{useClass:Vf.WindowMessageAgentImpl})};Yn.initializeDIContainer=Wf;var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.ElementLoader=void 0;const Uf=zr,Xf=Un;class Gf{constructor(r){this.elements={},this.spec=r}async loadFromURL(r){const o=await(0,Uf.loadResourceText)(r);return this.loadFromString(o)}async loadFromString(r){const o=(0,Xf.htmlTextToHtmlElement)(r);for(const s in this.spec){const l=this.spec[s].elementType,u=o.querySelector(this.spec[s].id);if(!(u instanceof l))throw new TypeError(`The fetched element for ${s} does not match the expected type.`);this.elements[s]=u}return this}}Kn.ElementLoader=Gf;var Qn={};Object.defineProperty(Qn,"__esModule",{value:!0}),Qn.validateMethod=void 0;function Yf(a){return function(r,o,s){const l=s.value;Zf(l)?s.value=async function(...v){a.argsValidator&&a.argsValidator(v);const f=await l.apply(this,v);return a.resultValidator&&a.resultValidator(f),f}:s.value=function(...v){a.argsValidator&&a.argsValidator(v);const f=l.apply(this,v);return a.resultValidator&&a.resultValidator(f),f}}}Qn.validateMethod=Yf;function Zf(a){return Object.getPrototypeOf(a)===Object.getPrototypeOf(async function(){})}(function(a){var r=F&&F.__createBinding||(Object.create?function(s,l,u,v){v===void 0&&(v=u);var f=Object.getOwnPropertyDescriptor(l,u);(!f||("get"in f?!l.__esModule:f.writable||f.configurable))&&(f={enumerable:!0,get:function(){return l[u]}}),Object.defineProperty(s,v,f)}:function(s,l,u,v){v===void 0&&(v=u),s[v]=l[u]}),o=F&&F.__exportStar||function(s,l){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(l,u)&&r(l,s,u)};Object.defineProperty(a,"__esModule",{value:!0}),o(Er,a),o(Mr,a),o(Cr,a),o(Rr,a),o(Dr,a),o(Br,a),o(Hr,a),o(Lr,a),o($r,a),o(Zt,a),o(kr,a),o(zr,a),o(Yn,a),o(Un,a),o(Kn,a),o(vr,a),o(ur,a),o(At,a),o(Qn,a),o(Fr,a)})(Ee);const rt={ClipboardSave:"ClipboardSave",DatabaseOpen:"DatabaseOpen",DatabaseSave:"DatabaseSave",DatabaseLoad:"DatabaseLoad",EditorLoaded:"EditorLoaded",ShowPreview:"ShowPreview",TabChangedEvent:"TabChangedEvent",TabUpdate:"TabUpdate",URLUpdated:"URLUpdated"},Kt="language-",Jn={HTML:Kt+"html",CSS:Kt+"css",JS:Kt+"javascript",PREVIEW:Kt+"preview"},Kf="https://chat.openai.com",Qf=async(a,r=30,o=6e3)=>Ee.waitForAction(a,()=>document.body.querySelector("div .group.w-full")!=null,r,o),Jf=()=>document.querySelector("div .absolute.bottom-0.left-0.w-full"),ed=()=>Array.from(document.body.querySelectorAll("a")).find(o=>o.innerHTML.includes("New chat")),U0=a=>Ee.findMatchParent(a,".rounded-md.mb-4"),td=a=>{if(!(a.target instanceof HTMLElement)||!a.altKey)return null;const r=Ee.findParentPreElement(a.target),o=r==null?void 0:r.querySelectorAll(`[class*="${Kt}"]`);return o?o[0]:null},X0=a=>Array.from(a.classList).filter(o=>o.startsWith(Kt))[0]||"";var G0={exports:{}};(function(a,r){(function(o){a.exports=o()})(function(){var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0,o.default=function(e){return!(!e||!e.Window)&&e instanceof e.Window};var s={};Object.defineProperty(s,"__esModule",{value:!0}),s.getWindow=function(e){return(0,o.default)(e)?e:(e.ownerDocument||e).defaultView||u.window},s.init=v,s.window=s.realWindow=void 0;var l=void 0;s.realWindow=l;var u=void 0;function v(e){s.realWindow=l=e;var t=e.document.createTextNode("");t.ownerDocument!==e.document&&typeof e.wrap=="function"&&e.wrap(t)===t&&(e=e.wrap(e)),s.window=u=e}s.window=u,typeof window<"u"&&window&&v(window);var f={};function b(e){return b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b(e)}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0;var y=function(e){return!!e&&b(e)==="object"},x=function(e){return typeof e=="function"},I={window:function(e){return e===s.window||(0,o.default)(e)},docFrag:function(e){return y(e)&&e.nodeType===11},object:y,func:x,number:function(e){return typeof e=="number"},bool:function(e){return typeof e=="boolean"},string:function(e){return typeof e=="string"},element:function(e){if(!e||b(e)!=="object")return!1;var t=s.getWindow(e)||s.window;return/object|function/.test(typeof Element>"u"?"undefined":b(Element))?e instanceof Element||e instanceof t.Element:e.nodeType===1&&typeof e.nodeName=="string"},plainObject:function(e){return y(e)&&!!e.constructor&&/function Object\b/.test(e.constructor.toString())},array:function(e){return y(e)&&e.length!==void 0&&x(e.splice)}};f.default=I;var _={};function E(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.prepared.axis;n==="x"?(t.coords.cur.page.y=t.coords.start.page.y,t.coords.cur.client.y=t.coords.start.client.y,t.coords.velocity.client.y=0,t.coords.velocity.page.y=0):n==="y"&&(t.coords.cur.page.x=t.coords.start.page.x,t.coords.cur.client.x=t.coords.start.client.x,t.coords.velocity.client.x=0,t.coords.velocity.page.x=0)}}function O(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="drag"){var i=n.prepared.axis;if(i==="x"||i==="y"){var c=i==="x"?"y":"x";t.page[c]=n.coords.start.page[c],t.client[c]=n.coords.start.client[c],t.delta[c]=0}}}Object.defineProperty(_,"__esModule",{value:!0}),_.default=void 0;var S={id:"actions/drag",install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.draggable=S.draggable,t.map.drag=S,t.methodDict.drag="draggable",i.actions.drag=S.defaults},listeners:{"interactions:before-action-move":E,"interactions:action-resume":E,"interactions:action-move":O,"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.buttons,c=n.options.drag;if(c&&c.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||i&n.options.drag.mouseButtons))return e.action={name:"drag",axis:c.lockAxis==="start"?c.startAxis:c.lockAxis},!1}},draggable:function(e){return f.default.object(e)?(this.options.drag.enabled=e.enabled!==!1,this.setPerAction("drag",e),this.setOnEvents("drag",e),/^(xy|x|y|start)$/.test(e.lockAxis)&&(this.options.drag.lockAxis=e.lockAxis),/^(xy|x|y)$/.test(e.startAxis)&&(this.options.drag.startAxis=e.startAxis),this):f.default.bool(e)?(this.options.drag.enabled=e,this):this.options.drag},beforeMove:E,move:O,defaults:{startAxis:"xy",lockAxis:"xy"},getCursor:function(){return"move"}},C=S;_.default=C;var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default=void 0;var P={init:function(e){var t=e;P.document=t.document,P.DocumentFragment=t.DocumentFragment||j,P.SVGElement=t.SVGElement||j,P.SVGSVGElement=t.SVGSVGElement||j,P.SVGElementInstance=t.SVGElementInstance||j,P.Element=t.Element||j,P.HTMLElement=t.HTMLElement||P.Element,P.Event=t.Event,P.Touch=t.Touch||j,P.PointerEvent=t.PointerEvent||t.MSPointerEvent},document:null,DocumentFragment:null,SVGElement:null,SVGSVGElement:null,SVGElementInstance:null,Element:null,HTMLElement:null,Event:null,Touch:null,PointerEvent:null};function j(){}var T=P;k.default=T;var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default=void 0;var B={init:function(e){var t=k.default.Element,n=e.navigator||{};B.supportsTouch="ontouchstart"in e||f.default.func(e.DocumentTouch)&&k.default.document instanceof e.DocumentTouch,B.supportsPointerEvent=n.pointerEnabled!==!1&&!!k.default.PointerEvent,B.isIOS=/iP(hone|od|ad)/.test(n.platform),B.isIOS7=/iP(hone|od|ad)/.test(n.platform)&&/OS 7[^\d]/.test(n.appVersion),B.isIe9=/MSIE 9/.test(n.userAgent),B.isOperaMobile=n.appName==="Opera"&&B.supportsTouch&&/Presto/.test(n.userAgent),B.prefixedMatchesSelector="matches"in t.prototype?"matches":"webkitMatchesSelector"in t.prototype?"webkitMatchesSelector":"mozMatchesSelector"in t.prototype?"mozMatchesSelector":"oMatchesSelector"in t.prototype?"oMatchesSelector":"msMatchesSelector",B.pEventTypes=B.supportsPointerEvent?k.default.PointerEvent===e.MSPointerEvent?{up:"MSPointerUp",down:"MSPointerDown",over:"mouseover",out:"mouseout",move:"MSPointerMove",cancel:"MSPointerCancel"}:{up:"pointerup",down:"pointerdown",over:"pointerover",out:"pointerout",move:"pointermove",cancel:"pointercancel"}:null,B.wheelEvent=k.default.document&&"onmousewheel"in k.default.document?"mousewheel":"wheel"},supportsTouch:null,supportsPointerEvent:null,isIOS7:null,isIOS:null,isIe9:null,isOperaMobile:null,prefixedMatchesSelector:null,pEventTypes:null,wheelEvent:null},V=B;L.default=V;var R={};function Q(e){var t=e.parentNode;if(f.default.docFrag(t)){for(;(t=t.host)&&f.default.docFrag(t););return t}return t}function D(e,t){return s.window!==s.realWindow&&(t=t.replace(/\/deep\//g," ")),e[L.default.prefixedMatchesSelector](t)}Object.defineProperty(R,"__esModule",{value:!0}),R.closest=function(e,t){for(;f.default.element(e);){if(D(e,t))return e;e=Q(e)}return null},R.getActualElement=function(e){return e.correspondingUseElement||e},R.getElementClientRect=ae,R.getElementRect=function(e){var t=ae(e);if(!L.default.isIOS7&&t){var n=Z(s.getWindow(e));t.left+=n.x,t.right+=n.x,t.top+=n.y,t.bottom+=n.y}return t},R.getPath=function(e){for(var t=[];e;)t.push(e),e=Q(e);return t},R.getScrollXY=Z,R.indexOfDeepestElement=function(e){for(var t,n=[],i=0;i<e.length;i++){var c=e[i],d=e[t];if(c&&i!==t)if(d){var g=$(c),p=$(d);if(g!==c.ownerDocument)if(p!==c.ownerDocument)if(g!==p){n=n.length?n:G(d);var h=void 0;if(d instanceof k.default.HTMLElement&&c instanceof k.default.SVGElement&&!(c instanceof k.default.SVGSVGElement)){if(c===p)continue;h=c.ownerSVGElement}else h=c;for(var m=G(h,d.ownerDocument),w=0;m[w]&&m[w]===n[w];)w++;var M=[m[w-1],m[w],n[w]];if(M[0])for(var N=M[0].lastChild;N;){if(N===M[1]){t=i,n=m;break}if(N===M[2])break;N=N.previousSibling}}else W=c,z=d,(parseInt(s.getWindow(W).getComputedStyle(W).zIndex,10)||0)>=(parseInt(s.getWindow(z).getComputedStyle(z).zIndex,10)||0)&&(t=i);else t=i}else t=i}var W,z;return t},R.matchesSelector=D,R.matchesUpTo=function(e,t,n){for(;f.default.element(e);){if(D(e,t))return!0;if((e=Q(e))===n)return D(e,t)}return!1},R.nodeContains=function(e,t){if(e.contains)return e.contains(t);for(;t;){if(t===e)return!0;t=t.parentNode}return!1},R.parentNode=Q,R.trySelector=function(e){return!!f.default.string(e)&&(k.default.document.querySelector(e),!0)};var $=function(e){return e.parentNode||e.host};function G(e,t){for(var n,i=[],c=e;(n=$(c))&&c!==t&&n!==c.ownerDocument;)i.unshift(c),c=n;return i}function Z(e){return{x:(e=e||s.window).scrollX||e.document.documentElement.scrollLeft,y:e.scrollY||e.document.documentElement.scrollTop}}function ae(e){var t=e instanceof k.default.SVGElement?e.getBoundingClientRect():e.getClientRects()[0];return t&&{left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.width||t.right-t.left,height:t.height||t.bottom-t.top}}var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.default=function(e,t){for(var n in t)e[n]=t[n];return e};var ie={};function Me(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function we(e,t,n){return e==="parent"?(0,R.parentNode)(n):e==="self"?t.getRect(n):(0,R.closest)(n,e)}Object.defineProperty(ie,"__esModule",{value:!0}),ie.addEdges=function(e,t,n){e.left&&(t.left+=n.x),e.right&&(t.right+=n.x),e.top&&(t.top+=n.y),e.bottom&&(t.bottom+=n.y),t.width=t.right-t.left,t.height=t.bottom-t.top},ie.getStringOptionResult=we,ie.rectToXY=function(e){return e&&{x:"x"in e?e.x:e.left,y:"y"in e?e.y:e.top}},ie.resolveRectLike=function(e,t,n,i){var c,d=e;return f.default.string(d)?d=we(d,t,n):f.default.func(d)&&(d=d.apply(void 0,function(g){if(Array.isArray(g))return Me(g)}(c=i)||function(g){if(typeof Symbol<"u"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}(c)||function(g,p){if(g){if(typeof g=="string")return Me(g,p);var h=Object.prototype.toString.call(g).slice(8,-1);return h==="Object"&&g.constructor&&(h=g.constructor.name),h==="Map"||h==="Set"?Array.from(g):h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)?Me(g,p):void 0}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}())),f.default.element(d)&&(d=(0,R.getElementRect)(d)),d},ie.tlbrToXywh=function(e){return!e||"x"in e&&"y"in e||((e=(0,Y.default)({},e)).x=e.left||0,e.y=e.top||0,e.width=e.width||(e.right||0)-e.x,e.height=e.height||(e.bottom||0)-e.y),e},ie.xywhToTlbr=function(e){return!e||"left"in e&&"top"in e||((e=(0,Y.default)({},e)).left=e.x||0,e.top=e.y||0,e.right=e.right||e.left+e.width,e.bottom=e.bottom||e.top+e.height),e};var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.default=function(e,t,n){var i=e.options[n],c=i&&i.origin||e.options.origin,d=(0,ie.resolveRectLike)(c,e,t,[e&&t]);return(0,ie.rectToXY)(d)||{x:0,y:0}};var he={};function q(e){return e.trim().split(/ +/)}Object.defineProperty(he,"__esModule",{value:!0}),he.default=function e(t,n,i){if(i=i||{},f.default.string(t)&&t.search(" ")!==-1&&(t=q(t)),f.default.array(t))return t.reduce(function(h,m){return(0,Y.default)(h,e(m,n,i))},i);if(f.default.object(t)&&(n=t,t=""),f.default.func(n))i[t]=i[t]||[],i[t].push(n);else if(f.default.array(n))for(var c=0;c<n.length;c++){var d;d=n[c],e(t,d,i)}else if(f.default.object(n))for(var g in n){var p=q(g).map(function(h){return"".concat(t).concat(h)});e(p,n[g],i)}return i};var X={};Object.defineProperty(X,"__esModule",{value:!0}),X.default=void 0,X.default=function(e,t){return Math.sqrt(e*e+t*t)};var J={};Object.defineProperty(J,"__esModule",{value:!0}),J.default=function(e,t){e.__set||(e.__set={});var n=function(c){typeof e[c]!="function"&&c!=="__set"&&Object.defineProperty(e,c,{get:function(){return c in e.__set?e.__set[c]:e.__set[c]=t[c]},set:function(d){e.__set[c]=d},configurable:!0})};for(var i in t)n(i);return e};var A={};function Ie(e){return e instanceof k.default.Event||e instanceof k.default.Touch}function Pe(e,t,n){return e=e||"page",(n=n||{}).x=t[e+"X"],n.y=t[e+"Y"],n}function Ve(e,t){return t=t||{x:0,y:0},L.default.isOperaMobile&&Ie(e)?(Pe("screen",e,t),t.x+=window.scrollX,t.y+=window.scrollY):Pe("page",e,t),t}function pe(e,t){return t=t||{},L.default.isOperaMobile&&Ie(e)?Pe("screen",e,t):Pe("client",e,t),t}function Ne(e){var t=[];return f.default.array(e)?(t[0]=e[0],t[1]=e[1]):e.type==="touchend"?e.touches.length===1?(t[0]=e.touches[0],t[1]=e.changedTouches[0]):e.touches.length===0&&(t[0]=e.changedTouches[0],t[1]=e.changedTouches[1]):(t[0]=e.touches[0],t[1]=e.touches[1]),t}function gt(e){for(var t={pageX:0,pageY:0,clientX:0,clientY:0,screenX:0,screenY:0},n=0;n<e.length;n++){var i=e[n];for(var c in t)t[c]+=i[c]}for(var d in t)t[d]/=e.length;return t}Object.defineProperty(A,"__esModule",{value:!0}),A.coordsToEvent=function(e){return{coords:e,get page(){return this.coords.page},get client(){return this.coords.client},get timeStamp(){return this.coords.timeStamp},get pageX(){return this.coords.page.x},get pageY(){return this.coords.page.y},get clientX(){return this.coords.client.x},get clientY(){return this.coords.client.y},get pointerId(){return this.coords.pointerId},get target(){return this.coords.target},get type(){return this.coords.type},get pointerType(){return this.coords.pointerType},get buttons(){return this.coords.buttons},preventDefault:function(){}}},A.copyCoords=function(e,t){e.page=e.page||{},e.page.x=t.page.x,e.page.y=t.page.y,e.client=e.client||{},e.client.x=t.client.x,e.client.y=t.client.y,e.timeStamp=t.timeStamp},A.getClientXY=pe,A.getEventTargets=function(e){var t=f.default.func(e.composedPath)?e.composedPath():e.path;return[R.getActualElement(t?t[0]:e.target),R.getActualElement(e.currentTarget)]},A.getPageXY=Ve,A.getPointerId=function(e){return f.default.number(e.pointerId)?e.pointerId:e.identifier},A.getPointerType=function(e){return f.default.string(e.pointerType)?e.pointerType:f.default.number(e.pointerType)?[void 0,void 0,"touch","pen","mouse"][e.pointerType]:/touch/.test(e.type||"")||e instanceof k.default.Touch?"touch":"mouse"},A.getTouchPair=Ne,A.getXY=Pe,A.isNativePointer=Ie,A.newCoords=function(){return{page:{x:0,y:0},client:{x:0,y:0},timeStamp:0}},A.pointerAverage=gt,Object.defineProperty(A,"pointerExtend",{enumerable:!0,get:function(){return J.default}}),A.setCoordDeltas=function(e,t,n){e.page.x=n.page.x-t.page.x,e.page.y=n.page.y-t.page.y,e.client.x=n.client.x-t.client.x,e.client.y=n.client.y-t.client.y,e.timeStamp=n.timeStamp-t.timeStamp},A.setCoordVelocity=function(e,t){var n=Math.max(t.timeStamp/1e3,.001);e.page.x=t.page.x/n,e.page.y=t.page.y/n,e.client.x=t.client.x/n,e.client.y=t.client.y/n,e.timeStamp=n},A.setCoords=function(e,t,n){var i=t.length>1?gt(t):t[0];Ve(i,e.page),pe(i,e.client),e.timeStamp=n},A.setZeroCoords=function(e){e.page.x=0,e.page.y=0,e.client.x=0,e.client.y=0},A.touchAngle=function(e,t){var n=t+"X",i=t+"Y",c=Ne(e),d=c[1][n]-c[0][n],g=c[1][i]-c[0][i];return 180*Math.atan2(g,d)/Math.PI},A.touchBBox=function(e){if(!e.length)return null;var t=Ne(e),n=Math.min(t[0].pageX,t[1].pageX),i=Math.min(t[0].pageY,t[1].pageY),c=Math.max(t[0].pageX,t[1].pageX),d=Math.max(t[0].pageY,t[1].pageY);return{x:n,y:i,left:n,top:i,right:c,bottom:d,width:c-n,height:d-i}},A.touchDistance=function(e,t){var n=t+"X",i=t+"Y",c=Ne(e),d=c[0][n]-c[1][n],g=c[0][i]-c[1][i];return(0,X.default)(d,g)};var Ze={};function Ot(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.BaseEvent=void 0;var qe=function(){function e(i){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),nt(this,"immediatePropagationStopped",!1),nt(this,"propagationStopped",!1),this._interaction=i}var t,n;return t=e,(n=[{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Ot(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Ze.BaseEvent=qe,Object.defineProperty(qe.prototype,"interaction",{get:function(){return this._interaction._proxy},set:function(){}});var Se={};Object.defineProperty(Se,"__esModule",{value:!0}),Se.remove=Se.merge=Se.from=Se.findIndex=Se.find=Se.contains=void 0,Se.contains=function(e,t){return e.indexOf(t)!==-1},Se.remove=function(e,t){return e.splice(e.indexOf(t),1)};var Pt=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.push(i)}return e};Se.merge=Pt,Se.from=function(e){return Pt([],e)};var Rt=function(e,t){for(var n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1};Se.findIndex=Rt,Se.find=function(e,t){return e[Rt(e,t)]};var Ke={};function mt(e){return mt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mt(e)}function Dt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Qe(e,t){return Qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Qe(e,t)}function it(e,t){if(t&&(mt(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}function $e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},H(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Ke,"__esModule",{value:!0}),Ke.DropEvent=void 0;var K=function(e){(function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&Qe(p,h)})(g,e);var t,n,i,c,d=(i=g,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,h=H(i);if(c){var m=H(this).constructor;p=Reflect.construct(h,arguments,m)}else p=h.apply(this,arguments);return it(this,p)});function g(p,h,m){var w;(function(z,ee){if(!(z instanceof ee))throw new TypeError("Cannot call a class as a function")})(this,g),U($e(w=d.call(this,h._interaction)),"dropzone",void 0),U($e(w),"dragEvent",void 0),U($e(w),"relatedTarget",void 0),U($e(w),"draggable",void 0),U($e(w),"propagationStopped",!1),U($e(w),"immediatePropagationStopped",!1);var M=m==="dragleave"?p.prev:p.cur,N=M.element,W=M.dropzone;return w.type=m,w.target=N,w.currentTarget=N,w.dropzone=W,w.dragEvent=h,w.relatedTarget=h.target,w.draggable=h.interactable,w.timeStamp=h.timeStamp,w}return t=g,(n=[{key:"reject",value:function(){var p=this,h=this._interaction.dropState;if(this.type==="dropactivate"||this.dropzone&&h.cur.dropzone===this.dropzone&&h.cur.element===this.target)if(h.prev.dropzone=this.dropzone,h.prev.element=this.target,h.rejected=!0,h.events.enter=null,this.stopImmediatePropagation(),this.type==="dropactivate"){var m=h.activeDrops,w=Se.findIndex(m,function(N){var W=N.dropzone,z=N.element;return W===p.dropzone&&z===p.target});h.activeDrops.splice(w,1);var M=new g(h,this.dragEvent,"dropdeactivate");M.dropzone=this.dropzone,M.target=this.target,this.dropzone.fire(M)}else this.dropzone.fire(new g(h,this.dragEvent,"dragleave"))}},{key:"preventDefault",value:function(){}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}}])&&Dt(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(Ze.BaseEvent);Ke.DropEvent=K;var re={};function ce(e,t){for(var n=0;n<e.slice().length;n++){var i=e.slice()[n],c=i.dropzone,d=i.element;t.dropzone=c,t.target=d,c.fire(t),t.propagationStopped=t.immediatePropagationStopped=!1}}function He(e,t){for(var n=function(d,g){for(var p=d.interactables,h=[],m=0;m<p.list.length;m++){var w=p.list[m];if(w.options.drop.enabled){var M=w.options.drop.accept;if(!(f.default.element(M)&&M!==g||f.default.string(M)&&!R.matchesSelector(g,M)||f.default.func(M)&&!M({dropzone:w,draggableElement:g})))for(var N=f.default.string(w.target)?w._context.querySelectorAll(w.target):f.default.array(w.target)?w.target:[w.target],W=0;W<N.length;W++){var z=N[W];z!==g&&h.push({dropzone:w,element:z,rect:w.getRect(z)})}}}return h}(e,t),i=0;i<n.length;i++){var c=n[i];c.rect=c.dropzone.getRect(c.element)}return n}function de(e,t,n){for(var i=e.dropState,c=e.interactable,d=e.element,g=[],p=0;p<i.activeDrops.length;p++){var h=i.activeDrops[p],m=h.dropzone,w=h.element,M=h.rect;g.push(m.dropCheck(t,n,c,d,w,M)?w:null)}var N=R.indexOfDeepestElement(g);return i.activeDrops[N]||null}function fe(e,t,n){var i=e.dropState,c={enter:null,leave:null,activate:null,deactivate:null,move:null,drop:null};return n.type==="dragstart"&&(c.activate=new Ke.DropEvent(i,n,"dropactivate"),c.activate.target=null,c.activate.dropzone=null),n.type==="dragend"&&(c.deactivate=new Ke.DropEvent(i,n,"dropdeactivate"),c.deactivate.target=null,c.deactivate.dropzone=null),i.rejected||(i.cur.element!==i.prev.element&&(i.prev.dropzone&&(c.leave=new Ke.DropEvent(i,n,"dragleave"),n.dragLeave=c.leave.target=i.prev.element,n.prevDropzone=c.leave.dropzone=i.prev.dropzone),i.cur.dropzone&&(c.enter=new Ke.DropEvent(i,n,"dragenter"),n.dragEnter=i.cur.element,n.dropzone=i.cur.dropzone)),n.type==="dragend"&&i.cur.dropzone&&(c.drop=new Ke.DropEvent(i,n,"drop"),n.dropzone=i.cur.dropzone,n.relatedTarget=i.cur.element),n.type==="dragmove"&&i.cur.dropzone&&(c.move=new Ke.DropEvent(i,n,"dropmove"),c.move.dragmove=n,n.dropzone=i.cur.dropzone)),c}function se(e,t){var n=e.dropState,i=n.activeDrops,c=n.cur,d=n.prev;t.leave&&d.dropzone.fire(t.leave),t.enter&&c.dropzone.fire(t.enter),t.move&&c.dropzone.fire(t.move),t.drop&&c.dropzone.fire(t.drop),t.deactivate&&ce(i,t.deactivate),n.prev.dropzone=c.dropzone,n.prev.element=c.element}function xe(e,t){var n=e.interaction,i=e.iEvent,c=e.event;if(i.type==="dragmove"||i.type==="dragend"){var d=n.dropState;t.dynamicDrop&&(d.activeDrops=He(t,n.element));var g=i,p=de(n,g,c);d.rejected=d.rejected&&!!p&&p.dropzone===d.cur.dropzone&&p.element===d.cur.element,d.cur.dropzone=p&&p.dropzone,d.cur.element=p&&p.element,d.events=fe(n,0,g)}}Object.defineProperty(re,"__esModule",{value:!0}),re.default=void 0;var ge={id:"actions/drop",install:function(e){var t=e.actions,n=e.interactStatic,i=e.Interactable,c=e.defaults;e.usePlugin(_.default),i.prototype.dropzone=function(d){return function(g,p){if(f.default.object(p)){if(g.options.drop.enabled=p.enabled!==!1,p.listeners){var h=(0,he.default)(p.listeners),m=Object.keys(h).reduce(function(w,M){return w[/^(enter|leave)/.test(M)?"drag".concat(M):/^(activate|deactivate|move)/.test(M)?"drop".concat(M):M]=h[M],w},{});g.off(g.options.drop.listeners),g.on(m),g.options.drop.listeners=m}return f.default.func(p.ondrop)&&g.on("drop",p.ondrop),f.default.func(p.ondropactivate)&&g.on("dropactivate",p.ondropactivate),f.default.func(p.ondropdeactivate)&&g.on("dropdeactivate",p.ondropdeactivate),f.default.func(p.ondragenter)&&g.on("dragenter",p.ondragenter),f.default.func(p.ondragleave)&&g.on("dragleave",p.ondragleave),f.default.func(p.ondropmove)&&g.on("dropmove",p.ondropmove),/^(pointer|center)$/.test(p.overlap)?g.options.drop.overlap=p.overlap:f.default.number(p.overlap)&&(g.options.drop.overlap=Math.max(Math.min(1,p.overlap),0)),"accept"in p&&(g.options.drop.accept=p.accept),"checker"in p&&(g.options.drop.checker=p.checker),g}return f.default.bool(p)?(g.options.drop.enabled=p,g):g.options.drop}(this,d)},i.prototype.dropCheck=function(d,g,p,h,m,w){return function(M,N,W,z,ee,ne,te){var oe=!1;if(!(te=te||M.getRect(ne)))return!!M.options.drop.checker&&M.options.drop.checker(N,W,oe,M,ne,z,ee);var ue=M.options.drop.overlap;if(ue==="pointer"){var ve=(0,ye.default)(z,ee,"drag"),Ce=A.getPageXY(N);Ce.x+=ve.x,Ce.y+=ve.y;var ke=Ce.x>te.left&&Ce.x<te.right,_e=Ce.y>te.top&&Ce.y<te.bottom;oe=ke&&_e}var De=z.getRect(ee);if(De&&ue==="center"){var yt=De.left+De.width/2,zt=De.top+De.height/2;oe=yt>=te.left&&yt<=te.right&&zt>=te.top&&zt<=te.bottom}return De&&f.default.number(ue)&&(oe=Math.max(0,Math.min(te.right,De.right)-Math.max(te.left,De.left))*Math.max(0,Math.min(te.bottom,De.bottom)-Math.max(te.top,De.top))/(De.width*De.height)>=ue),M.options.drop.checker&&(oe=M.options.drop.checker(N,W,oe,M,ne,z,ee)),oe}(this,d,g,p,h,m,w)},n.dynamicDrop=function(d){return f.default.bool(d)?(e.dynamicDrop=d,n):e.dynamicDrop},(0,Y.default)(t.phaselessTypes,{dragenter:!0,dragleave:!0,dropactivate:!0,dropdeactivate:!0,dropmove:!0,drop:!0}),t.methodDict.drop="dropzone",e.dynamicDrop=!1,c.actions.drop=ge.defaults},listeners:{"interactions:before-action-start":function(e){var t=e.interaction;t.prepared.name==="drag"&&(t.dropState={cur:{dropzone:null,element:null},prev:{dropzone:null,element:null},rejected:null,events:null,activeDrops:[]})},"interactions:after-action-start":function(e,t){var n=e.interaction,i=(e.event,e.iEvent);if(n.prepared.name==="drag"){var c=n.dropState;c.activeDrops=null,c.events=null,c.activeDrops=He(t,n.element),c.events=fe(n,0,i),c.events.activate&&(ce(c.activeDrops,c.events.activate),t.fire("actions/drop:start",{interaction:n,dragEvent:i}))}},"interactions:action-move":xe,"interactions:after-action-move":function(e,t){var n=e.interaction,i=e.iEvent;n.prepared.name==="drag"&&(se(n,n.dropState.events),t.fire("actions/drop:move",{interaction:n,dragEvent:i}),n.dropState.events={})},"interactions:action-end":function(e,t){if(e.interaction.prepared.name==="drag"){var n=e.interaction,i=e.iEvent;xe(e,t),se(n,n.dropState.events),t.fire("actions/drop:end",{interaction:n,dragEvent:i})}},"interactions:stop":function(e){var t=e.interaction;if(t.prepared.name==="drag"){var n=t.dropState;n&&(n.activeDrops=null,n.events=null,n.cur.dropzone=null,n.cur.element=null,n.prev.dropzone=null,n.prev.element=null,n.rejected=!1)}}},getActiveDrops:He,getDrop:de,getDropEvents:fe,fireDropEvents:se,defaults:{enabled:!1,accept:null,overlap:"pointer"}},dt=ge;re.default=dt;var kt={};function qr(e){var t=e.interaction,n=e.iEvent,i=e.phase;if(t.prepared.name==="gesture"){var c=t.pointers.map(function(m){return m.pointer}),d=i==="start",g=i==="end",p=t.interactable.options.deltaSource;if(n.touches=[c[0],c[1]],d)n.distance=A.touchDistance(c,p),n.box=A.touchBBox(c),n.scale=1,n.ds=0,n.angle=A.touchAngle(c,p),n.da=0,t.gesture.startDistance=n.distance,t.gesture.startAngle=n.angle;else if(g){var h=t.prevEvent;n.distance=h.distance,n.box=h.box,n.scale=h.scale,n.ds=0,n.angle=h.angle,n.da=0}else n.distance=A.touchDistance(c,p),n.box=A.touchBBox(c),n.scale=n.distance/t.gesture.startDistance,n.angle=A.touchAngle(c,p),n.ds=n.scale-t.gesture.scale,n.da=n.angle-t.gesture.angle;t.gesture.distance=n.distance,t.gesture.angle=n.angle,f.default.number(n.scale)&&n.scale!==1/0&&!isNaN(n.scale)&&(t.gesture.scale=n.scale)}}Object.defineProperty(kt,"__esModule",{value:!0}),kt.default=void 0;var hr={id:"actions/gesture",before:["actions/drag","actions/resize"],install:function(e){var t=e.actions,n=e.Interactable,i=e.defaults;n.prototype.gesturable=function(c){return f.default.object(c)?(this.options.gesture.enabled=c.enabled!==!1,this.setPerAction("gesture",c),this.setOnEvents("gesture",c),this):f.default.bool(c)?(this.options.gesture.enabled=c,this):this.options.gesture},t.map.gesture=hr,t.methodDict.gesture="gesturable",i.actions.gesture=hr.defaults},listeners:{"interactions:action-start":qr,"interactions:action-move":qr,"interactions:action-end":qr,"interactions:new":function(e){e.interaction.gesture={angle:0,distance:0,scale:1,startAngle:0,startDistance:0}},"auto-start:check":function(e){if(!(e.interaction.pointers.length<2)){var t=e.interactable.options.gesture;if(t&&t.enabled)return e.action={name:"gesture"},!1}}},defaults:{},getCursor:function(){return""}},da=hr;kt.default=da;var Qt={};function pa(e,t,n,i,c,d,g){if(!t)return!1;if(t===!0){var p=f.default.number(d.width)?d.width:d.right-d.left,h=f.default.number(d.height)?d.height:d.bottom-d.top;if(g=Math.min(g,Math.abs((e==="left"||e==="right"?p:h)/2)),p<0&&(e==="left"?e="right":e==="right"&&(e="left")),h<0&&(e==="top"?e="bottom":e==="bottom"&&(e="top")),e==="left"){var m=p>=0?d.left:d.right;return n.x<m+g}if(e==="top"){var w=h>=0?d.top:d.bottom;return n.y<w+g}if(e==="right")return n.x>(p>=0?d.right:d.left)-g;if(e==="bottom")return n.y>(h>=0?d.bottom:d.top)-g}return!!f.default.element(i)&&(f.default.element(t)?t===i:R.matchesUpTo(i,t,c))}function Wr(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.resizeAxes){var i=t;n.interactable.options.resize.square?(n.resizeAxes==="y"?i.delta.x=i.delta.y:i.delta.y=i.delta.x,i.axes="xy"):(i.axes=n.resizeAxes,n.resizeAxes==="x"?i.delta.y=0:n.resizeAxes==="y"&&(i.delta.x=0))}}Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.default=void 0;var bt={id:"actions/resize",before:["actions/drag"],install:function(e){var t=e.actions,n=e.browser,i=e.Interactable,c=e.defaults;bt.cursors=function(d){return d.isIe9?{x:"e-resize",y:"s-resize",xy:"se-resize",top:"n-resize",left:"w-resize",bottom:"s-resize",right:"e-resize",topleft:"se-resize",bottomright:"se-resize",topright:"ne-resize",bottomleft:"ne-resize"}:{x:"ew-resize",y:"ns-resize",xy:"nwse-resize",top:"ns-resize",left:"ew-resize",bottom:"ns-resize",right:"ew-resize",topleft:"nwse-resize",bottomright:"nwse-resize",topright:"nesw-resize",bottomleft:"nesw-resize"}}(n),bt.defaultMargin=n.supportsTouch||n.supportsPointerEvent?20:10,i.prototype.resizable=function(d){return function(g,p,h){return f.default.object(p)?(g.options.resize.enabled=p.enabled!==!1,g.setPerAction("resize",p),g.setOnEvents("resize",p),f.default.string(p.axis)&&/^x$|^y$|^xy$/.test(p.axis)?g.options.resize.axis=p.axis:p.axis===null&&(g.options.resize.axis=h.defaults.actions.resize.axis),f.default.bool(p.preserveAspectRatio)?g.options.resize.preserveAspectRatio=p.preserveAspectRatio:f.default.bool(p.square)&&(g.options.resize.square=p.square),g):f.default.bool(p)?(g.options.resize.enabled=p,g):g.options.resize}(this,d,e)},t.map.resize=bt,t.methodDict.resize="resizable",c.actions.resize=bt.defaults},listeners:{"interactions:new":function(e){e.interaction.resizeAxes="xy"},"interactions:action-start":function(e){(function(t){var n=t.iEvent,i=t.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var c=n,d=i.rect;i._rects={start:(0,Y.default)({},d),corrected:(0,Y.default)({},d),previous:(0,Y.default)({},d),delta:{left:0,right:0,width:0,top:0,bottom:0,height:0}},c.edges=i.prepared.edges,c.rect=i._rects.corrected,c.deltaRect=i._rects.delta}})(e),Wr(e)},"interactions:action-move":function(e){(function(t){var n=t.iEvent,i=t.interaction;if(i.prepared.name==="resize"&&i.prepared.edges){var c=n,d=i.interactable.options.resize.invert,g=d==="reposition"||d==="negate",p=i.rect,h=i._rects,m=h.start,w=h.corrected,M=h.delta,N=h.previous;if((0,Y.default)(N,w),g){if((0,Y.default)(w,p),d==="reposition"){if(w.top>w.bottom){var W=w.top;w.top=w.bottom,w.bottom=W}if(w.left>w.right){var z=w.left;w.left=w.right,w.right=z}}}else w.top=Math.min(p.top,m.bottom),w.bottom=Math.max(p.bottom,m.top),w.left=Math.min(p.left,m.right),w.right=Math.max(p.right,m.left);for(var ee in w.width=w.right-w.left,w.height=w.bottom-w.top,w)M[ee]=w[ee]-N[ee];c.edges=i.prepared.edges,c.rect=w,c.deltaRect=M}})(e),Wr(e)},"interactions:action-end":function(e){var t=e.iEvent,n=e.interaction;if(n.prepared.name==="resize"&&n.prepared.edges){var i=t;i.edges=n.prepared.edges,i.rect=n._rects.corrected,i.deltaRect=n._rects.delta}},"auto-start:check":function(e){var t=e.interaction,n=e.interactable,i=e.element,c=e.rect,d=e.buttons;if(c){var g=(0,Y.default)({},t.coords.cur.page),p=n.options.resize;if(p&&p.enabled&&(!t.pointerIsDown||!/mouse|pointer/.test(t.pointerType)||d&p.mouseButtons)){if(f.default.object(p.edges)){var h={left:!1,right:!1,top:!1,bottom:!1};for(var m in h)h[m]=pa(m,p.edges[m],g,t._latestPointer.eventTarget,i,c,p.margin||bt.defaultMargin);h.left=h.left&&!h.right,h.top=h.top&&!h.bottom,(h.left||h.right||h.top||h.bottom)&&(e.action={name:"resize",edges:h})}else{var w=p.axis!=="y"&&g.x>c.right-bt.defaultMargin,M=p.axis!=="x"&&g.y>c.bottom-bt.defaultMargin;(w||M)&&(e.action={name:"resize",axes:(w?"x":"")+(M?"y":"")})}return!e.action&&void 0}}}},defaults:{square:!1,preserveAspectRatio:!1,axis:"xy",margin:NaN,edges:null,invert:"none"},cursors:null,getCursor:function(e){var t=e.edges,n=e.axis,i=e.name,c=bt.cursors,d=null;if(n)d=c[i+n];else if(t){for(var g="",p=["top","bottom","left","right"],h=0;h<p.length;h++){var m=p[h];t[m]&&(g+=m)}d=c[g]}return d},defaultMargin:null},va=bt;Qt.default=va;var Jt={};Object.defineProperty(Jt,"__esModule",{value:!0}),Jt.default=void 0;var ei={id:"actions",install:function(e){e.usePlugin(kt.default),e.usePlugin(Qt.default),e.usePlugin(_.default),e.usePlugin(re.default)}};Jt.default=ei;var pt={};Object.defineProperty(pt,"__esModule",{value:!0}),pt.default=void 0;var _t,St,ti=0,ri={request:function(e){return _t(e)},cancel:function(e){return St(e)},init:function(e){if(_t=e.requestAnimationFrame,St=e.cancelAnimationFrame,!_t)for(var t=["ms","moz","webkit","o"],n=0;n<t.length;n++){var i=t[n];_t=e["".concat(i,"RequestAnimationFrame")],St=e["".concat(i,"CancelAnimationFrame")]||e["".concat(i,"CancelRequestAnimationFrame")]}_t=_t&&_t.bind(e),St=St&&St.bind(e),_t||(_t=function(c){var d=Date.now(),g=Math.max(0,16-(d-ti)),p=e.setTimeout(function(){c(d+g)},g);return ti=d+g,p},St=function(c){return clearTimeout(c)})}};pt.default=ri;var ze={};Object.defineProperty(ze,"__esModule",{value:!0}),ze.default=void 0,ze.getContainer=er,ze.getScroll=tr,ze.getScrollSize=function(e){return f.default.window(e)&&(e=window.document.body),{x:e.scrollWidth,y:e.scrollHeight}},ze.getScrollSizeDelta=function(e,t){var n=e.interaction,i=e.element,c=n&&n.interactable.options[n.prepared.name].autoScroll;if(!c||!c.enabled)return t(),{x:0,y:0};var d=er(c.container,n.interactable,i),g=tr(d);t();var p=tr(d);return{x:p.x-g.x,y:p.y-g.y}};var le={defaults:{enabled:!1,margin:60,container:null,speed:300},now:Date.now,interaction:null,i:0,x:0,y:0,isScrolling:!1,prevTime:0,margin:0,speed:0,start:function(e){le.isScrolling=!0,pt.default.cancel(le.i),e.autoScroll=le,le.interaction=e,le.prevTime=le.now(),le.i=pt.default.request(le.scroll)},stop:function(){le.isScrolling=!1,le.interaction&&(le.interaction.autoScroll=null),pt.default.cancel(le.i)},scroll:function(){var e=le.interaction,t=e.interactable,n=e.element,i=e.prepared.name,c=t.options[i].autoScroll,d=er(c.container,t,n),g=le.now(),p=(g-le.prevTime)/1e3,h=c.speed*p;if(h>=1){var m={x:le.x*h,y:le.y*h};if(m.x||m.y){var w=tr(d);f.default.window(d)?d.scrollBy(m.x,m.y):d&&(d.scrollLeft+=m.x,d.scrollTop+=m.y);var M=tr(d),N={x:M.x-w.x,y:M.y-w.y};(N.x||N.y)&&t.fire({type:"autoscroll",target:n,interactable:t,delta:N,interaction:e,container:d})}le.prevTime=g}le.isScrolling&&(pt.default.cancel(le.i),le.i=pt.default.request(le.scroll))},check:function(e,t){var n;return(n=e.options[t].autoScroll)==null?void 0:n.enabled},onInteractionMove:function(e){var t=e.interaction,n=e.pointer;if(t.interacting()&&le.check(t.interactable,t.prepared.name))if(t.simulation)le.x=le.y=0;else{var i,c,d,g,p=t.interactable,h=t.element,m=t.prepared.name,w=p.options[m].autoScroll,M=er(w.container,p,h);if(f.default.window(M))g=n.clientX<le.margin,i=n.clientY<le.margin,c=n.clientX>M.innerWidth-le.margin,d=n.clientY>M.innerHeight-le.margin;else{var N=R.getElementClientRect(M);g=n.clientX<N.left+le.margin,i=n.clientY<N.top+le.margin,c=n.clientX>N.right-le.margin,d=n.clientY>N.bottom-le.margin}le.x=c?1:g?-1:0,le.y=d?1:i?-1:0,le.isScrolling||(le.margin=w.margin,le.speed=w.speed,le.start(t))}}};function er(e,t,n){return(f.default.string(e)?(0,ie.getStringOptionResult)(e,t,n):e)||(0,s.getWindow)(n)}function tr(e){return f.default.window(e)&&(e=window.document.body),{x:e.scrollLeft,y:e.scrollTop}}var _d={id:"auto-scroll",install:function(e){var t=e.defaults,n=e.actions;e.autoScroll=le,le.now=function(){return e.now()},n.phaselessTypes.autoscroll=!0,t.perAction.autoScroll=le.defaults},listeners:{"interactions:new":function(e){e.interaction.autoScroll=null},"interactions:destroy":function(e){e.interaction.autoScroll=null,le.stop(),le.interaction&&(le.interaction=null)},"interactions:stop":le.stop,"interactions:action-move":function(e){return le.onInteractionMove(e)}}},wd=_d;ze.default=wd;var vt={};Object.defineProperty(vt,"__esModule",{value:!0}),vt.copyAction=function(e,t){return e.name=t.name,e.axis=t.axis,e.edges=t.edges,e},vt.sign=void 0,vt.warnOnce=function(e,t){var n=!1;return function(){return n||(s.window.console.warn(t),n=!0),e.apply(this,arguments)}},vt.sign=function(e){return e>=0?1:-1};var ni={};function Ed(e){return f.default.bool(e)?(this.options.styleCursor=e,this):e===null?(delete this.options.styleCursor,this):this.options.styleCursor}function Od(e){return f.default.func(e)?(this.options.actionChecker=e,this):e===null?(delete this.options.actionChecker,this):this.options.actionChecker}Object.defineProperty(ni,"__esModule",{value:!0}),ni.default=void 0;var Pd={id:"auto-start/interactableMethods",install:function(e){var t=e.Interactable;t.prototype.getAction=function(n,i,c,d){var g=function(p,h,m,w,M){var N=p.getRect(w),W={action:null,interactable:p,interaction:m,element:w,rect:N,buttons:h.buttons||{0:1,1:4,3:8,4:16}[h.button]};return M.fire("auto-start:check",W),W.action}(this,i,c,d,e);return this.options.actionChecker?this.options.actionChecker(n,i,g,this,d,c):g},t.prototype.ignoreFrom=(0,vt.warnOnce)(function(n){return this._backCompatOption("ignoreFrom",n)},"Interactable.ignoreFrom() has been deprecated. Use Interactble.draggable({ignoreFrom: newValue})."),t.prototype.allowFrom=(0,vt.warnOnce)(function(n){return this._backCompatOption("allowFrom",n)},"Interactable.allowFrom() has been deprecated. Use Interactble.draggable({allowFrom: newValue})."),t.prototype.actionChecker=Od,t.prototype.styleCursor=Ed}};ni.default=Pd;var gr={};function Y0(e,t,n,i,c){return t.testIgnoreAllow(t.options[e.name],n,i)&&t.options[e.name].enabled&&ii(t,n,e,c)?e:null}function Sd(e,t,n,i,c,d,g){for(var p=0,h=i.length;p<h;p++){var m=i[p],w=c[p],M=m.getAction(t,n,e,w);if(M){var N=Y0(M,m,w,d,g);if(N)return{action:N,interactable:m,element:w}}}return{action:null,interactable:null,element:null}}function Z0(e,t,n,i,c){var d=[],g=[],p=i;function h(w){d.push(w),g.push(p)}for(;f.default.element(p);){d=[],g=[],c.interactables.forEachMatch(p,h);var m=Sd(e,t,n,d,g,i,c);if(m.action&&!m.interactable.options[m.action.name].manualStart)return m;p=R.parentNode(p)}return{action:null,interactable:null,element:null}}function K0(e,t,n){var i=t.action,c=t.interactable,d=t.element;i=i||{name:null},e.interactable=c,e.element=d,(0,vt.copyAction)(e.prepared,i),e.rect=c&&i.name?c.getRect(d):null,J0(e,n),n.fire("autoStart:prepared",{interaction:e})}function ii(e,t,n,i){var c=e.options,d=c[n.name].max,g=c[n.name].maxPerElement,p=i.autoStart.maxInteractions,h=0,m=0,w=0;if(!(d&&g&&p))return!1;for(var M=0;M<i.interactions.list.length;M++){var N=i.interactions.list[M],W=N.prepared.name;if(N.interacting()&&(++h>=p||N.interactable===e&&((m+=W===n.name?1:0)>=d||N.element===t&&(w++,W===n.name&&w>=g))))return!1}return p>0}function Q0(e,t){return f.default.number(e)?(t.autoStart.maxInteractions=e,this):t.autoStart.maxInteractions}function ha(e,t,n){var i=n.autoStart.cursorElement;i&&i!==e&&(i.style.cursor=""),e.ownerDocument.documentElement.style.cursor=t,e.style.cursor=t,n.autoStart.cursorElement=t?e:null}function J0(e,t){var n=e.interactable,i=e.element,c=e.prepared;if(e.pointerType==="mouse"&&n&&n.options.styleCursor){var d="";if(c.name){var g=n.options[c.name].cursorChecker;d=f.default.func(g)?g(c,n,i,e._interacting):t.actions.map[c.name].getCursor(c)}ha(e.element,d||"",t)}else t.autoStart.cursorElement&&ha(t.autoStart.cursorElement,"",t)}Object.defineProperty(gr,"__esModule",{value:!0}),gr.default=void 0;var jd={id:"auto-start/base",before:["actions"],install:function(e){var t=e.interactStatic,n=e.defaults;e.usePlugin(ni.default),n.base.actionChecker=null,n.base.styleCursor=!0,(0,Y.default)(n.perAction,{manualStart:!1,max:1/0,maxPerElement:1,allowFrom:null,ignoreFrom:null,mouseButtons:1}),t.maxInteractions=function(i){return Q0(i,e)},e.autoStart={maxInteractions:1/0,withinInteractionLimit:ii,cursorElement:null}},listeners:{"interactions:down":function(e,t){var n=e.interaction,i=e.pointer,c=e.event,d=e.eventTarget;n.interacting()||K0(n,Z0(n,i,c,d,t),t)},"interactions:move":function(e,t){(function(n,i){var c=n.interaction,d=n.pointer,g=n.event,p=n.eventTarget;c.pointerType!=="mouse"||c.pointerIsDown||c.interacting()||K0(c,Z0(c,d,g,p,i),i)})(e,t),function(n,i){var c=n.interaction;if(c.pointerIsDown&&!c.interacting()&&c.pointerWasMoved&&c.prepared.name){i.fire("autoStart:before-start",n);var d=c.interactable,g=c.prepared.name;g&&d&&(d.options[g].manualStart||!ii(d,c.element,c.prepared,i)?c.stop():(c.start(c.prepared,d,c.element),J0(c,i)))}}(e,t)},"interactions:stop":function(e,t){var n=e.interaction,i=n.interactable;i&&i.options.styleCursor&&ha(n.element,"",t)}},maxInteractions:Q0,withinInteractionLimit:ii,validateAction:Y0},Md=jd;gr.default=Md;var oi={};Object.defineProperty(oi,"__esModule",{value:!0}),oi.default=void 0;var Cd={id:"auto-start/dragAxis",listeners:{"autoStart:before-start":function(e,t){var n=e.interaction,i=e.eventTarget,c=e.dx,d=e.dy;if(n.prepared.name==="drag"){var g=Math.abs(c),p=Math.abs(d),h=n.interactable.options.drag,m=h.startAxis,w=g>p?"x":g<p?"y":"xy";if(n.prepared.axis=h.lockAxis==="start"?w[0]:h.lockAxis,w!=="xy"&&m!=="xy"&&m!==w){n.prepared.name=null;for(var M=i,N=function(z){if(z!==n.interactable){var ee=n.interactable.options.drag;if(!ee.manualStart&&z.testIgnoreAllow(ee,M,i)){var ne=z.getAction(n.downPointer,n.downEvent,n,M);if(ne&&ne.name==="drag"&&function(te,oe){if(!oe)return!1;var ue=oe.options.drag.startAxis;return te==="xy"||ue==="xy"||ue===te}(w,z)&&gr.default.validateAction(ne,z,M,i,t))return z}}};f.default.element(M);){var W=t.interactables.forEachMatch(M,N);if(W){n.prepared.name="drag",n.interactable=W,n.element=M;break}M=(0,R.parentNode)(M)}}}}}};oi.default=Cd;var ai={};function ga(e){var t=e.prepared&&e.prepared.name;if(!t)return null;var n=e.interactable.options;return n[t].hold||n[t].delay}Object.defineProperty(ai,"__esModule",{value:!0}),ai.default=void 0;var Td={id:"auto-start/hold",install:function(e){var t=e.defaults;e.usePlugin(gr.default),t.perAction.hold=0,t.perAction.delay=0},listeners:{"interactions:new":function(e){e.interaction.autoStartHoldTimer=null},"autoStart:prepared":function(e){var t=e.interaction,n=ga(t);n>0&&(t.autoStartHoldTimer=setTimeout(function(){t.start(t.prepared,t.interactable,t.element)},n))},"interactions:move":function(e){var t=e.interaction,n=e.duplicate;t.autoStartHoldTimer&&t.pointerWasMoved&&!n&&(clearTimeout(t.autoStartHoldTimer),t.autoStartHoldTimer=null)},"autoStart:before-start":function(e){var t=e.interaction;ga(t)>0&&(t.prepared.name=null)}},getHoldDuration:ga},Id=Td;ai.default=Id;var Ur={};Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.default=void 0;var Ad={id:"auto-start",install:function(e){e.usePlugin(gr.default),e.usePlugin(ai.default),e.usePlugin(oi.default)}};Ur.default=Ad;var rr={};function Rd(e){return/^(always|never|auto)$/.test(e)?(this.options.preventDefault=e,this):f.default.bool(e)?(this.options.preventDefault=e?"always":"never",this):this.options.preventDefault}function Dd(e){var t=e.interaction,n=e.event;t.interactable&&t.interactable.checkAndPreventDefault(n)}function ec(e){var t=e.Interactable;t.prototype.preventDefault=Rd,t.prototype.checkAndPreventDefault=function(n){return function(i,c,d){var g=i.options.preventDefault;if(g!=="never")if(g!=="always"){if(c.events.supportsPassive&&/^touch(start|move)$/.test(d.type)){var p=(0,s.getWindow)(d.target).document,h=c.getDocOptions(p);if(!h||!h.events||h.events.passive!==!1)return}/^(mouse|pointer|touch)*(down|start)/i.test(d.type)||f.default.element(d.target)&&(0,R.matchesSelector)(d.target,"input,select,textarea,[contenteditable=true],[contenteditable=true] *")||d.preventDefault()}else d.preventDefault()}(this,e,n)},e.interactions.docEvents.push({type:"dragstart",listener:function(n){for(var i=0;i<e.interactions.list.length;i++){var c=e.interactions.list[i];if(c.element&&(c.element===n.target||(0,R.nodeContains)(c.element,n.target)))return void c.interactable.checkAndPreventDefault(n)}}})}Object.defineProperty(rr,"__esModule",{value:!0}),rr.default=void 0,rr.install=ec;var kd={id:"core/interactablePreventDefault",install:ec,listeners:["down","move","up","cancel"].reduce(function(e,t){return e["interactions:".concat(t)]=Dd,e},{})};rr.default=kd;var ya={};Object.defineProperty(ya,"__esModule",{value:!0}),ya.default=void 0,ya.default={};var Xr,si={};Object.defineProperty(si,"__esModule",{value:!0}),si.default=void 0,function(e){e.touchAction="touchAction",e.boxSizing="boxSizing",e.noListeners="noListeners"}(Xr||(Xr={})),Xr.touchAction,Xr.boxSizing,Xr.noListeners;var Bd={id:"dev-tools",install:function(){}};si.default=Bd;var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.default=function e(t){var n={};for(var i in t){var c=t[i];f.default.plainObject(c)?n[i]=e(c):f.default.array(c)?n[i]=Se.from(c):n[i]=c}return n};var ir={};function tc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var d,g,p=[],h=!0,m=!1;try{for(c=c.call(n);!(h=(d=c.next()).done)&&(p.push(d.value),!i||p.length!==i);h=!0);}catch(w){m=!0,g=w}finally{try{h||c.return==null||c.return()}finally{if(m)throw g}}return p}}(e,t)||function(n,i){if(n){if(typeof n=="string")return rc(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);return c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set"?Array.from(n):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?rc(n,i):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function Hd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Lt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(ir,"__esModule",{value:!0}),ir.default=void 0,ir.getRectOffset=nc;var zd=function(){function e(i){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),Lt(this,"states",[]),Lt(this,"startOffset",{left:0,right:0,top:0,bottom:0}),Lt(this,"startDelta",void 0),Lt(this,"result",void 0),Lt(this,"endResult",void 0),Lt(this,"startEdges",void 0),Lt(this,"edges",void 0),Lt(this,"interaction",void 0),this.interaction=i,this.result=ci(),this.edges={left:!1,right:!1,top:!1,bottom:!1}}var t,n;return t=e,(n=[{key:"start",value:function(i,c){var d=i.phase,g=this.interaction,p=function(m){var w=m.interactable.options[m.prepared.name],M=w.modifiers;return M&&M.length?M:["snap","snapSize","snapEdges","restrict","restrictEdges","restrictSize"].map(function(N){var W=w[N];return W&&W.enabled&&{options:W,methods:W._methods}}).filter(function(N){return!!N})}(g);this.prepareStates(p),this.startEdges=(0,Y.default)({},g.edges),this.edges=(0,Y.default)({},this.startEdges),this.startOffset=nc(g.rect,c),this.startDelta={x:0,y:0};var h=this.fillArg({phase:d,pageCoords:c,preEnd:!1});return this.result=ci(),this.startAll(h),this.result=this.setAll(h)}},{key:"fillArg",value:function(i){var c=this.interaction;return i.interaction=c,i.interactable=c.interactable,i.element=c.element,i.rect||(i.rect=c.rect),i.edges||(i.edges=this.startEdges),i.startOffset=this.startOffset,i}},{key:"startAll",value:function(i){for(var c=0;c<this.states.length;c++){var d=this.states[c];d.methods.start&&(i.state=d,d.methods.start(i))}}},{key:"setAll",value:function(i){var c=i.phase,d=i.preEnd,g=i.skipModifiers,p=i.rect,h=i.edges;i.coords=(0,Y.default)({},i.pageCoords),i.rect=(0,Y.default)({},p),i.edges=(0,Y.default)({},h);for(var m=g?this.states.slice(g):this.states,w=ci(i.coords,i.rect),M=0;M<m.length;M++){var N,W=m[M],z=W.options,ee=(0,Y.default)({},i.coords),ne=null;(N=W.methods)!=null&&N.set&&this.shouldDo(z,d,c)&&(i.state=W,ne=W.methods.set(i),ie.addEdges(i.edges,i.rect,{x:i.coords.x-ee.x,y:i.coords.y-ee.y})),w.eventProps.push(ne)}(0,Y.default)(this.edges,i.edges),w.delta.x=i.coords.x-i.pageCoords.x,w.delta.y=i.coords.y-i.pageCoords.y,w.rectDelta.left=i.rect.left-p.left,w.rectDelta.right=i.rect.right-p.right,w.rectDelta.top=i.rect.top-p.top,w.rectDelta.bottom=i.rect.bottom-p.bottom;var te=this.result.coords,oe=this.result.rect;if(te&&oe){var ue=w.rect.left!==oe.left||w.rect.right!==oe.right||w.rect.top!==oe.top||w.rect.bottom!==oe.bottom;w.changed=ue||te.x!==w.coords.x||te.y!==w.coords.y}return w}},{key:"applyToInteraction",value:function(i){var c=this.interaction,d=i.phase,g=c.coords.cur,p=c.coords.start,h=this.result,m=this.startDelta,w=h.delta;d==="start"&&(0,Y.default)(this.startDelta,h.delta);for(var M=0;M<[[p,m],[g,w]].length;M++){var N=tc([[p,m],[g,w]][M],2),W=N[0],z=N[1];W.page.x+=z.x,W.page.y+=z.y,W.client.x+=z.x,W.client.y+=z.y}var ee=this.result.rectDelta,ne=i.rect||c.rect;ne.left+=ee.left,ne.right+=ee.right,ne.top+=ee.top,ne.bottom+=ee.bottom,ne.width=ne.right-ne.left,ne.height=ne.bottom-ne.top}},{key:"setAndApply",value:function(i){var c=this.interaction,d=i.phase,g=i.preEnd,p=i.skipModifiers,h=this.setAll(this.fillArg({preEnd:g,phase:d,pageCoords:i.modifiedCoords||c.coords.cur.page}));if(this.result=h,!h.changed&&(!p||p<this.states.length)&&c.interacting())return!1;if(i.modifiedCoords){var m=c.coords.cur.page,w={x:i.modifiedCoords.x-m.x,y:i.modifiedCoords.y-m.y};h.coords.x+=w.x,h.coords.y+=w.y,h.delta.x+=w.x,h.delta.y+=w.y}this.applyToInteraction(i)}},{key:"beforeEnd",value:function(i){var c=i.interaction,d=i.event,g=this.states;if(g&&g.length){for(var p=!1,h=0;h<g.length;h++){var m=g[h];i.state=m;var w=m.options,M=m.methods,N=M.beforeEnd&&M.beforeEnd(i);if(N)return this.endResult=N,!1;p=p||!p&&this.shouldDo(w,!0,i.phase,!0)}p&&c.move({event:d,preEnd:!0})}}},{key:"stop",value:function(i){var c=i.interaction;if(this.states&&this.states.length){var d=(0,Y.default)({states:this.states,interactable:c.interactable,element:c.element,rect:null},i);this.fillArg(d);for(var g=0;g<this.states.length;g++){var p=this.states[g];d.state=p,p.methods.stop&&p.methods.stop(d)}this.states=null,this.endResult=null}}},{key:"prepareStates",value:function(i){this.states=[];for(var c=0;c<i.length;c++){var d=i[c],g=d.options,p=d.methods,h=d.name;this.states.push({options:g,methods:p,index:c,name:h})}return this.states}},{key:"restoreInteractionCoords",value:function(i){var c=i.interaction,d=c.coords,g=c.rect,p=c.modification;if(p.result){for(var h=p.startDelta,m=p.result,w=m.delta,M=m.rectDelta,N=[[d.start,h],[d.cur,w]],W=0;W<N.length;W++){var z=tc(N[W],2),ee=z[0],ne=z[1];ee.page.x-=ne.x,ee.page.y-=ne.y,ee.client.x-=ne.x,ee.client.y-=ne.y}g.left-=M.left,g.right-=M.right,g.top-=M.top,g.bottom-=M.bottom}}},{key:"shouldDo",value:function(i,c,d,g){return!(!i||i.enabled===!1||g&&!i.endOnly||i.endOnly&&!c||d==="start"&&!i.setStart)}},{key:"copyFrom",value:function(i){this.startOffset=i.startOffset,this.startDelta=i.startDelta,this.startEdges=i.startEdges,this.edges=i.edges,this.states=i.states.map(function(c){return(0,nr.default)(c)}),this.result=ci((0,Y.default)({},i.result.coords),(0,Y.default)({},i.result.rect))}},{key:"destroy",value:function(){for(var i in this)this[i]=null}}])&&Hd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function ci(e,t){return{rect:t,coords:e,delta:{x:0,y:0},rectDelta:{left:0,right:0,top:0,bottom:0},eventProps:[],changed:!0}}function nc(e,t){return e?{left:t.x-e.left,top:t.y-e.top,right:e.right-t.x,bottom:e.bottom-t.y}:{left:0,top:0,right:0,bottom:0}}ir.default=zd;var Je={};function li(e){var t=e.iEvent,n=e.interaction.modification.result;n&&(t.modifiers=n.eventProps)}Object.defineProperty(Je,"__esModule",{value:!0}),Je.addEventModifiers=li,Je.default=void 0,Je.makeModifier=function(e,t){var n=e.defaults,i={start:e.start,set:e.set,beforeEnd:e.beforeEnd,stop:e.stop},c=function(d){var g=d||{};for(var p in g.enabled=g.enabled!==!1,n)p in g||(g[p]=n[p]);var h={options:g,methods:i,name:t,enable:function(){return g.enabled=!0,h},disable:function(){return g.enabled=!1,h}};return h};return t&&typeof t=="string"&&(c._defaults=n,c._methods=i),c};var Ld={id:"modifiers/base",before:["actions"],install:function(e){e.defaults.perAction.modifiers=[]},listeners:{"interactions:new":function(e){var t=e.interaction;t.modification=new ir.default(t)},"interactions:before-action-start":function(e){var t=e.interaction,n=e.interaction.modification;n.start(e,t.coords.start.page),t.edges=n.edges,n.applyToInteraction(e)},"interactions:before-action-move":function(e){var t=e.interaction,n=t.modification,i=n.setAndApply(e);return t.edges=n.edges,i},"interactions:before-action-end":function(e){var t=e.interaction,n=t.modification,i=n.beforeEnd(e);return t.edges=n.startEdges,i},"interactions:action-start":li,"interactions:action-move":li,"interactions:action-end":li,"interactions:after-action-start":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-move":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:stop":function(e){return e.interaction.modification.stop(e)}}},Nd=Ld;Je.default=Nd;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.defaults=void 0,Gr.defaults={base:{preventDefault:"auto",deltaSource:"page"},perAction:{enabled:!1,origin:{x:0,y:0}},actions:{}};var Yr={};function xa(e){return xa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xa(e)}function $d(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ma(e,t){return ma=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ma(e,t)}function Fd(e,t){if(t&&(xa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Re(e)}function Re(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return ui=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ui(e)}function Be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.InteractEvent=void 0;var ic=function(e){(function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&ma(p,h)})(g,e);var t,n,i,c,d=(i=g,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,h=ui(i);if(c){var m=ui(this).constructor;p=Reflect.construct(h,arguments,m)}else p=h.apply(this,arguments);return Fd(this,p)});function g(p,h,m,w,M,N,W){var z;(function(ke,_e){if(!(ke instanceof _e))throw new TypeError("Cannot call a class as a function")})(this,g),Be(Re(z=d.call(this,p)),"relatedTarget",null),Be(Re(z),"screenX",void 0),Be(Re(z),"screenY",void 0),Be(Re(z),"button",void 0),Be(Re(z),"buttons",void 0),Be(Re(z),"ctrlKey",void 0),Be(Re(z),"shiftKey",void 0),Be(Re(z),"altKey",void 0),Be(Re(z),"metaKey",void 0),Be(Re(z),"page",void 0),Be(Re(z),"client",void 0),Be(Re(z),"delta",void 0),Be(Re(z),"rect",void 0),Be(Re(z),"x0",void 0),Be(Re(z),"y0",void 0),Be(Re(z),"t0",void 0),Be(Re(z),"dt",void 0),Be(Re(z),"duration",void 0),Be(Re(z),"clientX0",void 0),Be(Re(z),"clientY0",void 0),Be(Re(z),"velocity",void 0),Be(Re(z),"speed",void 0),Be(Re(z),"swipe",void 0),Be(Re(z),"axes",void 0),Be(Re(z),"preEnd",void 0),M=M||p.element;var ee=p.interactable,ne=(ee&&ee.options||Gr.defaults).deltaSource,te=(0,ye.default)(ee,M,m),oe=w==="start",ue=w==="end",ve=oe?Re(z):p.prevEvent,Ce=oe?p.coords.start:ue?{page:ve.page,client:ve.client,timeStamp:p.coords.cur.timeStamp}:p.coords.cur;return z.page=(0,Y.default)({},Ce.page),z.client=(0,Y.default)({},Ce.client),z.rect=(0,Y.default)({},p.rect),z.timeStamp=Ce.timeStamp,ue||(z.page.x-=te.x,z.page.y-=te.y,z.client.x-=te.x,z.client.y-=te.y),z.ctrlKey=h.ctrlKey,z.altKey=h.altKey,z.shiftKey=h.shiftKey,z.metaKey=h.metaKey,z.button=h.button,z.buttons=h.buttons,z.target=M,z.currentTarget=M,z.preEnd=N,z.type=W||m+(w||""),z.interactable=ee,z.t0=oe?p.pointers[p.pointers.length-1].downTime:ve.t0,z.x0=p.coords.start.page.x-te.x,z.y0=p.coords.start.page.y-te.y,z.clientX0=p.coords.start.client.x-te.x,z.clientY0=p.coords.start.client.y-te.y,z.delta=oe||ue?{x:0,y:0}:{x:z[ne].x-ve[ne].x,y:z[ne].y-ve[ne].y},z.dt=p.coords.delta.timeStamp,z.duration=z.timeStamp-z.t0,z.velocity=(0,Y.default)({},p.coords.velocity[ne]),z.speed=(0,X.default)(z.velocity.x,z.velocity.y),z.swipe=ue||w==="inertiastart"?z.getSwipe():null,z}return t=g,(n=[{key:"getSwipe",value:function(){var p=this._interaction;if(p.prevEvent.speed<600||this.timeStamp-p.prevEvent.timeStamp>150)return null;var h=180*Math.atan2(p.prevEvent.velocityY,p.prevEvent.velocityX)/Math.PI;h<0&&(h+=360);var m=112.5<=h&&h<247.5,w=202.5<=h&&h<337.5;return{up:w,down:!w&&22.5<=h&&h<157.5,left:m,right:!m&&(292.5<=h||h<67.5),angle:h,speed:p.prevEvent.speed,velocity:{x:p.prevEvent.velocityX,y:p.prevEvent.velocityY}}}},{key:"preventDefault",value:function(){}},{key:"stopImmediatePropagation",value:function(){this.immediatePropagationStopped=this.propagationStopped=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}])&&$d(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(Ze.BaseEvent);Yr.InteractEvent=ic,Object.defineProperties(ic.prototype,{pageX:{get:function(){return this.page.x},set:function(e){this.page.x=e}},pageY:{get:function(){return this.page.y},set:function(e){this.page.y=e}},clientX:{get:function(){return this.client.x},set:function(e){this.client.x=e}},clientY:{get:function(){return this.client.y},set:function(e){this.client.y=e}},dx:{get:function(){return this.delta.x},set:function(e){this.delta.x=e}},dy:{get:function(){return this.delta.y},set:function(e){this.delta.y=e}},velocityX:{get:function(){return this.velocity.x},set:function(e){this.velocity.x=e}},velocityY:{get:function(){return this.velocity.y},set:function(e){this.velocity.y=e}}});var Zr={};function oc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Vd(e,t,n){return t&&oc(e.prototype,t),n&&oc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.PointerInfo=void 0;var qd=Vd(function e(t,n,i,c,d){(function(g,p){if(!(g instanceof p))throw new TypeError("Cannot call a class as a function")})(this,e),Kr(this,"id",void 0),Kr(this,"pointer",void 0),Kr(this,"event",void 0),Kr(this,"downTime",void 0),Kr(this,"downTarget",void 0),this.id=t,this.pointer=n,this.event=i,this.downTime=c,this.downTarget=d});Zr.PointerInfo=qd;var fi,di,ft={};function Wd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(ft,"__esModule",{value:!0}),ft.Interaction=void 0,Object.defineProperty(ft,"PointerInfo",{enumerable:!0,get:function(){return Zr.PointerInfo}}),ft.default=ft._ProxyValues=ft._ProxyMethods=void 0,ft._ProxyValues=fi,function(e){e.interactable="",e.element="",e.prepared="",e.pointerIsDown="",e.pointerWasMoved="",e._proxy=""}(fi||(ft._ProxyValues=fi={})),ft._ProxyMethods=di,function(e){e.start="",e.move="",e.end="",e.stop="",e.interacting=""}(di||(ft._ProxyMethods=di={}));var Ud=0,ac=function(){function e(i){var c=this,d=i.pointerType,g=i.scopeFire;(function(N,W){if(!(N instanceof W))throw new TypeError("Cannot call a class as a function")})(this,e),Le(this,"interactable",null),Le(this,"element",null),Le(this,"rect",null),Le(this,"_rects",void 0),Le(this,"edges",null),Le(this,"_scopeFire",void 0),Le(this,"prepared",{name:null,axis:null,edges:null}),Le(this,"pointerType",void 0),Le(this,"pointers",[]),Le(this,"downEvent",null),Le(this,"downPointer",{}),Le(this,"_latestPointer",{pointer:null,event:null,eventTarget:null}),Le(this,"prevEvent",null),Le(this,"pointerIsDown",!1),Le(this,"pointerWasMoved",!1),Le(this,"_interacting",!1),Le(this,"_ending",!1),Le(this,"_stopped",!0),Le(this,"_proxy",null),Le(this,"simulation",null),Le(this,"doMove",(0,vt.warnOnce)(function(N){this.move(N)},"The interaction.doMove() method has been renamed to interaction.move()")),Le(this,"coords",{start:A.newCoords(),prev:A.newCoords(),cur:A.newCoords(),delta:A.newCoords(),velocity:A.newCoords()}),Le(this,"_id",Ud++),this._scopeFire=g,this.pointerType=d;var p=this;this._proxy={};var h=function(N){Object.defineProperty(c._proxy,N,{get:function(){return p[N]}})};for(var m in fi)h(m);var w=function(N){Object.defineProperty(c._proxy,N,{value:function(){return p[N].apply(p,arguments)}})};for(var M in di)w(M);this._scopeFire("interactions:new",{interaction:this})}var t,n;return t=e,n=[{key:"pointerMoveTolerance",get:function(){return 1}},{key:"pointerDown",value:function(i,c,d){var g=this.updatePointer(i,c,d,!0),p=this.pointers[g];this._scopeFire("interactions:down",{pointer:i,event:c,eventTarget:d,pointerIndex:g,pointerInfo:p,type:"down",interaction:this})}},{key:"start",value:function(i,c,d){return!(this.interacting()||!this.pointerIsDown||this.pointers.length<(i.name==="gesture"?2:1)||!c.options[i.name].enabled)&&((0,vt.copyAction)(this.prepared,i),this.interactable=c,this.element=d,this.rect=c.getRect(d),this.edges=this.prepared.edges?(0,Y.default)({},this.prepared.edges):{left:!0,right:!0,top:!0,bottom:!0},this._stopped=!1,this._interacting=this._doPhase({interaction:this,event:this.downEvent,phase:"start"})&&!this._stopped,this._interacting)}},{key:"pointerMove",value:function(i,c,d){this.simulation||this.modification&&this.modification.endResult||this.updatePointer(i,c,d,!1);var g,p,h=this.coords.cur.page.x===this.coords.prev.page.x&&this.coords.cur.page.y===this.coords.prev.page.y&&this.coords.cur.client.x===this.coords.prev.client.x&&this.coords.cur.client.y===this.coords.prev.client.y;this.pointerIsDown&&!this.pointerWasMoved&&(g=this.coords.cur.client.x-this.coords.start.client.x,p=this.coords.cur.client.y-this.coords.start.client.y,this.pointerWasMoved=(0,X.default)(g,p)>this.pointerMoveTolerance);var m=this.getPointerIndex(i),w={pointer:i,pointerIndex:m,pointerInfo:this.pointers[m],event:c,type:"move",eventTarget:d,dx:g,dy:p,duplicate:h,interaction:this};h||A.setCoordVelocity(this.coords.velocity,this.coords.delta),this._scopeFire("interactions:move",w),h||this.simulation||(this.interacting()&&(w.type=null,this.move(w)),this.pointerWasMoved&&A.copyCoords(this.coords.prev,this.coords.cur))}},{key:"move",value:function(i){i&&i.event||A.setZeroCoords(this.coords.delta),(i=(0,Y.default)({pointer:this._latestPointer.pointer,event:this._latestPointer.event,eventTarget:this._latestPointer.eventTarget,interaction:this},i||{})).phase="move",this._doPhase(i)}},{key:"pointerUp",value:function(i,c,d,g){var p=this.getPointerIndex(i);p===-1&&(p=this.updatePointer(i,c,d,!1));var h=/cancel$/i.test(c.type)?"cancel":"up";this._scopeFire("interactions:".concat(h),{pointer:i,pointerIndex:p,pointerInfo:this.pointers[p],event:c,eventTarget:d,type:h,curEventTarget:g,interaction:this}),this.simulation||this.end(c),this.removePointer(i,c)}},{key:"documentBlur",value:function(i){this.end(i),this._scopeFire("interactions:blur",{event:i,type:"blur",interaction:this})}},{key:"end",value:function(i){var c;this._ending=!0,i=i||this._latestPointer.event,this.interacting()&&(c=this._doPhase({event:i,interaction:this,phase:"end"})),this._ending=!1,c===!0&&this.stop()}},{key:"currentAction",value:function(){return this._interacting?this.prepared.name:null}},{key:"interacting",value:function(){return this._interacting}},{key:"stop",value:function(){this._scopeFire("interactions:stop",{interaction:this}),this.interactable=this.element=null,this._interacting=!1,this._stopped=!0,this.prepared.name=this.prevEvent=null}},{key:"getPointerIndex",value:function(i){var c=A.getPointerId(i);return this.pointerType==="mouse"||this.pointerType==="pen"?this.pointers.length-1:Se.findIndex(this.pointers,function(d){return d.id===c})}},{key:"getPointerInfo",value:function(i){return this.pointers[this.getPointerIndex(i)]}},{key:"updatePointer",value:function(i,c,d,g){var p=A.getPointerId(i),h=this.getPointerIndex(i),m=this.pointers[h];return g=g!==!1&&(g||/(down|start)$/i.test(c.type)),m?m.pointer=i:(m=new Zr.PointerInfo(p,i,c,null,null),h=this.pointers.length,this.pointers.push(m)),A.setCoords(this.coords.cur,this.pointers.map(function(w){return w.pointer}),this._now()),A.setCoordDeltas(this.coords.delta,this.coords.prev,this.coords.cur),g&&(this.pointerIsDown=!0,m.downTime=this.coords.cur.timeStamp,m.downTarget=d,A.pointerExtend(this.downPointer,i),this.interacting()||(A.copyCoords(this.coords.start,this.coords.cur),A.copyCoords(this.coords.prev,this.coords.cur),this.downEvent=c,this.pointerWasMoved=!1)),this._updateLatestPointer(i,c,d),this._scopeFire("interactions:update-pointer",{pointer:i,event:c,eventTarget:d,down:g,pointerInfo:m,pointerIndex:h,interaction:this}),h}},{key:"removePointer",value:function(i,c){var d=this.getPointerIndex(i);if(d!==-1){var g=this.pointers[d];this._scopeFire("interactions:remove-pointer",{pointer:i,event:c,eventTarget:null,pointerIndex:d,pointerInfo:g,interaction:this}),this.pointers.splice(d,1),this.pointerIsDown=!1}}},{key:"_updateLatestPointer",value:function(i,c,d){this._latestPointer.pointer=i,this._latestPointer.event=c,this._latestPointer.eventTarget=d}},{key:"destroy",value:function(){this._latestPointer.pointer=null,this._latestPointer.event=null,this._latestPointer.eventTarget=null}},{key:"_createPreparedEvent",value:function(i,c,d,g){return new Yr.InteractEvent(this,i,this.prepared.name,c,this.element,d,g)}},{key:"_fireEvent",value:function(i){var c;(c=this.interactable)==null||c.fire(i),(!this.prevEvent||i.timeStamp>=this.prevEvent.timeStamp)&&(this.prevEvent=i)}},{key:"_doPhase",value:function(i){var c=i.event,d=i.phase,g=i.preEnd,p=i.type,h=this.rect;if(h&&d==="move"&&(ie.addEdges(this.edges,h,this.coords.delta[this.interactable.options.deltaSource]),h.width=h.right-h.left,h.height=h.bottom-h.top),this._scopeFire("interactions:before-action-".concat(d),i)===!1)return!1;var m=i.iEvent=this._createPreparedEvent(c,d,g,p);return this._scopeFire("interactions:action-".concat(d),i),d==="start"&&(this.prevEvent=m),this._fireEvent(m),this._scopeFire("interactions:after-action-".concat(d),i),!0}},{key:"_now",value:function(){return Date.now()}}],n&&Wd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();ft.Interaction=ac;var Xd=ac;ft.default=Xd;var Nt={};function sc(e){e.pointerIsDown&&(_a(e.coords.cur,e.offset.total),e.offset.pending.x=0,e.offset.pending.y=0)}function cc(e){ba(e.interaction)}function ba(e){if(!function(n){return!(!n.offset.pending.x&&!n.offset.pending.y)}(e))return!1;var t=e.offset.pending;return _a(e.coords.cur,t),_a(e.coords.delta,t),ie.addEdges(e.edges,e.rect,t),t.x=0,t.y=0,!0}function Gd(e){var t=e.x,n=e.y;this.offset.pending.x+=t,this.offset.pending.y+=n,this.offset.total.x+=t,this.offset.total.y+=n}function _a(e,t){var n=e.page,i=e.client,c=t.x,d=t.y;n.x+=c,n.y+=d,i.x+=c,i.y+=d}Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.addTotal=sc,Nt.applyPending=ba,Nt.default=void 0,ft._ProxyMethods.offsetBy="";var Yd={id:"offset",before:["modifiers","pointer-events","actions","inertia"],install:function(e){e.Interaction.prototype.offsetBy=Gd},listeners:{"interactions:new":function(e){e.interaction.offset={total:{x:0,y:0},pending:{x:0,y:0}}},"interactions:update-pointer":function(e){return sc(e.interaction)},"interactions:before-action-start":cc,"interactions:before-action-move":cc,"interactions:before-action-end":function(e){var t=e.interaction;if(ba(t))return t.move({offset:!0}),t.end(),!1},"interactions:stop":function(e){var t=e.interaction;t.offset.total.x=0,t.offset.total.y=0,t.offset.pending.x=0,t.offset.pending.y=0}}},Zd=Yd;Nt.default=Zd;var or={};function Kd(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function We(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(or,"__esModule",{value:!0}),or.default=or.InertiaState=void 0;var lc=function(){function e(i){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),We(this,"active",!1),We(this,"isModified",!1),We(this,"smoothEnd",!1),We(this,"allowResume",!1),We(this,"modification",void 0),We(this,"modifierCount",0),We(this,"modifierArg",void 0),We(this,"startCoords",void 0),We(this,"t0",0),We(this,"v0",0),We(this,"te",0),We(this,"targetOffset",void 0),We(this,"modifiedOffset",void 0),We(this,"currentOffset",void 0),We(this,"lambda_v0",0),We(this,"one_ve_v0",0),We(this,"timeout",void 0),We(this,"interaction",void 0),this.interaction=i}var t,n;return t=e,(n=[{key:"start",value:function(i){var c=this.interaction,d=pi(c);if(!d||!d.enabled)return!1;var g=c.coords.velocity.client,p=(0,X.default)(g.x,g.y),h=this.modification||(this.modification=new ir.default(c));if(h.copyFrom(c.modification),this.t0=c._now(),this.allowResume=d.allowResume,this.v0=p,this.currentOffset={x:0,y:0},this.startCoords=c.coords.cur.page,this.modifierArg=h.fillArg({pageCoords:this.startCoords,preEnd:!0,phase:"inertiastart"}),this.t0-c.coords.cur.timeStamp<50&&p>d.minSpeed&&p>d.endSpeed)this.startInertia();else{if(h.result=h.setAll(this.modifierArg),!h.result.changed)return!1;this.startSmoothEnd()}return c.modification.result.rect=null,c.offsetBy(this.targetOffset),c._doPhase({interaction:c,event:i,phase:"inertiastart"}),c.offsetBy({x:-this.targetOffset.x,y:-this.targetOffset.y}),c.modification.result.rect=null,this.active=!0,c.simulation=this,!0}},{key:"startInertia",value:function(){var i=this,c=this.interaction.coords.velocity.client,d=pi(this.interaction),g=d.resistance,p=-Math.log(d.endSpeed/this.v0)/g;this.targetOffset={x:(c.x-p)/g,y:(c.y-p)/g},this.te=p,this.lambda_v0=g/this.v0,this.one_ve_v0=1-d.endSpeed/this.v0;var h=this.modification,m=this.modifierArg;m.pageCoords={x:this.startCoords.x+this.targetOffset.x,y:this.startCoords.y+this.targetOffset.y},h.result=h.setAll(m),h.result.changed&&(this.isModified=!0,this.modifiedOffset={x:this.targetOffset.x+h.result.delta.x,y:this.targetOffset.y+h.result.delta.y}),this.onNextFrame(function(){return i.inertiaTick()})}},{key:"startSmoothEnd",value:function(){var i=this;this.smoothEnd=!0,this.isModified=!0,this.targetOffset={x:this.modification.result.delta.x,y:this.modification.result.delta.y},this.onNextFrame(function(){return i.smoothEndTick()})}},{key:"onNextFrame",value:function(i){var c=this;this.timeout=pt.default.request(function(){c.active&&i()})}},{key:"inertiaTick",value:function(){var i,c,d,g,p,h=this,m=this.interaction,w=pi(m).resistance,M=(m._now()-this.t0)/1e3;if(M<this.te){var N,W=1-(Math.exp(-w*M)-this.lambda_v0)/this.one_ve_v0;this.isModified?(i=this.targetOffset.x,c=this.targetOffset.y,d=this.modifiedOffset.x,g=this.modifiedOffset.y,N={x:uc(p=W,0,i,d),y:uc(p,0,c,g)}):N={x:this.targetOffset.x*W,y:this.targetOffset.y*W};var z={x:N.x-this.currentOffset.x,y:N.y-this.currentOffset.y};this.currentOffset.x+=z.x,this.currentOffset.y+=z.y,m.offsetBy(z),m.move(),this.onNextFrame(function(){return h.inertiaTick()})}else m.offsetBy({x:this.modifiedOffset.x-this.currentOffset.x,y:this.modifiedOffset.y-this.currentOffset.y}),this.end()}},{key:"smoothEndTick",value:function(){var i=this,c=this.interaction,d=c._now()-this.t0,g=pi(c).smoothEndDuration;if(d<g){var p={x:fc(d,0,this.targetOffset.x,g),y:fc(d,0,this.targetOffset.y,g)},h={x:p.x-this.currentOffset.x,y:p.y-this.currentOffset.y};this.currentOffset.x+=h.x,this.currentOffset.y+=h.y,c.offsetBy(h),c.move({skipModifiers:this.modifierCount}),this.onNextFrame(function(){return i.smoothEndTick()})}else c.offsetBy({x:this.targetOffset.x-this.currentOffset.x,y:this.targetOffset.y-this.currentOffset.y}),this.end()}},{key:"resume",value:function(i){var c=i.pointer,d=i.event,g=i.eventTarget,p=this.interaction;p.offsetBy({x:-this.currentOffset.x,y:-this.currentOffset.y}),p.updatePointer(c,d,g,!0),p._doPhase({interaction:p,event:d,phase:"resume"}),(0,A.copyCoords)(p.coords.prev,p.coords.cur),this.stop()}},{key:"end",value:function(){this.interaction.move(),this.interaction.end(),this.stop()}},{key:"stop",value:function(){this.active=this.smoothEnd=!1,this.interaction.simulation=null,pt.default.cancel(this.timeout)}}])&&Kd(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function pi(e){var t=e.interactable,n=e.prepared;return t&&t.options&&n.name&&t.options[n.name].inertia}or.InertiaState=lc;var Qd={id:"inertia",before:["modifiers","actions"],install:function(e){var t=e.defaults;e.usePlugin(Nt.default),e.usePlugin(Je.default),e.actions.phases.inertiastart=!0,e.actions.phases.resume=!0,t.perAction.inertia={enabled:!1,resistance:10,minSpeed:100,endSpeed:10,allowResume:!0,smoothEndDuration:300}},listeners:{"interactions:new":function(e){var t=e.interaction;t.inertia=new lc(t)},"interactions:before-action-end":function(e){var t=e.interaction,n=e.event;return(!t._interacting||t.simulation||!t.inertia.start(n))&&null},"interactions:down":function(e){var t=e.interaction,n=e.eventTarget,i=t.inertia;if(i.active)for(var c=n;f.default.element(c);){if(c===t.element){i.resume(e);break}c=R.parentNode(c)}},"interactions:stop":function(e){var t=e.interaction.inertia;t.active&&t.stop()},"interactions:before-action-resume":function(e){var t=e.interaction.modification;t.stop(e),t.start(e,e.interaction.coords.cur.page),t.applyToInteraction(e)},"interactions:before-action-inertiastart":function(e){return e.interaction.modification.setAndApply(e)},"interactions:action-resume":Je.addEventModifiers,"interactions:action-inertiastart":Je.addEventModifiers,"interactions:after-action-inertiastart":function(e){return e.interaction.modification.restoreInteractionCoords(e)},"interactions:after-action-resume":function(e){return e.interaction.modification.restoreInteractionCoords(e)}}};function uc(e,t,n,i){var c=1-e;return c*c*t+2*c*e*n+e*e*i}function fc(e,t,n,i){return-n*(e/=i)*(e-2)+t}var Jd=Qd;or.default=Jd;var Qr={};function ep(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Jr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dc(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(e.immediatePropagationStopped)break;i(e)}}Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.Eventable=void 0;var tp=function(){function e(i){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),Jr(this,"options",void 0),Jr(this,"types",{}),Jr(this,"propagationStopped",!1),Jr(this,"immediatePropagationStopped",!1),Jr(this,"global",void 0),this.options=(0,Y.default)({},i||{})}var t,n;return t=e,(n=[{key:"fire",value:function(i){var c,d=this.global;(c=this.types[i.type])&&dc(i,c),!i.propagationStopped&&d&&(c=d[i.type])&&dc(i,c)}},{key:"on",value:function(i,c){var d=(0,he.default)(i,c);for(i in d)this.types[i]=Se.merge(this.types[i]||[],d[i])}},{key:"off",value:function(i,c){var d=(0,he.default)(i,c);for(i in d){var g=this.types[i];if(g&&g.length)for(var p=0;p<d[i].length;p++){var h=d[i][p],m=g.indexOf(h);m!==-1&&g.splice(m,1)}}}},{key:"getRect",value:function(i){return null}}])&&ep(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();Qr.Eventable=tp;var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.default=function(e,t){if(t.phaselessTypes[e])return!0;for(var n in t.map)if(e.indexOf(n)===0&&e.substr(n.length)in t.phases)return!0;return!1};var wa={};Object.defineProperty(wa,"__esModule",{value:!0}),wa.createInteractStatic=function(e){var t=function n(i,c){var d=e.interactables.get(i,c);return d||((d=e.interactables.new(i,c)).events.global=n.globalEvents),d};return t.getPointerAverage=A.pointerAverage,t.getTouchBBox=A.touchBBox,t.getTouchDistance=A.touchDistance,t.getTouchAngle=A.touchAngle,t.getElementRect=R.getElementRect,t.getElementClientRect=R.getElementClientRect,t.matchesSelector=R.matchesSelector,t.closest=R.closest,t.globalEvents={},t.version="1.10.18",t.scope=e,t.use=function(n,i){return this.scope.usePlugin(n,i),this},t.isSet=function(n,i){return!!this.scope.interactables.get(n,i&&i.context)},t.on=(0,vt.warnOnce)(function(n,i,c){if(f.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),f.default.array(n)){for(var d=0;d<n.length;d++){var g=n[d];this.on(g,i,c)}return this}if(f.default.object(n)){for(var p in n)this.on(p,n[p],i);return this}return(0,en.default)(n,this.scope.actions)?this.globalEvents[n]?this.globalEvents[n].push(i):this.globalEvents[n]=[i]:this.scope.events.add(this.scope.document,n,i,{options:c}),this},"The interact.on() method is being deprecated"),t.off=(0,vt.warnOnce)(function(n,i,c){if(f.default.string(n)&&n.search(" ")!==-1&&(n=n.trim().split(/ +/)),f.default.array(n)){for(var d=0;d<n.length;d++){var g=n[d];this.off(g,i,c)}return this}if(f.default.object(n)){for(var p in n)this.off(p,n[p],i);return this}var h;return(0,en.default)(n,this.scope.actions)?n in this.globalEvents&&(h=this.globalEvents[n].indexOf(i))!==-1&&this.globalEvents[n].splice(h,1):this.scope.events.remove(this.scope.document,n,i,c),this},"The interact.off() method is being deprecated"),t.debug=function(){return this.scope},t.supportsTouch=function(){return L.default.supportsTouch},t.supportsPointerEvent=function(){return L.default.supportsPointerEvent},t.stop=function(){for(var n=0;n<this.scope.interactions.list.length;n++)this.scope.interactions.list[n].stop();return this},t.pointerMoveTolerance=function(n){return f.default.number(n)?(this.scope.interactions.pointerMoveTolerance=n,this):this.scope.interactions.pointerMoveTolerance},t.addDocument=function(n,i){this.scope.addDocument(n,i)},t.removeDocument=function(n){this.scope.removeDocument(n)},t};var vi={};function rp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Bt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(vi,"__esModule",{value:!0}),vi.Interactable=void 0;var np=function(){function e(i,c,d,g){(function(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")})(this,e),Bt(this,"options",void 0),Bt(this,"_actions",void 0),Bt(this,"target",void 0),Bt(this,"events",new Qr.Eventable),Bt(this,"_context",void 0),Bt(this,"_win",void 0),Bt(this,"_doc",void 0),Bt(this,"_scopeEvents",void 0),Bt(this,"_rectChecker",void 0),this._actions=c.actions,this.target=i,this._context=c.context||d,this._win=(0,s.getWindow)((0,R.trySelector)(i)?this._context:i),this._doc=this._win.document,this._scopeEvents=g,this.set(c)}var t,n;return t=e,(n=[{key:"_defaults",get:function(){return{base:{},perAction:{},actions:{}}}},{key:"setOnEvents",value:function(i,c){return f.default.func(c.onstart)&&this.on("".concat(i,"start"),c.onstart),f.default.func(c.onmove)&&this.on("".concat(i,"move"),c.onmove),f.default.func(c.onend)&&this.on("".concat(i,"end"),c.onend),f.default.func(c.oninertiastart)&&this.on("".concat(i,"inertiastart"),c.oninertiastart),this}},{key:"updatePerActionListeners",value:function(i,c,d){(f.default.array(c)||f.default.object(c))&&this.off(i,c),(f.default.array(d)||f.default.object(d))&&this.on(i,d)}},{key:"setPerAction",value:function(i,c){var d=this._defaults;for(var g in c){var p=g,h=this.options[i],m=c[p];p==="listeners"&&this.updatePerActionListeners(i,h.listeners,m),f.default.array(m)?h[p]=Se.from(m):f.default.plainObject(m)?(h[p]=(0,Y.default)(h[p]||{},(0,nr.default)(m)),f.default.object(d.perAction[p])&&"enabled"in d.perAction[p]&&(h[p].enabled=m.enabled!==!1)):f.default.bool(m)&&f.default.object(d.perAction[p])?h[p].enabled=m:h[p]=m}}},{key:"getRect",value:function(i){return i=i||(f.default.element(this.target)?this.target:null),f.default.string(this.target)&&(i=i||this._context.querySelector(this.target)),(0,R.getElementRect)(i)}},{key:"rectChecker",value:function(i){var c=this;return f.default.func(i)?(this._rectChecker=i,this.getRect=function(d){var g=(0,Y.default)({},c._rectChecker(d));return"width"in g||(g.width=g.right-g.left,g.height=g.bottom-g.top),g},this):i===null?(delete this.getRect,delete this._rectChecker,this):this.getRect}},{key:"_backCompatOption",value:function(i,c){if((0,R.trySelector)(c)||f.default.object(c)){for(var d in this.options[i]=c,this._actions.map)this.options[d][i]=c;return this}return this.options[i]}},{key:"origin",value:function(i){return this._backCompatOption("origin",i)}},{key:"deltaSource",value:function(i){return i==="page"||i==="client"?(this.options.deltaSource=i,this):this.options.deltaSource}},{key:"context",value:function(){return this._context}},{key:"inContext",value:function(i){return this._context===i.ownerDocument||(0,R.nodeContains)(this._context,i)}},{key:"testIgnoreAllow",value:function(i,c,d){return!this.testIgnore(i.ignoreFrom,c,d)&&this.testAllow(i.allowFrom,c,d)}},{key:"testAllow",value:function(i,c,d){return!i||!!f.default.element(d)&&(f.default.string(i)?(0,R.matchesUpTo)(d,i,c):!!f.default.element(i)&&(0,R.nodeContains)(i,d))}},{key:"testIgnore",value:function(i,c,d){return!(!i||!f.default.element(d))&&(f.default.string(i)?(0,R.matchesUpTo)(d,i,c):!!f.default.element(i)&&(0,R.nodeContains)(i,d))}},{key:"fire",value:function(i){return this.events.fire(i),this}},{key:"_onOff",value:function(i,c,d,g){f.default.object(c)&&!f.default.array(c)&&(g=d,d=null);var p=i==="on"?"add":"remove",h=(0,he.default)(c,d);for(var m in h){m==="wheel"&&(m=L.default.wheelEvent);for(var w=0;w<h[m].length;w++){var M=h[m][w];(0,en.default)(m,this._actions)?this.events[i](m,M):f.default.string(this.target)?this._scopeEvents["".concat(p,"Delegate")](this.target,this._context,m,M,g):this._scopeEvents[p](this.target,m,M,g)}}return this}},{key:"on",value:function(i,c,d){return this._onOff("on",i,c,d)}},{key:"off",value:function(i,c,d){return this._onOff("off",i,c,d)}},{key:"set",value:function(i){var c=this._defaults;for(var d in f.default.object(i)||(i={}),this.options=(0,nr.default)(c.base),this._actions.methodDict){var g=d,p=this._actions.methodDict[g];this.options[g]={},this.setPerAction(g,(0,Y.default)((0,Y.default)({},c.perAction),c.actions[g])),this[p](i[g])}for(var h in i)f.default.func(this[h])&&this[h](i[h]);return this}},{key:"unset",value:function(){if(f.default.string(this.target))for(var i in this._scopeEvents.delegatedEvents)for(var c=this._scopeEvents.delegatedEvents[i],d=c.length-1;d>=0;d--){var g=c[d],p=g.selector,h=g.context,m=g.listeners;p===this.target&&h===this._context&&c.splice(d,1);for(var w=m.length-1;w>=0;w--)this._scopeEvents.removeDelegate(this.target,this._context,i,m[w][0],m[w][1])}else this._scopeEvents.remove(this.target,"all")}}])&&rp(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();vi.Interactable=np;var hi={};function ip(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Ea(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(hi,"__esModule",{value:!0}),hi.InteractableSet=void 0;var op=function(){function e(i){var c=this;(function(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")})(this,e),Ea(this,"list",[]),Ea(this,"selectorMap",{}),Ea(this,"scope",void 0),this.scope=i,i.addListeners({"interactable:unset":function(d){var g=d.interactable,p=g.target,h=g._context,m=f.default.string(p)?c.selectorMap[p]:p[c.scope.id],w=Se.findIndex(m,function(M){return M.context===h});m[w]&&(m[w].context=null,m[w].interactable=null),m.splice(w,1)}})}var t,n;return t=e,(n=[{key:"new",value:function(i,c){c=(0,Y.default)(c||{},{actions:this.scope.actions});var d=new this.scope.Interactable(i,c,this.scope.document,this.scope.events),g={context:d._context,interactable:d};return this.scope.addDocument(d._doc),this.list.push(d),f.default.string(i)?(this.selectorMap[i]||(this.selectorMap[i]=[]),this.selectorMap[i].push(g)):(d.target[this.scope.id]||Object.defineProperty(i,this.scope.id,{value:[],configurable:!0}),i[this.scope.id].push(g)),this.scope.fire("interactable:new",{target:i,options:c,interactable:d,win:this.scope._win}),d}},{key:"get",value:function(i,c){var d=c&&c.context||this.scope.document,g=f.default.string(i),p=g?this.selectorMap[i]:i[this.scope.id];if(!p)return null;var h=Se.find(p,function(m){return m.context===d&&(g||m.interactable.inContext(i))});return h&&h.interactable}},{key:"forEachMatch",value:function(i,c){for(var d=0;d<this.list.length;d++){var g=this.list[d],p=void 0;if((f.default.string(g.target)?f.default.element(i)&&R.matchesSelector(i,g.target):i===g.target)&&g.inContext(i)&&(p=c(g)),p!==void 0)return p}}}])&&ip(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();hi.InteractableSet=op;var gi={};function ap(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function Oa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var d,g,p=[],h=!0,m=!1;try{for(c=c.call(n);!(h=(d=c.next()).done)&&(p.push(d.value),!i||p.length!==i);h=!0);}catch(w){m=!0,g=w}finally{try{h||c.return==null||c.return()}finally{if(m)throw g}}return p}}(e,t)||function(n,i){if(n){if(typeof n=="string")return pc(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);return c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set"?Array.from(n):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?pc(n,i):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(gi,"__esModule",{value:!0}),gi.default=void 0;var sp=function(){function e(i){(function(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),Oa(this,"currentTarget",void 0),Oa(this,"originalEvent",void 0),Oa(this,"type",void 0),this.originalEvent=i,(0,J.default)(this,i)}var t,n;return t=e,(n=[{key:"preventOriginalDefault",value:function(){this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.originalEvent.stopPropagation()}},{key:"stopImmediatePropagation",value:function(){this.originalEvent.stopImmediatePropagation()}}])&&ap(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function tn(e){if(!f.default.object(e))return{capture:!!e,passive:!1};var t=(0,Y.default)({},e);return t.capture=!!e.capture,t.passive=!!e.passive,t}var cp={id:"events",install:function(e){var t,n=[],i={},c=[],d={add:g,remove:p,addDelegate:function(w,M,N,W,z){var ee=tn(z);if(!i[N]){i[N]=[];for(var ne=0;ne<c.length;ne++){var te=c[ne];g(te,N,h),g(te,N,m,!0)}}var oe=i[N],ue=Se.find(oe,function(ve){return ve.selector===w&&ve.context===M});ue||(ue={selector:w,context:M,listeners:[]},oe.push(ue)),ue.listeners.push([W,ee])},removeDelegate:function(w,M,N,W,z){var ee,ne=tn(z),te=i[N],oe=!1;if(te)for(ee=te.length-1;ee>=0;ee--){var ue=te[ee];if(ue.selector===w&&ue.context===M){for(var ve=ue.listeners,Ce=ve.length-1;Ce>=0;Ce--){var ke=Pa(ve[Ce],2),_e=ke[0],De=ke[1],yt=De.capture,zt=De.passive;if(_e===W&&yt===ne.capture&&zt===ne.passive){ve.splice(Ce,1),ve.length||(te.splice(ee,1),p(M,N,h),p(M,N,m,!0)),oe=!0;break}}if(oe)break}}},delegateListener:h,delegateUseCapture:m,delegatedEvents:i,documents:c,targets:n,supportsOptions:!1,supportsPassive:!1};function g(w,M,N,W){var z=tn(W),ee=Se.find(n,function(ne){return ne.eventTarget===w});ee||(ee={eventTarget:w,events:{}},n.push(ee)),ee.events[M]||(ee.events[M]=[]),w.addEventListener&&!Se.contains(ee.events[M],N)&&(w.addEventListener(M,N,d.supportsOptions?z:z.capture),ee.events[M].push(N))}function p(w,M,N,W){var z=tn(W),ee=Se.findIndex(n,function(Ce){return Ce.eventTarget===w}),ne=n[ee];if(ne&&ne.events)if(M!=="all"){var te=!1,oe=ne.events[M];if(oe){if(N==="all"){for(var ue=oe.length-1;ue>=0;ue--)p(w,M,oe[ue],z);return}for(var ve=0;ve<oe.length;ve++)if(oe[ve]===N){w.removeEventListener(M,N,d.supportsOptions?z:z.capture),oe.splice(ve,1),oe.length===0&&(delete ne.events[M],te=!0);break}}te&&!Object.keys(ne.events).length&&n.splice(ee,1)}else for(M in ne.events)ne.events.hasOwnProperty(M)&&p(w,M,"all")}function h(w,M){for(var N=tn(M),W=new sp(w),z=i[w.type],ee=Pa(A.getEventTargets(w),1)[0],ne=ee;f.default.element(ne);){for(var te=0;te<z.length;te++){var oe=z[te],ue=oe.selector,ve=oe.context;if(R.matchesSelector(ne,ue)&&R.nodeContains(ve,ee)&&R.nodeContains(ve,ne)){var Ce=oe.listeners;W.currentTarget=ne;for(var ke=0;ke<Ce.length;ke++){var _e=Pa(Ce[ke],2),De=_e[0],yt=_e[1],zt=yt.capture,Va=yt.passive;zt===N.capture&&Va===N.passive&&De(W)}}}ne=R.parentNode(ne)}}function m(w){return h(w,!0)}return(t=e.document)==null||t.createElement("div").addEventListener("test",null,{get capture(){return d.supportsOptions=!0},get passive(){return d.supportsPassive=!0}}),e.events=d,d}};gi.default=cp;var yi={};Object.defineProperty(yi,"__esModule",{value:!0}),yi.default=void 0;var xi={methodOrder:["simulationResume","mouseOrPen","hasPointer","idle"],search:function(e){for(var t=0;t<xi.methodOrder.length;t++){var n;n=xi.methodOrder[t];var i=xi[n](e);if(i)return i}return null},simulationResume:function(e){var t=e.pointerType,n=e.eventType,i=e.eventTarget,c=e.scope;if(!/down|start/i.test(n))return null;for(var d=0;d<c.interactions.list.length;d++){var g=c.interactions.list[d],p=i;if(g.simulation&&g.simulation.allowResume&&g.pointerType===t)for(;p;){if(p===g.element)return g;p=R.parentNode(p)}}return null},mouseOrPen:function(e){var t,n=e.pointerId,i=e.pointerType,c=e.eventType,d=e.scope;if(i!=="mouse"&&i!=="pen")return null;for(var g=0;g<d.interactions.list.length;g++){var p=d.interactions.list[g];if(p.pointerType===i){if(p.simulation&&!vc(p,n))continue;if(p.interacting())return p;t||(t=p)}}if(t)return t;for(var h=0;h<d.interactions.list.length;h++){var m=d.interactions.list[h];if(!(m.pointerType!==i||/down/i.test(c)&&m.simulation))return m}return null},hasPointer:function(e){for(var t=e.pointerId,n=e.scope,i=0;i<n.interactions.list.length;i++){var c=n.interactions.list[i];if(vc(c,t))return c}return null},idle:function(e){for(var t=e.pointerType,n=e.scope,i=0;i<n.interactions.list.length;i++){var c=n.interactions.list[i];if(c.pointers.length===1){var d=c.interactable;if(d&&(!d.options.gesture||!d.options.gesture.enabled))continue}else if(c.pointers.length>=2)continue;if(!c.interacting()&&t===c.pointerType)return c}return null}};function vc(e,t){return e.pointers.some(function(n){return n.id===t})}var lp=xi;yi.default=lp;var mi={};function Sa(e){return Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sa(e)}function hc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var d,g,p=[],h=!0,m=!1;try{for(c=c.call(n);!(h=(d=c.next()).done)&&(p.push(d.value),!i||p.length!==i);h=!0);}catch(w){m=!0,g=w}finally{try{h||c.return==null||c.return()}finally{if(m)throw g}}return p}}(e,t)||function(n,i){if(n){if(typeof n=="string")return gc(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);return c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set"?Array.from(n):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?gc(n,i):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function gc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function up(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fp(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function ja(e,t){return ja=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},ja(e,t)}function dp(e,t){if(t&&(Sa(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function bi(e){return bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},bi(e)}Object.defineProperty(mi,"__esModule",{value:!0}),mi.default=void 0;var Ma=["pointerDown","pointerMove","pointerUp","updatePointer","removePointer","windowBlur"];function yc(e,t){return function(n){var i=t.interactions.list,c=A.getPointerType(n),d=hc(A.getEventTargets(n),2),g=d[0],p=d[1],h=[];if(/^touch/.test(n.type)){t.prevTouchTime=t.now();for(var m=0;m<n.changedTouches.length;m++){var w=n.changedTouches[m],M={pointer:w,pointerId:A.getPointerId(w),pointerType:c,eventType:n.type,eventTarget:g,curEventTarget:p,scope:t},N=xc(M);h.push([M.pointer,M.eventTarget,M.curEventTarget,N])}}else{var W=!1;if(!L.default.supportsPointerEvent&&/mouse/.test(n.type)){for(var z=0;z<i.length&&!W;z++)W=i[z].pointerType!=="mouse"&&i[z].pointerIsDown;W=W||t.now()-t.prevTouchTime<500||n.timeStamp===0}if(!W){var ee={pointer:n,pointerId:A.getPointerId(n),pointerType:c,eventType:n.type,curEventTarget:p,eventTarget:g,scope:t},ne=xc(ee);h.push([ee.pointer,ee.eventTarget,ee.curEventTarget,ne])}}for(var te=0;te<h.length;te++){var oe=hc(h[te],4),ue=oe[0],ve=oe[1],Ce=oe[2];oe[3][e](ue,n,ve,Ce)}}}function xc(e){var t=e.pointerType,n=e.scope,i={interaction:yi.default.search(e),searchDetails:e};return n.fire("interactions:find",i),i.interaction||n.interactions.new({pointerType:t})}function Ca(e,t){var n=e.doc,i=e.scope,c=e.options,d=i.interactions.docEvents,g=i.events,p=g[t];for(var h in i.browser.isIOS&&!c.events&&(c.events={passive:!1}),g.delegatedEvents)p(n,h,g.delegateListener),p(n,h,g.delegateUseCapture,!0);for(var m=c&&c.events,w=0;w<d.length;w++){var M=d[w];p(n,M.type,M.listener,m)}}var pp={id:"core/interactions",install:function(e){for(var t={},n=0;n<Ma.length;n++){var i=Ma[n];t[i]=yc(i,e)}var c,d=L.default.pEventTypes;function g(){for(var p=0;p<e.interactions.list.length;p++){var h=e.interactions.list[p];if(h.pointerIsDown&&h.pointerType==="touch"&&!h._interacting)for(var m=function(){var M=h.pointers[w];e.documents.some(function(N){var W=N.doc;return(0,R.nodeContains)(W,M.downTarget)})||h.removePointer(M.pointer,M.event)},w=0;w<h.pointers.length;w++)m()}}(c=k.default.PointerEvent?[{type:d.down,listener:g},{type:d.down,listener:t.pointerDown},{type:d.move,listener:t.pointerMove},{type:d.up,listener:t.pointerUp},{type:d.cancel,listener:t.pointerUp}]:[{type:"mousedown",listener:t.pointerDown},{type:"mousemove",listener:t.pointerMove},{type:"mouseup",listener:t.pointerUp},{type:"touchstart",listener:g},{type:"touchstart",listener:t.pointerDown},{type:"touchmove",listener:t.pointerMove},{type:"touchend",listener:t.pointerUp},{type:"touchcancel",listener:t.pointerUp}]).push({type:"blur",listener:function(p){for(var h=0;h<e.interactions.list.length;h++)e.interactions.list[h].documentBlur(p)}}),e.prevTouchTime=0,e.Interaction=function(p){(function(z,ee){if(typeof ee!="function"&&ee!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(ee&&ee.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),Object.defineProperty(z,"prototype",{writable:!1}),ee&&ja(z,ee)})(W,p);var h,m,w,M,N=(w=W,M=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var z,ee=bi(w);if(M){var ne=bi(this).constructor;z=Reflect.construct(ee,arguments,ne)}else z=ee.apply(this,arguments);return dp(this,z)});function W(){return up(this,W),N.apply(this,arguments)}return h=W,(m=[{key:"pointerMoveTolerance",get:function(){return e.interactions.pointerMoveTolerance},set:function(z){e.interactions.pointerMoveTolerance=z}},{key:"_now",value:function(){return e.now()}}])&&fp(h.prototype,m),Object.defineProperty(h,"prototype",{writable:!1}),W}(ft.default),e.interactions={list:[],new:function(p){p.scopeFire=function(m,w){return e.fire(m,w)};var h=new e.Interaction(p);return e.interactions.list.push(h),h},listeners:t,docEvents:c,pointerMoveTolerance:1},e.usePlugin(rr.default)},listeners:{"scope:add-document":function(e){return Ca(e,"add")},"scope:remove-document":function(e){return Ca(e,"remove")},"interactable:unset":function(e,t){for(var n=e.interactable,i=t.interactions.list.length-1;i>=0;i--){var c=t.interactions.list[i];c.interactable===n&&(c.stop(),t.fire("interactions:destroy",{interaction:c}),c.destroy(),t.interactions.list.length>2&&t.interactions.list.splice(i,1))}}},onDocSignal:Ca,doOnInteractions:yc,methodNames:Ma},vp=pp;mi.default=vp;var rn={};function Ta(e){return Ta=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ta(e)}function nn(){return nn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=hp(e,t);if(i){var c=Object.getOwnPropertyDescriptor(i,t);return c.get?c.get.call(arguments.length<3?e:n):c.value}},nn.apply(this,arguments)}function hp(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$t(e))!==null;);return e}function Ia(e,t){return Ia=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ia(e,t)}function gp(e,t){if(t&&(Ta(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function $t(e){return $t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$t(e)}function mc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bc(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _c(e,t,n){return t&&bc(e.prototype,t),n&&bc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(rn,"__esModule",{value:!0}),rn.Scope=void 0,rn.initScope=wc;var yp=function(){function e(){var t=this;mc(this,e),et(this,"id","__interact_scope_".concat(Math.floor(100*Math.random()))),et(this,"isInitialized",!1),et(this,"listenerMaps",[]),et(this,"browser",L.default),et(this,"defaults",(0,nr.default)(Gr.defaults)),et(this,"Eventable",Qr.Eventable),et(this,"actions",{map:{},phases:{start:!0,move:!0,end:!0},methodDict:{},phaselessTypes:{}}),et(this,"interactStatic",(0,wa.createInteractStatic)(this)),et(this,"InteractEvent",Yr.InteractEvent),et(this,"Interactable",void 0),et(this,"interactables",new hi.InteractableSet(this)),et(this,"_win",void 0),et(this,"document",void 0),et(this,"window",void 0),et(this,"documents",[]),et(this,"_plugins",{list:[],map:{}}),et(this,"onWindowUnload",function(i){return t.removeDocument(i.target)});var n=this;this.Interactable=function(i){(function(h,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(m&&m.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),m&&Ia(h,m)})(p,i);var c,d,g=(c=p,d=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var h,m=$t(c);if(d){var w=$t(this).constructor;h=Reflect.construct(m,arguments,w)}else h=m.apply(this,arguments);return gp(this,h)});function p(){return mc(this,p),g.apply(this,arguments)}return _c(p,[{key:"_defaults",get:function(){return n.defaults}},{key:"set",value:function(h){return nn($t(p.prototype),"set",this).call(this,h),n.fire("interactable:set",{options:h,interactable:this}),this}},{key:"unset",value:function(){nn($t(p.prototype),"unset",this).call(this);var h=n.interactables.list.indexOf(this);h<0||(nn($t(p.prototype),"unset",this).call(this),n.interactables.list.splice(h,1),n.fire("interactable:unset",{interactable:this}))}}]),p}(vi.Interactable)}return _c(e,[{key:"addListeners",value:function(t,n){this.listenerMaps.push({id:n,map:t})}},{key:"fire",value:function(t,n){for(var i=0;i<this.listenerMaps.length;i++){var c=this.listenerMaps[i].map[t];if(c&&c(n,this,t)===!1)return!1}}},{key:"init",value:function(t){return this.isInitialized?this:wc(this,t)}},{key:"pluginIsInstalled",value:function(t){return this._plugins.map[t.id]||this._plugins.list.indexOf(t)!==-1}},{key:"usePlugin",value:function(t,n){if(!this.isInitialized)return this;if(this.pluginIsInstalled(t))return this;if(t.id&&(this._plugins.map[t.id]=t),this._plugins.list.push(t),t.install&&t.install(this,n),t.listeners&&t.before){for(var i=0,c=this.listenerMaps.length,d=t.before.reduce(function(p,h){return p[h]=!0,p[Ec(h)]=!0,p},{});i<c;i++){var g=this.listenerMaps[i].id;if(d[g]||d[Ec(g)])break}this.listenerMaps.splice(i,0,{id:t.id,map:t.listeners})}else t.listeners&&this.listenerMaps.push({id:t.id,map:t.listeners});return this}},{key:"addDocument",value:function(t,n){if(this.getDocIndex(t)!==-1)return!1;var i=s.getWindow(t);n=n?(0,Y.default)({},n):{},this.documents.push({doc:t,options:n}),this.events.documents.push(t),t!==this.document&&this.events.add(i,"unload",this.onWindowUnload),this.fire("scope:add-document",{doc:t,window:i,scope:this,options:n})}},{key:"removeDocument",value:function(t){var n=this.getDocIndex(t),i=s.getWindow(t),c=this.documents[n].options;this.events.remove(i,"unload",this.onWindowUnload),this.documents.splice(n,1),this.events.documents.splice(n,1),this.fire("scope:remove-document",{doc:t,window:i,scope:this,options:c})}},{key:"getDocIndex",value:function(t){for(var n=0;n<this.documents.length;n++)if(this.documents[n].doc===t)return n;return-1}},{key:"getDocOptions",value:function(t){var n=this.getDocIndex(t);return n===-1?null:this.documents[n].options}},{key:"now",value:function(){return(this.window.Date||Date).now()}}]),e}();function wc(e,t){return e.isInitialized=!0,f.default.window(t)&&s.init(t),k.default.init(t),L.default.init(t),pt.default.init(t),e.window=t,e.document=t.document,e.usePlugin(mi.default),e.usePlugin(gi.default),e}function Ec(e){return e&&e.replace(/\/.*$/,"")}rn.Scope=yp;var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.default=void 0;var Oc=new rn.Scope,xp=Oc.interactStatic;ot.default=xp;var mp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0;Oc.init(mp);var _i={};Object.defineProperty(_i,"__esModule",{value:!0}),_i.default=void 0,_i.default=function(){};var wi={};Object.defineProperty(wi,"__esModule",{value:!0}),wi.default=void 0,wi.default=function(){};var Ei={};function Pc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,i){var c=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(c!=null){var d,g,p=[],h=!0,m=!1;try{for(c=c.call(n);!(h=(d=c.next()).done)&&(p.push(d.value),!i||p.length!==i);h=!0);}catch(w){m=!0,g=w}finally{try{h||c.return==null||c.return()}finally{if(m)throw g}}return p}}(e,t)||function(n,i){if(n){if(typeof n=="string")return Sc(n,i);var c=Object.prototype.toString.call(n).slice(8,-1);return c==="Object"&&n.constructor&&(c=n.constructor.name),c==="Map"||c==="Set"?Array.from(n):c==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?Sc(n,i):void 0}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(Ei,"__esModule",{value:!0}),Ei.default=void 0,Ei.default=function(e){var t=[["x","y"],["left","top"],["right","bottom"],["width","height"]].filter(function(i){var c=Pc(i,2),d=c[0],g=c[1];return d in e||g in e}),n=function(i,c){for(var d=e.range,g=e.limits,p=g===void 0?{left:-1/0,right:1/0,top:-1/0,bottom:1/0}:g,h=e.offset,m=h===void 0?{x:0,y:0}:h,w={range:d,grid:e,x:null,y:null},M=0;M<t.length;M++){var N=Pc(t[M],2),W=N[0],z=N[1],ee=Math.round((i-m.x)/e[W]),ne=Math.round((c-m.y)/e[z]);w[W]=Math.max(p.left,Math.min(p.right,ee*e[W]+m.x)),w[z]=Math.max(p.top,Math.min(p.bottom,ne*e[z]+m.y))}return w};return n.grid=e,n.coordFields=t,n};var on={};Object.defineProperty(on,"__esModule",{value:!0}),Object.defineProperty(on,"edgeTarget",{enumerable:!0,get:function(){return _i.default}}),Object.defineProperty(on,"elements",{enumerable:!0,get:function(){return wi.default}}),Object.defineProperty(on,"grid",{enumerable:!0,get:function(){return Ei.default}});var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0}),Oi.default=void 0;var bp={id:"snappers",install:function(e){var t=e.interactStatic;t.snappers=(0,Y.default)(t.snappers||{},on),t.createSnapGrid=t.snappers.grid}},_p=bp;Oi.default=_p;var yr={};function jc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,i)}return n}function Aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jc(Object(n),!0).forEach(function(i){wp(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jc(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function wp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(yr,"__esModule",{value:!0}),yr.default=yr.aspectRatio=void 0;var Mc={start:function(e){var t=e.state,n=e.rect,i=e.edges,c=e.pageCoords,d=t.options,g=d.ratio,p=d.enabled,h=t.options,m=h.equalDelta,w=h.modifiers;g==="preserve"&&(g=n.width/n.height),t.startCoords=(0,Y.default)({},c),t.startRect=(0,Y.default)({},n),t.ratio=g,t.equalDelta=m;var M=t.linkedEdges={top:i.top||i.left&&!i.bottom,left:i.left||i.top&&!i.right,bottom:i.bottom||i.right&&!i.top,right:i.right||i.bottom&&!i.left};if(t.xIsPrimaryAxis=!(!i.left&&!i.right),t.equalDelta){var N=(M.left?1:-1)*(M.top?1:-1);t.edgeSign={x:N,y:N}}else t.edgeSign={x:M.left?-1:1,y:M.top?-1:1};if(p!==!1&&(0,Y.default)(i,M),w!=null&&w.length){var W=new ir.default(e.interaction);W.copyFrom(e.interaction.modification),W.prepareStates(w),t.subModification=W,W.startAll(Aa({},e))}},set:function(e){var t=e.state,n=e.rect,i=e.coords,c=t.linkedEdges,d=(0,Y.default)({},i),g=t.equalDelta?Ep:Op;if((0,Y.default)(e.edges,c),g(t,t.xIsPrimaryAxis,i,n),!t.subModification)return null;var p=(0,Y.default)({},n);(0,ie.addEdges)(c,p,{x:i.x-d.x,y:i.y-d.y});var h=t.subModification.setAll(Aa(Aa({},e),{},{rect:p,edges:c,pageCoords:i,prevCoords:i,prevRect:p})),m=h.delta;return h.changed&&(g(t,Math.abs(m.x)>Math.abs(m.y),h.coords,h.rect),(0,Y.default)(i,h.coords)),h.eventProps},defaults:{ratio:"preserve",equalDelta:!1,modifiers:[],enabled:!1}};function Ep(e,t,n){var i=e.startCoords,c=e.edgeSign;t?n.y=i.y+(n.x-i.x)*c.y:n.x=i.x+(n.y-i.y)*c.x}function Op(e,t,n,i){var c=e.startRect,d=e.startCoords,g=e.ratio,p=e.edgeSign;if(t){var h=i.width/g;n.y=d.y+(h-c.height)*p.y}else{var m=i.height*g;n.x=d.x+(m-c.width)*p.x}}yr.aspectRatio=Mc;var Pp=(0,Je.makeModifier)(Mc,"aspectRatio");yr.default=Pp;var ar={};Object.defineProperty(ar,"__esModule",{value:!0}),ar.default=void 0;var Cc=function(){};Cc._defaults={};var Sp=Cc;ar.default=Sp;var Ra={};Object.defineProperty(Ra,"__esModule",{value:!0}),Object.defineProperty(Ra,"default",{enumerable:!0,get:function(){return ar.default}});var ct={};function Da(e,t,n){return f.default.func(e)?ie.resolveRectLike(e,t.interactable,t.element,[n.x,n.y,t]):ie.resolveRectLike(e,t.interactable,t.element)}Object.defineProperty(ct,"__esModule",{value:!0}),ct.default=void 0,ct.getRestrictionRect=Da,ct.restrict=void 0;var Tc={start:function(e){var t=e.rect,n=e.startOffset,i=e.state,c=e.interaction,d=e.pageCoords,g=i.options,p=g.elementRect,h=(0,Y.default)({left:0,top:0,right:0,bottom:0},g.offset||{});if(t&&p){var m=Da(g.restriction,c,d);if(m){var w=m.right-m.left-t.width,M=m.bottom-m.top-t.height;w<0&&(h.left+=w,h.right+=w),M<0&&(h.top+=M,h.bottom+=M)}h.left+=n.left-t.width*p.left,h.top+=n.top-t.height*p.top,h.right+=n.right-t.width*(1-p.right),h.bottom+=n.bottom-t.height*(1-p.bottom)}i.offset=h},set:function(e){var t=e.coords,n=e.interaction,i=e.state,c=i.options,d=i.offset,g=Da(c.restriction,n,t);if(g){var p=ie.xywhToTlbr(g);t.x=Math.max(Math.min(p.right-d.right,t.x),p.left+d.left),t.y=Math.max(Math.min(p.bottom-d.bottom,t.y),p.top+d.top)}},defaults:{restriction:null,elementRect:null,offset:null,endOnly:!1,enabled:!1}};ct.restrict=Tc;var jp=(0,Je.makeModifier)(Tc,"restrict");ct.default=jp;var jt={};Object.defineProperty(jt,"__esModule",{value:!0}),jt.restrictEdges=jt.default=void 0;var Ic={top:1/0,left:1/0,bottom:-1/0,right:-1/0},Ac={top:-1/0,left:-1/0,bottom:1/0,right:1/0};function Rc(e,t){for(var n=["top","left","bottom","right"],i=0;i<n.length;i++){var c=n[i];c in e||(e[c]=t[c])}return e}var Dc={noInner:Ic,noOuter:Ac,start:function(e){var t,n=e.interaction,i=e.startOffset,c=e.state,d=c.options;if(d){var g=(0,ct.getRestrictionRect)(d.offset,n,n.coords.start.page);t=ie.rectToXY(g)}t=t||{x:0,y:0},c.offset={top:t.y+i.top,left:t.x+i.left,bottom:t.y-i.bottom,right:t.x-i.right}},set:function(e){var t=e.coords,n=e.edges,i=e.interaction,c=e.state,d=c.offset,g=c.options;if(n){var p=(0,Y.default)({},t),h=(0,ct.getRestrictionRect)(g.inner,i,p)||{},m=(0,ct.getRestrictionRect)(g.outer,i,p)||{};Rc(h,Ic),Rc(m,Ac),n.top?t.y=Math.min(Math.max(m.top+d.top,p.y),h.top+d.top):n.bottom&&(t.y=Math.max(Math.min(m.bottom+d.bottom,p.y),h.bottom+d.bottom)),n.left?t.x=Math.min(Math.max(m.left+d.left,p.x),h.left+d.left):n.right&&(t.x=Math.max(Math.min(m.right+d.right,p.x),h.right+d.right))}},defaults:{inner:null,outer:null,offset:null,endOnly:!1,enabled:!1}};jt.restrictEdges=Dc;var Mp=(0,Je.makeModifier)(Dc,"restrictEdges");jt.default=Mp;var xr={};Object.defineProperty(xr,"__esModule",{value:!0}),xr.restrictRect=xr.default=void 0;var Cp=(0,Y.default)({get elementRect(){return{top:0,left:0,bottom:1,right:1}},set elementRect(e){}},ct.restrict.defaults),kc={start:ct.restrict.start,set:ct.restrict.set,defaults:Cp};xr.restrictRect=kc;var Tp=(0,Je.makeModifier)(kc,"restrictRect");xr.default=Tp;var mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.restrictSize=mr.default=void 0;var Ip={width:-1/0,height:-1/0},Ap={width:1/0,height:1/0},Bc={start:function(e){return jt.restrictEdges.start(e)},set:function(e){var t=e.interaction,n=e.state,i=e.rect,c=e.edges,d=n.options;if(c){var g=ie.tlbrToXywh((0,ct.getRestrictionRect)(d.min,t,e.coords))||Ip,p=ie.tlbrToXywh((0,ct.getRestrictionRect)(d.max,t,e.coords))||Ap;n.options={endOnly:d.endOnly,inner:(0,Y.default)({},jt.restrictEdges.noInner),outer:(0,Y.default)({},jt.restrictEdges.noOuter)},c.top?(n.options.inner.top=i.bottom-g.height,n.options.outer.top=i.bottom-p.height):c.bottom&&(n.options.inner.bottom=i.top+g.height,n.options.outer.bottom=i.top+p.height),c.left?(n.options.inner.left=i.right-g.width,n.options.outer.left=i.right-p.width):c.right&&(n.options.inner.right=i.left+g.width,n.options.outer.right=i.left+p.width),jt.restrictEdges.set(e),n.options=d}},defaults:{min:null,max:null,endOnly:!1,enabled:!1}};mr.restrictSize=Bc;var Rp=(0,Je.makeModifier)(Bc,"restrictSize");mr.default=Rp;var ka={};Object.defineProperty(ka,"__esModule",{value:!0}),Object.defineProperty(ka,"default",{enumerable:!0,get:function(){return ar.default}});var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.snap=Ft.default=void 0;var Hc={start:function(e){var t,n=e.interaction,i=e.interactable,c=e.element,d=e.rect,g=e.state,p=e.startOffset,h=g.options,m=h.offsetWithOrigin?function(N){var W=N.interaction.element;return(0,ie.rectToXY)((0,ie.resolveRectLike)(N.state.options.origin,null,null,[W]))||(0,ye.default)(N.interactable,W,N.interaction.prepared.name)}(e):{x:0,y:0};if(h.offset==="startCoords")t={x:n.coords.start.page.x,y:n.coords.start.page.y};else{var w=(0,ie.resolveRectLike)(h.offset,i,c,[n]);(t=(0,ie.rectToXY)(w)||{x:0,y:0}).x+=m.x,t.y+=m.y}var M=h.relativePoints;g.offsets=d&&M&&M.length?M.map(function(N,W){return{index:W,relativePoint:N,x:p.left-d.width*N.x+t.x,y:p.top-d.height*N.y+t.y}}):[{index:0,relativePoint:null,x:t.x,y:t.y}]},set:function(e){var t=e.interaction,n=e.coords,i=e.state,c=i.options,d=i.offsets,g=(0,ye.default)(t.interactable,t.element,t.prepared.name),p=(0,Y.default)({},n),h=[];c.offsetWithOrigin||(p.x-=g.x,p.y-=g.y);for(var m=0;m<d.length;m++)for(var w=d[m],M=p.x-w.x,N=p.y-w.y,W=0,z=c.targets.length;W<z;W++){var ee,ne=c.targets[W];(ee=f.default.func(ne)?ne(M,N,t._proxy,w,W):ne)&&h.push({x:(f.default.number(ee.x)?ee.x:M)+w.x,y:(f.default.number(ee.y)?ee.y:N)+w.y,range:f.default.number(ee.range)?ee.range:c.range,source:ne,index:W,offset:w})}for(var te={target:null,inRange:!1,distance:0,range:0,delta:{x:0,y:0}},oe=0;oe<h.length;oe++){var ue=h[oe],ve=ue.range,Ce=ue.x-p.x,ke=ue.y-p.y,_e=(0,X.default)(Ce,ke),De=_e<=ve;ve===1/0&&te.inRange&&te.range!==1/0&&(De=!1),te.target&&!(De?te.inRange&&ve!==1/0?_e/ve<te.distance/te.range:ve===1/0&&te.range!==1/0||_e<te.distance:!te.inRange&&_e<te.distance)||(te.target=ue,te.distance=_e,te.range=ve,te.inRange=De,te.delta.x=Ce,te.delta.y=ke)}return te.inRange&&(n.x=te.target.x,n.y=te.target.y),i.closest=te,te},defaults:{range:1/0,targets:null,offset:null,offsetWithOrigin:!0,origin:null,relativePoints:null,endOnly:!1,enabled:!1}};Ft.snap=Hc;var Dp=(0,Je.makeModifier)(Hc,"snap");Ft.default=Dp;var Ht={};function zc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.snapSize=Ht.default=void 0;var Lc={start:function(e){var t=e.state,n=e.edges,i=t.options;if(!n)return null;e.state={options:{targets:null,relativePoints:[{x:n.left?0:1,y:n.top?0:1}],offset:i.offset||"self",origin:{x:0,y:0},range:i.range}},t.targetFields=t.targetFields||[["width","height"],["x","y"]],Ft.snap.start(e),t.offsets=e.state.offsets,e.state=t},set:function(e){var t,n,i=e.interaction,c=e.state,d=e.coords,g=c.options,p=c.offsets,h={x:d.x-p[0].x,y:d.y-p[0].y};c.options=(0,Y.default)({},g),c.options.targets=[];for(var m=0;m<(g.targets||[]).length;m++){var w=(g.targets||[])[m],M=void 0;if(M=f.default.func(w)?w(h.x,h.y,i):w){for(var N=0;N<c.targetFields.length;N++){var W=(t=c.targetFields[N],n=2,function(te){if(Array.isArray(te))return te}(t)||function(te,oe){var ue=te==null?null:typeof Symbol<"u"&&te[Symbol.iterator]||te["@@iterator"];if(ue!=null){var ve,Ce,ke=[],_e=!0,De=!1;try{for(ue=ue.call(te);!(_e=(ve=ue.next()).done)&&(ke.push(ve.value),!oe||ke.length!==oe);_e=!0);}catch(yt){De=!0,Ce=yt}finally{try{_e||ue.return==null||ue.return()}finally{if(De)throw Ce}}return ke}}(t,n)||function(te,oe){if(te){if(typeof te=="string")return zc(te,oe);var ue=Object.prototype.toString.call(te).slice(8,-1);return ue==="Object"&&te.constructor&&(ue=te.constructor.name),ue==="Map"||ue==="Set"?Array.from(te):ue==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ue)?zc(te,oe):void 0}}(t,n)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),z=W[0],ee=W[1];if(z in M||ee in M){M.x=M[z],M.y=M[ee];break}}c.options.targets.push(M)}}var ne=Ft.snap.set(e);return c.options=g,ne},defaults:{range:1/0,targets:null,offset:null,endOnly:!1,enabled:!1}};Ht.snapSize=Lc;var kp=(0,Je.makeModifier)(Lc,"snapSize");Ht.default=kp;var br={};Object.defineProperty(br,"__esModule",{value:!0}),br.snapEdges=br.default=void 0;var Nc={start:function(e){var t=e.edges;return t?(e.state.targetFields=e.state.targetFields||[[t.left?"left":"right",t.top?"top":"bottom"]],Ht.snapSize.start(e)):null},set:Ht.snapSize.set,defaults:(0,Y.default)((0,nr.default)(Ht.snapSize.defaults),{targets:null,range:null,offset:{x:0,y:0}})};br.snapEdges=Nc;var Bp=(0,Je.makeModifier)(Nc,"snapEdges");br.default=Bp;var Ba={};Object.defineProperty(Ba,"__esModule",{value:!0}),Object.defineProperty(Ba,"default",{enumerable:!0,get:function(){return ar.default}});var Ha={};Object.defineProperty(Ha,"__esModule",{value:!0}),Object.defineProperty(Ha,"default",{enumerable:!0,get:function(){return ar.default}});var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.default=void 0;var Hp={aspectRatio:yr.default,restrictEdges:jt.default,restrict:ct.default,restrictRect:xr.default,restrictSize:mr.default,snapEdges:br.default,snap:Ft.default,snapSize:Ht.default,spring:Ba.default,avoid:Ra.default,transform:Ha.default,rubberband:ka.default};_r.default=Hp;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.default=void 0;var zp={id:"modifiers",install:function(e){var t=e.interactStatic;for(var n in e.usePlugin(Je.default),e.usePlugin(Oi.default),t.modifiers=_r.default,_r.default){var i=_r.default[n],c=i._defaults,d=i._methods;c._methods=d,e.defaults.perAction[n]=c}}},Lp=zp;an.default=Lp;var sr={};function za(e){return za=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},za(e)}function Np(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function La(e,t){return La=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},La(e,t)}function $p(e,t){if(t&&(za(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Na(e)}function Na(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pi(e){return Pi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Pi(e)}Object.defineProperty(sr,"__esModule",{value:!0}),sr.default=sr.PointerEvent=void 0;var Fp=function(e){(function(p,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),Object.defineProperty(p,"prototype",{writable:!1}),h&&La(p,h)})(g,e);var t,n,i,c,d=(i=g,c=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var p,h=Pi(i);if(c){var m=Pi(this).constructor;p=Reflect.construct(h,arguments,m)}else p=h.apply(this,arguments);return $p(this,p)});function g(p,h,m,w,M,N){var W;if(function(ne,te){if(!(ne instanceof te))throw new TypeError("Cannot call a class as a function")}(this,g),W=d.call(this,M),A.pointerExtend(Na(W),m),m!==h&&A.pointerExtend(Na(W),h),W.timeStamp=N,W.originalEvent=m,W.type=p,W.pointerId=A.getPointerId(h),W.pointerType=A.getPointerType(h),W.target=w,W.currentTarget=null,p==="tap"){var z=M.getPointerIndex(h);W.dt=W.timeStamp-M.pointers[z].downTime;var ee=W.timeStamp-M.tapTime;W.double=!!M.prevTap&&M.prevTap.type!=="doubletap"&&M.prevTap.target===W.target&&ee<500}else p==="doubletap"&&(W.dt=h.timeStamp-M.tapTime,W.double=!0);return W}return t=g,(n=[{key:"_subtractOrigin",value:function(p){var h=p.x,m=p.y;return this.pageX-=h,this.pageY-=m,this.clientX-=h,this.clientY-=m,this}},{key:"_addOrigin",value:function(p){var h=p.x,m=p.y;return this.pageX+=h,this.pageY+=m,this.clientX+=h,this.clientY+=m,this}},{key:"preventDefault",value:function(){this.originalEvent.preventDefault()}}])&&Np(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),g}(Ze.BaseEvent);sr.PointerEvent=sr.default=Fp;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.default=void 0;var Si={id:"pointer-events/base",before:["inertia","modifiers","auto-start","actions"],install:function(e){e.pointerEvents=Si,e.defaults.actions.pointerEvents=Si.defaults,(0,Y.default)(e.actions.phaselessTypes,Si.types)},listeners:{"interactions:new":function(e){var t=e.interaction;t.prevTap=null,t.tapTime=0},"interactions:update-pointer":function(e){var t=e.down,n=e.pointerInfo;!t&&n.hold||(n.hold={duration:1/0,timeout:null})},"interactions:move":function(e,t){var n=e.interaction,i=e.pointer,c=e.event,d=e.eventTarget;e.duplicate||n.pointerIsDown&&!n.pointerWasMoved||(n.pointerIsDown&&$a(e),Vt({interaction:n,pointer:i,event:c,eventTarget:d,type:"move"},t))},"interactions:down":function(e,t){(function(n,i){for(var c=n.interaction,d=n.pointer,g=n.event,p=n.eventTarget,h=n.pointerIndex,m=c.pointers[h].hold,w=R.getPath(p),M={interaction:c,pointer:d,event:g,eventTarget:p,type:"hold",targets:[],path:w,node:null},N=0;N<w.length;N++){var W=w[N];M.node=W,i.fire("pointerEvents:collect-targets",M)}if(M.targets.length){for(var z=1/0,ee=0;ee<M.targets.length;ee++){var ne=M.targets[ee].eventable.options.holdDuration;ne<z&&(z=ne)}m.duration=z,m.timeout=setTimeout(function(){Vt({interaction:c,eventTarget:p,pointer:d,event:g,type:"hold"},i)},z)}})(e,t),Vt(e,t)},"interactions:up":function(e,t){$a(e),Vt(e,t),function(n,i){var c=n.interaction,d=n.pointer,g=n.event,p=n.eventTarget;c.pointerWasMoved||Vt({interaction:c,eventTarget:p,pointer:d,event:g,type:"tap"},i)}(e,t)},"interactions:cancel":function(e,t){$a(e),Vt(e,t)}},PointerEvent:sr.PointerEvent,fire:Vt,collectEventTargets:$c,defaults:{holdDuration:600,ignoreFrom:null,allowFrom:null,origin:{x:0,y:0}},types:{down:!0,move:!0,up:!0,cancel:!0,tap:!0,doubletap:!0,hold:!0}};function Vt(e,t){var n=e.interaction,i=e.pointer,c=e.event,d=e.eventTarget,g=e.type,p=e.targets,h=p===void 0?$c(e,t):p,m=new sr.PointerEvent(g,i,c,d,n,t.now());t.fire("pointerEvents:new",{pointerEvent:m});for(var w={interaction:n,pointer:i,event:c,eventTarget:d,targets:h,type:g,pointerEvent:m},M=0;M<h.length;M++){var N=h[M];for(var W in N.props||{})m[W]=N.props[W];var z=(0,ye.default)(N.eventable,N.node);if(m._subtractOrigin(z),m.eventable=N.eventable,m.currentTarget=N.node,N.eventable.fire(m),m._addOrigin(z),m.immediatePropagationStopped||m.propagationStopped&&M+1<h.length&&h[M+1].node!==m.currentTarget)break}if(t.fire("pointerEvents:fired",w),g==="tap"){var ee=m.double?Vt({interaction:n,pointer:i,event:c,eventTarget:d,type:"doubletap"},t):m;n.prevTap=ee,n.tapTime=ee.timeStamp}return m}function $c(e,t){var n=e.interaction,i=e.pointer,c=e.event,d=e.eventTarget,g=e.type,p=n.getPointerIndex(i),h=n.pointers[p];if(g==="tap"&&(n.pointerWasMoved||!h||h.downTarget!==d))return[];for(var m=R.getPath(d),w={interaction:n,pointer:i,event:c,eventTarget:d,type:g,path:m,targets:[],node:null},M=0;M<m.length;M++){var N=m[M];w.node=N,t.fire("pointerEvents:collect-targets",w)}return g==="hold"&&(w.targets=w.targets.filter(function(W){var z;return W.eventable.options.holdDuration===((z=n.pointers[p])==null?void 0:z.hold.duration)})),w.targets}function $a(e){var t=e.interaction,n=e.pointerIndex,i=t.pointers[n].hold;i&&i.timeout&&(clearTimeout(i.timeout),i.timeout=null)}var Vp=Si;sn.default=Vp;var ji={};function qp(e){var t=e.interaction;t.holdIntervalHandle&&(clearInterval(t.holdIntervalHandle),t.holdIntervalHandle=null)}Object.defineProperty(ji,"__esModule",{value:!0}),ji.default=void 0;var Wp={id:"pointer-events/holdRepeat",install:function(e){e.usePlugin(sn.default);var t=e.pointerEvents;t.defaults.holdRepeatInterval=0,t.types.holdrepeat=e.actions.phaselessTypes.holdrepeat=!0},listeners:["move","up","cancel","endall"].reduce(function(e,t){return e["pointerEvents:".concat(t)]=qp,e},{"pointerEvents:new":function(e){var t=e.pointerEvent;t.type==="hold"&&(t.count=(t.count||0)+1)},"pointerEvents:fired":function(e,t){var n=e.interaction,i=e.pointerEvent,c=e.eventTarget,d=e.targets;if(i.type==="hold"&&d.length){var g=d[0].eventable.options.holdRepeatInterval;g<=0||(n.holdIntervalHandle=setTimeout(function(){t.pointerEvents.fire({interaction:n,eventTarget:c,type:"hold",pointer:i,event:i},t)},g))}}})},Up=Wp;ji.default=Up;var Mi={};function Xp(e){return(0,Y.default)(this.events.options,e),this}Object.defineProperty(Mi,"__esModule",{value:!0}),Mi.default=void 0;var Gp={id:"pointer-events/interactableTargets",install:function(e){var t=e.Interactable;t.prototype.pointerEvents=Xp;var n=t.prototype._backCompatOption;t.prototype._backCompatOption=function(i,c){var d=n.call(this,i,c);return d===this&&(this.events.options[i]=c),d}},listeners:{"pointerEvents:collect-targets":function(e,t){var n=e.targets,i=e.node,c=e.type,d=e.eventTarget;t.interactables.forEachMatch(i,function(g){var p=g.events,h=p.options;p.types[c]&&p.types[c].length&&g.testIgnoreAllow(h,i,d)&&n.push({node:i,eventable:p,props:{interactable:g}})})},"interactable:new":function(e){var t=e.interactable;t.events.getRect=function(n){return t.getRect(n)}},"interactable:set":function(e,t){var n=e.interactable,i=e.options;(0,Y.default)(n.events.options,t.pointerEvents.defaults),(0,Y.default)(n.events.options,i.pointerEvents||{})}}},Yp=Gp;Mi.default=Yp;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.default=void 0;var Zp={id:"pointer-events",install:function(e){e.usePlugin(sn),e.usePlugin(ji.default),e.usePlugin(Mi.default)}},Kp=Zp;cn.default=Kp;var wr={};function Fc(e){var t=e.Interactable;e.actions.phases.reflow=!0,t.prototype.reflow=function(n){return function(i,c,d){for(var g=f.default.string(i.target)?Se.from(i._context.querySelectorAll(i.target)):[i.target],p=d.window.Promise,h=p?[]:null,m=function(){var M=g[w],N=i.getRect(M);if(!N)return"break";var W=Se.find(d.interactions.list,function(oe){return oe.interacting()&&oe.interactable===i&&oe.element===M&&oe.prepared.name===c.name}),z=void 0;if(W)W.move(),h&&(z=W._reflowPromise||new p(function(oe){W._reflowResolve=oe}));else{var ee=(0,ie.tlbrToXywh)(N),ne={page:{x:ee.x,y:ee.y},client:{x:ee.x,y:ee.y},timeStamp:d.now()},te=A.coordsToEvent(ne);z=function(oe,ue,ve,Ce,ke){var _e=oe.interactions.new({pointerType:"reflow"}),De={interaction:_e,event:ke,pointer:ke,eventTarget:ve,phase:"reflow"};_e.interactable=ue,_e.element=ve,_e.prevEvent=ke,_e.updatePointer(ke,ke,ve,!0),A.setZeroCoords(_e.coords.delta),(0,vt.copyAction)(_e.prepared,Ce),_e._doPhase(De);var yt=oe.window.Promise,zt=yt?new yt(function(Va){_e._reflowResolve=Va}):void 0;return _e._reflowPromise=zt,_e.start(Ce,ue,ve),_e._interacting?(_e.move(De),_e.end(ke)):(_e.stop(),_e._reflowResolve()),_e.removePointer(ke,ke),zt}(d,i,M,c,te)}h&&h.push(z)},w=0;w<g.length&&m()!=="break";w++);return h&&p.all(h).then(function(){return i})}(this,n,e)}}Object.defineProperty(wr,"__esModule",{value:!0}),wr.default=void 0,wr.install=Fc;var Qp={id:"reflow",install:Fc,listeners:{"interactions:stop":function(e,t){var n=e.interaction;n.pointerType==="reflow"&&(n._reflowResolve&&n._reflowResolve(),Se.remove(t.interactions.list,n))}}},Jp=Qp;wr.default=Jp;var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.default=void 0,ot.default.use(rr.default),ot.default.use(Nt.default),ot.default.use(cn.default),ot.default.use(or.default),ot.default.use(an.default),ot.default.use(Ur.default),ot.default.use(Jt.default),ot.default.use(ze.default),ot.default.use(wr.default);var ev=ot.default;cr.default=ev,ot.default.default=ot.default,Jt.default,ze.default,Ur.default,rr.default,si.default,or.default,ot.default,an.default,Nt.default,cn.default,wr.default;var lr={exports:{}};function Fa(e){return Fa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}Object.defineProperty(lr.exports,"__esModule",{value:!0}),lr.exports.default=void 0;var tv=cr.default;if(lr.exports.default=tv,Fa(lr)==="object"&&lr)try{lr.exports=cr.default}catch{}return cr.default.default=cr.default,lr.exports})})(G0);var rd=G0.exports;const ca=Vc(rd),nd=(a,r,o,s)=>{ca(a).draggable({inertia:!1,listeners:{move:l=>{o==null||o(l);const u=r,v=u.getBoundingClientRect(),f=v.x+l.dx,b=v.y+l.dy;u.style.left=`${f}px`,u.style.top=`${b}px`},end:l=>{s==null||s(l)}},modifiers:[ca.modifiers.restrict({restriction:"parent",endOnly:!0})],autoScroll:!0})},id=(a,r,o)=>{ca(a).resizable({edges:{top:!0,left:!0,bottom:!0,right:!0},listeners:{move:s=>{var v,f;r==null||r(s);const l=s.target,u=l.getBoundingClientRect();l.style.width=`${s.rect.width}px`,l.style.height=`${s.rect.height}px`,u.x+=((v=s.deltaRect)==null?void 0:v.left)??0,u.y+=((f=s.deltaRect)==null?void 0:f.top)??0,l.style.left=`${u.x}px`,l.style.top=`${u.y}px`},end:s=>{o==null||o(s)}}})};var od=Object.defineProperty,ad=Object.getOwnPropertyDescriptor,sd=(a,r,o,s)=>{for(var l=s>1?void 0:s?ad(r,o):r,u=a.length-1,v;u>=0;u--)(v=a[u])&&(l=(s?v(r,o,l):v(l))||l);return s&&l&&od(r,o,l),l},la=(a,r)=>(o,s)=>r(o,s,a);const cd={wrap:{id:"#editor-wrap",elementType:HTMLDivElement},header:{id:"#editor-header",elementType:HTMLDivElement},loading:{id:"#editor-loading",elementType:HTMLDivElement},editor:{id:"#editor-frame",elementType:HTMLIFrameElement},preview:{id:"#preview-frame",elementType:HTMLIFrameElement},copyCodeButton:{id:"#editor-copy-code",elementType:HTMLButtonElement},copyPath:{id:"#editor-copy-path",elementType:SVGPathElement},copyRect:{id:"#editor-copy-rect",elementType:SVGRectElement},copyPolyline:{id:"#editor-copy-polyline",elementType:SVGPolylineElement},copyTextBefore:{id:"#editor-copy-text-before",elementType:HTMLSpanElement},copyTextAfter:{id:"#editor-copy-text-after",elementType:HTMLSpanElement}};let ua=class{constructor(a,r,o){this.elements=a,this.runtimeMessageAgent=r,this.windowMessageAgent=o,this.initialize=s=>{this.elements.editor.addEventListener("load",()=>this.editorLoaded(s)),this.windowMessageAgent.addListener(rt.TabChangedEvent,this.changeTab),this.windowMessageAgent.addListener(rt.ClipboardSave,this.saveClipboard),this.windowMessageAgent.addListener(rt.DatabaseSave,this.saveEditorData),this.elements.header.addEventListener("dblclick",this.toggleEditor),this.elements.copyCodeButton.addEventListener("click",this.postClipboardRequest),document.addEventListener("click",this.postTabUpdateRequest)},this.editorLoaded=async s=>{var v;const l=await Ee.loadResourceText(s);(v=Ee.htmlTextToHtmlElement(l).querySelectorAll(`[class*="${Kt}"]`))==null||v.forEach(async f=>{const b=X0(f);if(b===Jn.PREVIEW)return;let y;try{y=await this.runtimeMessageAgent.sendMessage(rt.DatabaseLoad,{runtimeId:chrome.runtime.id,key:b,message:""})}catch(x){throw new Ee.AlertNamedError(rt.DatabaseLoad,x)}if(y)try{const x=Ee.assertNotNull(this.elements.editor.contentWindow);await this.windowMessageAgent.postMessage(x,Ee.EXT_ORIGIN,rt.DatabaseLoad,{runtimeId:chrome.runtime.id,key:y.key,message:y.message})}catch(x){throw new Ee.AlertNamedError(rt.DatabaseLoad,x)}}),this.elements.loading.remove()},this.changeTab=s=>{if(s.key===Jn.PREVIEW){const u=s.message;this.elements.preview.srcdoc=u,this.elements.editor.style.transition="z-index 0.3s ease",this.elements.preview.style.transition="z-index 0.3s ease",this.elements.editor.style.zIndex="0",this.elements.preview.style.zIndex="10",this.elements.preview.style.opacity="1",this.elements.preview.focus()}else this.elements.editor.style.zIndex="10",this.elements.preview.style.zIndex="0",this.elements.preview.style.opacity="0"},this.saveEditorData=async s=>{try{await this.runtimeMessageAgent.sendMessage(rt.DatabaseSave,{runtimeId:chrome.runtime.id,key:s.key,message:s.message})}catch(l){throw new Ee.AlertNamedError(rt.DatabaseSave,l)}},this.saveClipboard=async s=>{try{await navigator.clipboard.writeText(s.message)}catch(l){throw new Ee.AlertNamedError(rt.ClipboardSave,l)}},this.toggleEditor=()=>{if(this.elements.editor.style.display==="none"){this.elements.editor.style.display="block",this.elements.preview.style.display="block";return}this.elements.editor.style.display="none",this.elements.preview.style.display="none"},this.postClipboardRequest=async()=>{this.toggleAnimation(!0),setTimeout(()=>this.toggleAnimation(!1),2e3);try{const s=Ee.assertNotNull(this.elements.editor.contentWindow);await this.windowMessageAgent.postMessage(s,Ee.EXT_ORIGIN,rt.ClipboardSave,{runtimeId:chrome.runtime.id,message:""})}catch(s){throw new Ee.AlertNamedError(rt.ClipboardSave,s)}},this.postTabUpdateRequest=async s=>{const l=td(s);if(!l)return;const u=X0(l);if(u)try{const v=Ee.assertNotNull(this.elements.editor.contentWindow);await this.windowMessageAgent.postMessage(v,Ee.EXT_ORIGIN,rt.TabUpdate,{runtimeId:chrome.runtime.id,key:u,message:l.textContent??""})}catch(v){throw new Ee.AlertNamedError(rt.TabUpdate,v)}},this.toggleAnimation=s=>{const l=(v,f)=>v.style.display=f,u=s?["none","none","inline","none","inline"]:["inline","inline","none","inline","none"];[this.elements.copyPath,this.elements.copyRect,this.elements.copyPolyline,this.elements.copyTextBefore,this.elements.copyTextAfter].forEach((v,f)=>{l(v,u[f])})},this.intaractionSetting=()=>{const s=()=>{this.elements.editor.style.pointerEvents="none",this.elements.preview.style.pointerEvents="none"},l=()=>{this.elements.editor.style.pointerEvents="auto",this.elements.preview.style.pointerEvents="auto"};nd(this.elements.header,this.elements.wrap,s,l),id(this.elements.wrap,s,l)},this.intaractionSetting()}};ua=sd([jr(),la(0,Sr("EditorElementsMap")),la(1,Sr("RuntimeMessageAgent")),la(2,Sr("WindowMessageAgent"))],ua);const Vr="HTMLPreviewCreaterMyClass",ld=(a,r,o)=>new ud(a,r,o);class ud{constructor(r,o,s){this.wrapDiv=fd(),this.previewDiv=dd(r),this.previewFrame=vd(o,s),this.previewFrameLoadSetting(),this.wrapDiv.appendChild(this.previewDiv),this.previewDiv.appendChild(this.previewFrame)}previewFrameLoadSetting(){this.previewFrame.addEventListener("load",()=>{if(this.previewFrame.contentWindow===null||!(this.previewFrame instanceof HTMLIFrameElement)||!(this.previewFrame.parentElement instanceof HTMLDivElement)||!(this.previewFrame.parentElement.parentElement instanceof HTMLDivElement))return;let r=Ee.documentHeight(this.previewFrame.contentWindow.document);r===0&&(r=600),this.previewFrame.style.height=r+"px";const o=Ee.totalHeight(this.previewFrame.parentElement)-this.previewFrame.offsetHeight,s=Ee.maxZIndex(this.previewFrame.parentElement.parentElement)+1;this.previewFrame.parentElement.style.zIndex=s.toString(),this.previewFrame.parentElement.parentElement.style.paddingBottom=r+o+"px",Array.from(this.previewFrame.parentElement.parentElement.children).forEach(l=>{!(l instanceof HTMLElement)||l.style.zIndex===s.toString()||l.remove()})})}}function fd(){const a=document.createElement("div");return a.style.position="relative",a.classList.add(Vr),a.style.width="100%",a.style.zIndex="0",a.style.transition="height 0.8s",a}function dd(a){const r=a.cloneNode(!0);return r.style.marginBottom="0",r.style.position="absolute",r.style.top="0",r.style.left="0",r.style.width="100%",r.style.height="100%",r.style.backgroundColor="rgb(0, 0, 0)",r.classList.add(Vr),Array.from(r.children).slice(1).forEach(o=>o.outerHTML=""),pd(r),r}function pd(a){const r=a.firstChild;r instanceof HTMLDivElement&&(r.textContent="preview",Array.from(r.children).slice(1).forEach(o=>o.outerHTML=""))}function vd(a,r){const o=document.createElement("iframe");return o.style.height="0",o.scrolling="no",o.style.width="100%",o.setAttribute("loading","lazy"),o.setAttribute("sandbox","allow-same-origin "+(a?"allow-scripts":"")),o.srcdoc=r,o}var hd=Object.defineProperty,gd=Object.getOwnPropertyDescriptor,yd=(a,r,o,s)=>{for(var l=s>1?void 0:s?gd(r,o):r,u=a.length-1,v;u>=0;u--)(v=a[u])&&(l=(s?v(r,o,l):v(l))||l);return s&&l&&hd(r,o,l),l},xd=(a,r)=>(o,s)=>r(o,s,a);let fa=class{constructor(a){this.runtimeMessageAgent=a,this.codeBlockStarted=!1,this.codeBlockEnded=!1,this.intersectionObserver=new IntersectionObserver(r=>{r.forEach(o=>{o.target instanceof HTMLElement&&(o.isIntersecting?this.renderHtmlPreview(o.target):this.removeHtmlPreview(o.target))})},{root:null,rootMargin:"0px",threshold:0}),this.mutationObserver=new MutationObserver(r=>{this.checkMutationAndRserveObserve(r)}),Ee.reserveLoadedAction(document,()=>{this.mutationObserver.observe(document.body,{childList:!0,subtree:!0}),this.reserveObeserve(),this.runtimeMessageAgent.addListener(rt.URLUpdated,async()=>{this.codeBlockStarted=!1,this.codeBlockEnded=!1,this.reserveObeserve()})})}renderHtmlPreview(a){var v;const r=U0(a);if(!(r instanceof HTMLDivElement)||!(r.parentElement instanceof HTMLPreElement))return;const o=(v=r==null?void 0:r.parentElement)==null?void 0:v.querySelector("."+Vr),s=Ee.htmlTextToHtmlElement(a.textContent??""),l=this.codeBlockEnded===!0||this.codeBlockStarted===!1;if(o&&this.codeBlockEnded!==!0){this.codeBlockEnded=!1;const f=o.querySelector("iframe");if(!(f instanceof HTMLIFrameElement)||f&&f.srcdoc===s.outerHTML)return}this.codeBlockEnded=!1,r.parentElement.style.overflowY="hidden";const u=ld(r,l,s.outerHTML);o?o.appendChild(u.previewDiv):r.parentElement.appendChild(u.wrapDiv)}removeHtmlPreview(a){var s;const r=U0(a),o=(s=r==null?void 0:r.parentElement)==null?void 0:s.querySelector("."+Vr);!o||Ee.isInView(window,o)||o.remove()}checkMutationAndRserveObserve(a){const o=a.flatMap(u=>Array.from(u.addedNodes)).filter(u=>u instanceof HTMLElement&&u.nodeName!=="BUTTON").map(u=>u);if(o.length===0)return;const s=o.map(u=>u.outerHTML??"").join();if(s.includes(Vr))return;if(s.includes('<span class="hljs')){const u=s.includes('<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span>');this.codeBlockStarted=!u,this.codeBlockEnded=u,this.reserveObeserve()}else this.codeBlockStarted&&(this.codeBlockStarted=!1,this.codeBlockEnded=!0,this.reserveObeserve())}async showHTMLWindow(a){const r=Ee.findParentPreElement(a);if(!r)return;const o=r.querySelector("."+Jn.HTML);o&&await this.runtimeMessageAgent.sendMessage(rt.ShowPreview,{runtimeId:chrome.runtime.id,message:o.textContent??""})}reserveObeserve(){this.intersectionObserver.disconnect(),Qf(()=>{this.setFormZIndex(),this.addClickListenerNewChatButton(),this.observeIntersectionTarget()})}setFormZIndex(){const a=Jf();a&&(a.style.zIndex="2147483647")}addClickListenerNewChatButton(){const a=ed();a&&a.addEventListener("click",()=>{this.reserveObeserve()})}async observeIntersectionTarget(){await new Promise(a=>{window.requestIdleCallback(()=>{this.intersectionObserver.disconnect(),document.body.querySelectorAll("."+Jn.HTML).forEach(o=>{this.intersectionObserver.observe(o)}),a()},{timeout:3e3})})}};fa=yd([jr(),xd(0,Sr("RuntimeMessageAgent"))],fa),Ee.initializeDIContainer({allowedOrigins:[Ee.EXT_ORIGIN,Kf]}),Fe.resolve("ErrorObserver").observe(),Ee.reserveLoadedAction(document,async()=>{await md(),await bd()});async function md(){const a="editor-element.css",r=await Ee.loadResourceText(a);Ee.appendStyleTextToHead(document.body,r);const o="chat-gpt-styles.html",s=await Ee.loadResourceText(o);Ee.htmlTextToHtmlElement(s).querySelectorAll("link, style").forEach(x=>{x instanceof HTMLElement&&Ee.appendElementToHead(document.body,x)});const v="editor-element.html",f=new Ee.ElementLoader(cd);await f.loadFromURL(v);const b="code-editor-tabs.html";f.elements.editor.src=chrome.runtime.getURL(b),Fe.registerInstance("EditorElementsMap",f.elements),Fe.registerSingleton("EditorElement",ua),Fe.resolve("EditorElement").initialize(b),document.body.appendChild(f.elements.wrap)}async function bd(){Fe.registerSingleton("HTMLPreview",fa),Fe.resolve("HTMLPreview")}})();
